var v1=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var yC=v1((xC,gc)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function l_(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var s=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return i[r]}})}),t}var dp={exports:{}},ec={},fp={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function _1(){if(Py)return lt;Py=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function P(R,U,X){this.props=R,this.context=U,this.refs=I,this.updater=X||b}P.prototype.isReactComponent={},P.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=P.prototype;function z(R,U,X){this.props=R,this.context=U,this.refs=I,this.updater=X||b}var F=z.prototype=new k;F.constructor=z,A(F,P.prototype),F.isPureReactComponent=!0;var W=Array.isArray,L=Object.prototype.hasOwnProperty,K={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function J(R,U,X){var ie,ue={},pe=null,_e=null;if(U!=null)for(ie in U.ref!==void 0&&(_e=U.ref),U.key!==void 0&&(pe=""+U.key),U)L.call(U,ie)&&!N.hasOwnProperty(ie)&&(ue[ie]=U[ie]);var be=arguments.length-2;if(be===1)ue.children=X;else if(1<be){for(var Re=Array(be),ye=0;ye<be;ye++)Re[ye]=arguments[ye+2];ue.children=Re}if(R&&R.defaultProps)for(ie in be=R.defaultProps,be)ue[ie]===void 0&&(ue[ie]=be[ie]);return{$$typeof:i,type:R,key:pe,ref:_e,props:ue,_owner:K.current}}function ce(R,U){return{$$typeof:i,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function fe(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function Pe(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return U[X]})}var Q=/\/+/g;function Z(R,U){return typeof R=="object"&&R!==null&&R.key!=null?Pe(""+R.key):U.toString(36)}function le(R,U,X,ie,ue){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case i:case e:_e=!0}}if(_e)return _e=R,ue=ue(_e),R=ie===""?"."+Z(_e,0):ie,W(ue)?(X="",R!=null&&(X=R.replace(Q,"$&/")+"/"),le(ue,U,X,"",function(ye){return ye})):ue!=null&&(fe(ue)&&(ue=ce(ue,X+(!ue.key||_e&&_e.key===ue.key?"":(""+ue.key).replace(Q,"$&/")+"/")+R)),U.push(ue)),1;if(_e=0,ie=ie===""?".":ie+":",W(R))for(var be=0;be<R.length;be++){pe=R[be];var Re=ie+Z(pe,be);_e+=le(pe,U,X,Re,ue)}else if(Re=S(R),typeof Re=="function")for(R=Re.call(R),be=0;!(pe=R.next()).done;)pe=pe.value,Re=ie+Z(pe,be++),_e+=le(pe,U,X,Re,ue);else if(pe==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return _e}function Te(R,U,X){if(R==null)return R;var ie=[],ue=0;return le(R,ie,"","",function(pe){return U.call(X,pe,ue++)}),ie}function B(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var G={current:null},C={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:C,ReactCurrentOwner:K};function D(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Te,forEach:function(R,U,X){Te(R,function(){U.apply(this,arguments)},X)},count:function(R){var U=0;return Te(R,function(){U++}),U},toArray:function(R){return Te(R,function(U){return U})||[]},only:function(R){if(!fe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},lt.Component=P,lt.Fragment=t,lt.Profiler=s,lt.PureComponent=z,lt.StrictMode=r,lt.Suspense=m,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,lt.act=D,lt.cloneElement=function(R,U,X){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ie=A({},R.props),ue=R.key,pe=R.ref,_e=R._owner;if(U!=null){if(U.ref!==void 0&&(pe=U.ref,_e=K.current),U.key!==void 0&&(ue=""+U.key),R.type&&R.type.defaultProps)var be=R.type.defaultProps;for(Re in U)L.call(U,Re)&&!N.hasOwnProperty(Re)&&(ie[Re]=U[Re]===void 0&&be!==void 0?be[Re]:U[Re])}var Re=arguments.length-2;if(Re===1)ie.children=X;else if(1<Re){be=Array(Re);for(var ye=0;ye<Re;ye++)be[ye]=arguments[ye+2];ie.children=be}return{$$typeof:i,type:R.type,key:ue,ref:pe,props:ie,_owner:_e}},lt.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},lt.createElement=J,lt.createFactory=function(R){var U=J.bind(null,R);return U.type=R,U},lt.createRef=function(){return{current:null}},lt.forwardRef=function(R){return{$$typeof:d,render:R}},lt.isValidElement=fe,lt.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:B}},lt.memo=function(R,U){return{$$typeof:g,type:R,compare:U===void 0?null:U}},lt.startTransition=function(R){var U=C.transition;C.transition={};try{R()}finally{C.transition=U}},lt.unstable_act=D,lt.useCallback=function(R,U){return G.current.useCallback(R,U)},lt.useContext=function(R){return G.current.useContext(R)},lt.useDebugValue=function(){},lt.useDeferredValue=function(R){return G.current.useDeferredValue(R)},lt.useEffect=function(R,U){return G.current.useEffect(R,U)},lt.useId=function(){return G.current.useId()},lt.useImperativeHandle=function(R,U,X){return G.current.useImperativeHandle(R,U,X)},lt.useInsertionEffect=function(R,U){return G.current.useInsertionEffect(R,U)},lt.useLayoutEffect=function(R,U){return G.current.useLayoutEffect(R,U)},lt.useMemo=function(R,U){return G.current.useMemo(R,U)},lt.useReducer=function(R,U,X){return G.current.useReducer(R,U,X)},lt.useRef=function(R){return G.current.useRef(R)},lt.useState=function(R){return G.current.useState(R)},lt.useSyncExternalStore=function(R,U,X){return G.current.useSyncExternalStore(R,U,X)},lt.useTransition=function(){return G.current.useTransition()},lt.version="18.3.1",lt}var Ry;function Og(){return Ry||(Ry=1,fp.exports=_1()),fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function x1(){if(Iy)return ec;Iy=1;var i=Og(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,m,g){var _,w={},S=null,b=null;g!==void 0&&(S=""+g),m.key!==void 0&&(S=""+m.key),m.ref!==void 0&&(b=m.ref);for(_ in m)r.call(m,_)&&!a.hasOwnProperty(_)&&(w[_]=m[_]);if(d&&d.defaultProps)for(_ in m=d.defaultProps,m)w[_]===void 0&&(w[_]=m[_]);return{$$typeof:e,type:d,key:S,ref:b,props:w,_owner:s.current}}return ec.Fragment=t,ec.jsx=c,ec.jsxs=c,ec}var My;function w1(){return My||(My=1,dp.exports=x1()),dp.exports}var Gt=w1(),Lt=Og();const Cs=bc(Lt);var pd={},pp={exports:{}},Fn={},mp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function E1(){return ky||(ky=1,function(i){function e(C,H){var D=C.length;C.push(H);e:for(;0<D;){var R=D-1>>>1,U=C[R];if(0<s(U,H))C[R]=H,C[D]=U,D=R;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],D=C.pop();if(D!==H){C[0]=D;e:for(var R=0,U=C.length,X=U>>>1;R<X;){var ie=2*(R+1)-1,ue=C[ie],pe=ie+1,_e=C[pe];if(0>s(ue,D))pe<U&&0>s(_e,ue)?(C[R]=_e,C[pe]=D,R=pe):(C[R]=ue,C[ie]=D,R=ie);else if(pe<U&&0>s(_e,D))C[R]=_e,C[pe]=D,R=pe;else break e}}return H}function s(C,H){var D=C.sortIndex-H.sortIndex;return D!==0?D:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,S=3,b=!1,A=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else if(H.startTime<=C)r(g),H.sortIndex=H.expirationTime,e(m,H);else break;H=t(g)}}function W(C){if(I=!1,F(C),!A)if(t(m)!==null)A=!0,B(L);else{var H=t(g);H!==null&&G(W,H.startTime-C)}}function L(C,H){A=!1,I&&(I=!1,k(J),J=-1),b=!0;var D=S;try{for(F(H),w=t(m);w!==null&&(!(w.expirationTime>H)||C&&!Pe());){var R=w.callback;if(typeof R=="function"){w.callback=null,S=w.priorityLevel;var U=R(w.expirationTime<=H);H=i.unstable_now(),typeof U=="function"?w.callback=U:w===t(m)&&r(m),F(H)}else r(m);w=t(m)}if(w!==null)var X=!0;else{var ie=t(g);ie!==null&&G(W,ie.startTime-H),X=!1}return X}finally{w=null,S=D,b=!1}}var K=!1,N=null,J=-1,ce=5,fe=-1;function Pe(){return!(i.unstable_now()-fe<ce)}function Q(){if(N!==null){var C=i.unstable_now();fe=C;var H=!0;try{H=N(!0,C)}finally{H?Z():(K=!1,N=null)}}else K=!1}var Z;if(typeof z=="function")Z=function(){z(Q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=Q,Z=function(){Te.postMessage(null)}}else Z=function(){P(Q,0)};function B(C){N=C,K||(K=!0,Z())}function G(C,H){J=P(function(){C(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){A||b||(A=!0,B(L))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var D=S;S=H;try{return C()}finally{S=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=S;S=C;try{return H()}finally{S=D}},i.unstable_scheduleCallback=function(C,H,D){var R=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?R+D:R):D=R,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=D+U,C={id:_++,callback:H,priorityLevel:C,startTime:D,expirationTime:U,sortIndex:-1},D>R?(C.sortIndex=D,e(g,C),t(m)===null&&C===t(g)&&(I?(k(J),J=-1):I=!0,G(W,D-R))):(C.sortIndex=U,e(m,C),A||b||(A=!0,B(L))),C},i.unstable_shouldYield=Pe,i.unstable_wrapCallback=function(C){var H=S;return function(){var D=S;S=H;try{return C.apply(this,arguments)}finally{S=D}}}}(gp)),gp}var Dy;function S1(){return Dy||(Dy=1,mp.exports=E1()),mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function b1(){if(Ny)return Fn;Ny=1;var i=Og(),e=S1();function t(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(n,o){c(n,o),c(n+"Capture",o)}function c(n,o){for(s[n]=o,n=0;n<o.length;n++)r.add(o[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(n){return m.call(w,n)?!0:m.call(_,n)?!1:g.test(n)?w[n]=!0:(_[n]=!0,!1)}function b(n,o,h,f){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,o,h,f){if(o===null||typeof o>"u"||b(n,o,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(n,o,h,f,y,E,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=n,this.type=o,this.sanitizeURL=E,this.removeEmptyString=M}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new I(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];P[o]=new I(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new I(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new I(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new I(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new I(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new I(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new I(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new I(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(k,z);P[o]=new I(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(k,z);P[o]=new I(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(k,z);P[o]=new I(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new I(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new I(n,1,!1,n.toLowerCase(),null,!0,!0)});function F(n,o,h,f){var y=P.hasOwnProperty(o)?P[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,h,y,f)&&(h=null),f||y===null?S(o)&&(h===null?n.removeAttribute(o):n.setAttribute(o,""+h)):y.mustUseProperty?n[y.propertyName]=h===null?y.type===3?!1:"":h:(o=y.attributeName,f=y.attributeNamespace,h===null?n.removeAttribute(o):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,f?n.setAttributeNS(f,o,h):n.setAttribute(o,h))))}var W=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),K=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),C=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=C&&n[C]||n["@@iterator"],typeof n=="function"?n:null)}var D=Object.assign,R;function U(n){if(R===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);R=o&&o[1]||""}return`
`+R+n}var X=!1;function ie(n,o){if(!n||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(oe){var f=oe}Reflect.construct(n,[],o)}else{try{o.call()}catch(oe){f=oe}n.call(o.prototype)}else{try{throw Error()}catch(oe){f=oe}n()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),E=f.stack.split(`
`),M=y.length-1,j=E.length-1;1<=M&&0<=j&&y[M]!==E[j];)j--;for(;1<=M&&0<=j;M--,j--)if(y[M]!==E[j]){if(M!==1||j!==1)do if(M--,j--,0>j||y[M]!==E[j]){var $=`
`+y[M].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=M&&0<=j);break}}}finally{X=!1,Error.prepareStackTrace=h}return(n=n?n.displayName||n.name:"")?U(n):""}function ue(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=ie(n.type,!1),n;case 11:return n=ie(n.type.render,!1),n;case 1:return n=ie(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case K:return"Portal";case ce:return"Profiler";case J:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pe:return(n.displayName||"Context")+".Consumer";case fe:return(n._context.displayName||"Context")+".Provider";case Q:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Te:return o=n.displayName||null,o!==null?o:pe(n.type)||"Memo";case B:o=n._payload,n=n._init;try{return pe(n(o))}catch{}}return null}function _e(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ye(n){var o=Re(n)?"checked":"value",h=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),f=""+n[o];if(!n.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,E=h.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return y.call(this)},set:function(M){f=""+M,E.call(this,M)}}),Object.defineProperty(n,o,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Me(n){n._valueTracker||(n._valueTracker=ye(n))}function Ue(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var h=o.getValue(),f="";return n&&(f=Re(n)?n.checked?"true":"false":n.value),n=f,n!==h?(o.setValue(n),!0):!1}function We(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function at(n,o){var h=o.checked;return D({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??n._wrapperState.initialChecked})}function He(n,o){var h=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;h=be(o.value!=null?o.value:h),n._wrapperState={initialChecked:f,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $e(n,o){o=o.checked,o!=null&&F(n,"checked",o,!1)}function Mt(n,o){$e(n,o);var h=be(o.value),f=o.type;if(h!=null)f==="number"?(h===0&&n.value===""||n.value!=h)&&(n.value=""+h):n.value!==""+h&&(n.value=""+h);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?ti(n,o.type,h):o.hasOwnProperty("defaultValue")&&ti(n,o.type,be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function jt(n,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,h||o===n.value||(n.value=o),n.defaultValue=o}h=n.name,h!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,h!==""&&(n.name=h)}function ti(n,o,h){(o!=="number"||We(n.ownerDocument)!==n)&&(h==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+h&&(n.defaultValue=""+h))}var fr=Array.isArray;function pr(n,o,h,f){if(n=n.options,o){o={};for(var y=0;y<h.length;y++)o["$"+h[y]]=!0;for(h=0;h<n.length;h++)y=o.hasOwnProperty("$"+n[h].value),n[h].selected!==y&&(n[h].selected=y),y&&f&&(n[h].defaultSelected=!0)}else{for(h=""+be(h),o=null,y=0;y<n.length;y++){if(n[y].value===h){n[y].selected=!0,f&&(n[y].defaultSelected=!0);return}o!==null||n[y].disabled||(o=n[y])}o!==null&&(o.selected=!0)}}function ri(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return D({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function yi(n,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(t(92));if(fr(h)){if(1<h.length)throw Error(t(93));h=h[0]}o=h}o==null&&(o=""),h=o}n._wrapperState={initialValue:be(h)}}function tn(n,o){var h=be(o.value),f=be(o.defaultValue);h!=null&&(h=""+h,h!==n.value&&(n.value=h),o.defaultValue==null&&n.defaultValue!==h&&(n.defaultValue=h)),f!=null&&(n.defaultValue=""+f)}function Ll(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Ul(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yo(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Ul(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vo,Ki=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,f,y){MSApp.execUnsafeLocalFunction(function(){return n(o,h,f,y)})}:n}(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(vo=vo||document.createElement("div"),vo.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vo.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function vi(n,o){if(o){var h=n.firstChild;if(h&&h===n.lastChild&&h.nodeType===3){h.nodeValue=o;return}}n.textContent=o}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},th=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(n){th.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Zi[o]=Zi[n]})});function zl(n,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||Zi.hasOwnProperty(n)&&Zi[n]?(""+o).trim():o+"px"}function _o(n,o){n=n.style;for(var h in o)if(o.hasOwnProperty(h)){var f=h.indexOf("--")===0,y=zl(h,o[h],f);h==="float"&&(h="cssFloat"),f?n.setProperty(h,y):n[h]=y}}var xo=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(n,o){if(o){if(xo[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function se(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ut=null;function _t(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Et=null,tt=null,Fr=null;function ni(n){if(n=Xo(n)){if(typeof Et!="function")throw Error(t(280));var o=n.stateNode;o&&(o=Yo(o),Et(n.stateNode,n.type,o))}}function vr(n){tt?Fr?Fr.push(n):Fr=[n]:tt=n}function mn(){if(tt){var n=tt,o=Fr;if(Fr=tt=null,ni(n),o)for(n=0;n<o.length;n++)ni(o[n])}}function wo(n,o){return n(o)}function Un(){}var Tr=!1;function Eo(n,o,h){if(Tr)return n(o,h);Tr=!0;try{return wo(n,o,h)}finally{Tr=!1,(tt!==null||Fr!==null)&&(Un(),mn())}}function Ji(n,o){var h=n.stateNode;if(h===null)return null;var f=Yo(h);if(f===null)return null;h=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(h&&typeof h!="function")throw Error(t(231,o,typeof h));return h}var So=!1;if(d)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){So=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{So=!1}function bo(n,o,h,f,y,E,M,j,$){var oe=Array.prototype.slice.call(arguments,3);try{o.apply(h,oe)}catch(xe){this.onError(xe)}}var gn=!1,es=null,ts=!1,_i=null,Gl={onError:function(n){gn=!0,es=n}};function ba(n,o,h,f,y,E,M,j,$){gn=!1,es=null,bo.apply(Gl,arguments)}function Hl(n,o,h,f,y,E,M,j,$){if(ba.apply(this,arguments),gn){if(gn){var oe=es;gn=!1,es=null}else throw Error(t(198));ts||(ts=!0,_i=oe)}}function Gn(n){var o=n,h=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(h=o.return),n=o.return;while(n)}return o.tag===3?h:null}function Ta(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function jl(n){if(Gn(n)!==n)throw Error(t(188))}function Aa(n){var o=n.alternate;if(!o){if(o=Gn(n),o===null)throw Error(t(188));return o!==n?null:n}for(var h=n,f=o;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return jl(y),n;if(E===f)return jl(y),o;E=E.sibling}throw Error(t(188))}if(h.return!==f.return)h=y,f=E;else{for(var M=!1,j=y.child;j;){if(j===h){M=!0,h=y,f=E;break}if(j===f){M=!0,f=y,h=E;break}j=j.sibling}if(!M){for(j=E.child;j;){if(j===h){M=!0,h=E,f=y;break}if(j===f){M=!0,f=E,h=y;break}j=j.sibling}if(!M)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?n:o}function xi(n){return n=Aa(n),n!==null?Os(n):null}function Os(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=Os(n);if(o!==null)return o;n=n.sibling}return null}var Wl=e.unstable_scheduleCallback,Ca=e.unstable_cancelCallback,Pf=e.unstable_shouldYield,Rf=e.unstable_requestPaint,Yt=e.unstable_now,Pa=e.unstable_getCurrentPriorityLevel,Ra=e.unstable_ImmediatePriority,$l=e.unstable_UserBlockingPriority,Vl=e.unstable_NormalPriority,rh=e.unstable_LowPriority,Fs=e.unstable_IdlePriority,Hn=null,ft=null;function At(n){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:Bs,Ar=Math.log,Wr=Math.LN2;function Bs(n){return n>>>=0,n===0?32:31-(Ar(n)/Wr|0)|0}var wi=64,Cr=4194304;function Ls(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ia(n,o){var h=n.pendingLanes;if(h===0)return 0;var f=0,y=n.suspendedLanes,E=n.pingedLanes,M=h&268435455;if(M!==0){var j=M&~y;j!==0?f=Ls(j):(E&=M,E!==0&&(f=Ls(E)))}else M=h&~y,M!==0?f=Ls(M):E!==0&&(f=Ls(E));if(f===0)return 0;if(o!==0&&o!==f&&(o&y)===0&&(y=f&-f,E=o&-o,y>=E||y===16&&(E&4194240)!==0))return o;if((f&4)!==0&&(f|=h&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=f;0<o;)h=31-mr(o),y=1<<h,f|=n[h],o&=~y;return f}function Pc(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(n,o){for(var h=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,E=n.pendingLanes;0<E;){var M=31-mr(E),j=1<<M,$=y[M];$===-1?((j&h)===0||(j&f)!==0)&&(y[M]=Pc(j,o)):$<=o&&(n.expiredLanes|=j),E&=~j}}function Yl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yn(){var n=wi;return wi<<=1,(wi&4194240)===0&&(wi=64),n}function nh(n){for(var o=[],h=0;31>h;h++)o.push(n);return o}function Ma(n,o,h){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-mr(o),n[o]=h}function ih(n,o){var h=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<h;){var y=31-mr(h),E=1<<y;o[y]=0,f[y]=-1,n[y]=-1,h&=~E}}function ka(n,o){var h=n.entangledLanes|=o;for(n=n.entanglements;h;){var f=31-mr(h),y=1<<f;y&o|n[f]&o&&(n[f]|=o),h&=~y}}var pt=0;function Da(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Rc,Na,sh,ql,To,Oa=!1,ht=[],Ei=null,ii=null,Si=null,Fa=new Map,Ba=new Map,kt=[],oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ic(n,o){switch(n){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Fa.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(o.pointerId)}}function Ao(n,o,h,f,y,E){return n===null||n.nativeEvent!==E?(n={blockedOn:o,domEventName:h,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},o!==null&&(o=Xo(o),o!==null&&Na(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),n)}function If(n,o,h,f,y){switch(o){case"focusin":return Ei=Ao(Ei,n,o,h,f,y),!0;case"dragenter":return ii=Ao(ii,n,o,h,f,y),!0;case"mouseover":return Si=Ao(Si,n,o,h,f,y),!0;case"pointerover":var E=y.pointerId;return Fa.set(E,Ao(Fa.get(E)||null,n,o,h,f,y)),!0;case"gotpointercapture":return E=y.pointerId,Ba.set(E,Ao(Ba.get(E)||null,n,o,h,f,y)),!0}return!1}function La(n){var o=cs(n.target);if(o!==null){var h=Gn(o);if(h!==null){if(o=h.tag,o===13){if(o=Ta(h),o!==null){n.blockedOn=o,To(n.priority,function(){sh(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){n.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rn(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var h=$r(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(h===null){h=n.nativeEvent;var f=new h.constructor(h.type,h);ut=f,h.target.dispatchEvent(f),ut=null}else return o=Xo(h),o!==null&&Na(o),n.blockedOn=h,!1;o.shift()}return!0}function vn(n,o,h){rn(n)&&h.delete(o)}function bi(){Oa=!1,Ei!==null&&rn(Ei)&&(Ei=null),ii!==null&&rn(ii)&&(ii=null),Si!==null&&rn(Si)&&(Si=null),Fa.forEach(vn),Ba.forEach(vn)}function rs(n,o){n.blockedOn===o&&(n.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bi)))}function Us(n){function o(y){return rs(y,n)}if(0<ht.length){rs(ht[0],n);for(var h=1;h<ht.length;h++){var f=ht[h];f.blockedOn===n&&(f.blockedOn=null)}}for(Ei!==null&&rs(Ei,n),ii!==null&&rs(ii,n),Si!==null&&rs(Si,n),Fa.forEach(o),Ba.forEach(o),h=0;h<kt.length;h++)f=kt[h],f.blockedOn===n&&(f.blockedOn=null);for(;0<kt.length&&(h=kt[0],h.blockedOn===null);)La(h),h.blockedOn===null&&kt.shift()}var zs=W.ReactCurrentBatchConfig,nn=!0;function Co(n,o,h,f){var y=pt,E=zs.transition;zs.transition=null;try{pt=1,Ro(n,o,h,f)}finally{pt=y,zs.transition=E}}function Po(n,o,h,f){var y=pt,E=zs.transition;zs.transition=null;try{pt=4,Ro(n,o,h,f)}finally{pt=y,zs.transition=E}}function Ro(n,o,h,f){if(nn){var y=$r(n,o,h,f);if(y===null)mu(n,o,f,Gs,h),Ic(n,f);else if(If(y,n,o,h,f))f.stopPropagation();else if(Ic(n,f),o&4&&-1<oh.indexOf(n)){for(;y!==null;){var E=Xo(y);if(E!==null&&Rc(E),E=$r(n,o,h,f),E===null&&mu(n,o,f,Gs,h),E===y)break;y=E}y!==null&&f.stopPropagation()}else mu(n,o,f,null,h)}}var Gs=null;function $r(n,o,h,f){if(Gs=null,n=_t(f),n=cs(n),n!==null)if(o=Gn(n),o===null)n=null;else if(h=o.tag,h===13){if(n=Ta(o),n!==null)return n;n=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Gs=n,null}function sn(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pa()){case Ra:return 1;case $l:return 4;case Vl:case rh:return 16;case Fs:return 536870912;default:return 16}default:return 16}}var Vr=null,_n=null,xn=null;function ns(){if(xn)return xn;var n,o=_n,h=o.length,f,y="value"in Vr?Vr.value:Vr.textContent,E=y.length;for(n=0;n<h&&o[n]===y[n];n++);var M=h-n;for(f=1;f<=M&&o[h-f]===y[E-f];f++);return xn=y.slice(n,1<f?1-f:void 0)}function Ua(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Io(){return!0}function Ql(){return!1}function Dt(n){function o(h,f,y,E,M){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(h=n[j],this[j]=h?h(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Io:Ql,this.isPropagationStopped=Ql,this}return D(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),o}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ct=Dt(_r),Ti=D({},_r,{view:0,detail:0}),jn=Dt(Ti),Kl,Zl,Hs,Mo=D({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hs&&(Hs&&n.type==="mousemove"?(Kl=n.screenX-Hs.screenX,Zl=n.screenY-Hs.screenY):Zl=Kl=0,Hs=n),Kl)},movementY:function(n){return"movementY"in n?n.movementY:Zl}}),ah=Dt(Mo),Jl=D({},Mo,{dataTransfer:0}),Mc=Dt(Jl),ko=D({},Ti,{relatedTarget:0}),za=Dt(ko),Mf=D({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=Dt(Mf),kf=D({},_r,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wn=Dt(kf),tu=D({},_r,{data:0}),Ga=Dt(tu),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=uh[n])?!!o[n]:!1}function Ha(){return kc}var hh=D({},Ti,{key:function(n){if(n.key){var o=Do[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Ua(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(n){return n.type==="keypress"?Ua(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ua(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),No=Dt(hh),wn=D({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=Dt(wn),ch=D({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Dc=Dt(ch),si=D({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),ss=Dt(si),dh=D({},Mo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Nc=Dt(dh),Ai=[9,13,27,32],oi=d&&"CompositionEvent"in window,os=null;d&&"documentMode"in document&&(os=document.documentMode);var Oc=d&&"TextEvent"in window&&!os,ja=d&&(!oi||os&&8<os&&11>=os),fh=" ",ph=!1;function ru(n,o){switch(n){case"keyup":return Ai.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var js=!1;function Fc(n,o){switch(n){case"compositionend":return Wa(o);case"keypress":return o.which!==32?null:(ph=!0,fh);case"textInput":return n=o.data,n===fh&&ph?null:n;default:return null}}function Bc(n,o){if(js)return n==="compositionend"||!oi&&ru(n,o)?(n=ns(),xn=_n=Vr=null,js=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ja&&o.locale!=="ko"?null:o.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oo(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!mh[n.type]:o==="textarea"}function $a(n,o,h,f){vr(f),o=Za(o,"onChange"),0<o.length&&(h=new Ct("onChange","change",null,h,f),n.push({event:h,listeners:o}))}var Fo=null,Bo=null;function Lo(n){du(n,0)}function Va(n){var o=Xs(n);if(Ue(o))return n}function Xa(n,o){if(n==="change")return o}var on=!1;if(d){var Ws;if(d){var as="oninput"in document;if(!as){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),as=typeof $n.oninput=="function"}Ws=as}else Ws=!1;on=Ws&&(!document.documentMode||9<document.documentMode)}function nu(){Fo&&(Fo.detachEvent("onpropertychange",$s),Bo=Fo=null)}function $s(n){if(n.propertyName==="value"&&Va(Bo)){var o=[];$a(o,Bo,n,_t(n)),Eo(Lo,o)}}function Lc(n,o,h){n==="focusin"?(nu(),Fo=o,Bo=h,Fo.attachEvent("onpropertychange",$s)):n==="focusout"&&nu()}function gh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Va(Bo)}function Wt(n,o){if(n==="click")return Va(o)}function iu(n,o){if(n==="input"||n==="change")return Va(o)}function yh(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var an=typeof Object.is=="function"?Object.is:yh;function ls(n,o){if(an(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var h=Object.keys(n),f=Object.keys(o);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!m.call(o,y)||!an(n[y],o[y]))return!1}return!0}function su(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function us(n,o){var h=su(n);n=0;for(var f;h;){if(h.nodeType===3){if(f=n+h.textContent.length,n<=o&&f>=o)return{node:h,offset:o-n};n=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=su(h)}}function Bt(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Bt(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function or(){for(var n=window,o=We();o instanceof n.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)n=o.contentWindow;else break;o=We(n.document)}return o}function Zt(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function ou(n){var o=or(),h=n.focusedElem,f=n.selectionRange;if(o!==h&&h&&h.ownerDocument&&Bt(h.ownerDocument.documentElement,h)){if(f!==null&&Zt(h)){if(o=f.start,n=f.end,n===void 0&&(n=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(n,h.value.length);else if(n=(o=h.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var y=h.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!n.extend&&E>f&&(y=f,f=E,E=y),y=us(h,E);var M=us(h,f);y&&M&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==M.node||n.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),n.removeAllRanges(),E>f?(n.addRange(o),n.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),n.addRange(o)))}}for(o=[],n=h;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)n=o[h],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ya=d&&"documentMode"in document&&11>=document.documentMode,ai=null,vh=null,Jt=null,qa=!1;function au(n,o,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;qa||ai==null||ai!==We(f)||(f=ai,"selectionStart"in f&&Zt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jt&&ls(Jt,f)||(Jt=f,f=Za(vh,"onSelect"),0<f.length&&(o=new Ct("onSelect","select",null,o,h),n.push({event:o,listeners:f}),o.target=ai)))}function Uo(n,o){var h={};return h[n.toLowerCase()]=o.toLowerCase(),h["Webkit"+n]="webkit"+o,h["Moz"+n]="moz"+o,h}var Br={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},Xr={},zo={};d&&(zo=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Go(n){if(Xr[n])return Xr[n];if(!Br[n])return n;var o=Br[n],h;for(h in o)if(o.hasOwnProperty(h)&&h in zo)return Xr[n]=o[h];return n}var lu=Go("animationend"),_h=Go("animationiteration"),xh=Go("animationstart"),wh=Go("transitionend"),Eh=new Map,Sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(n,o){Eh.set(n,o),a(o,[n])}for(var uu=0;uu<Sh.length;uu++){var hu=Sh[uu],Qa=hu.toLowerCase(),Uc=hu[0].toUpperCase()+hu.slice(1);Ci(Qa,"on"+Uc)}Ci(lu,"onAnimationEnd"),Ci(_h,"onAnimationIteration"),Ci(xh,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(wh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cu=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function bh(n,o,h){var f=n.type||"unknown-event";n.currentTarget=h,Hl(f,o,void 0,n),n.currentTarget=null}function du(n,o){o=(o&4)!==0;for(var h=0;h<n.length;h++){var f=n[h],y=f.event;f=f.listeners;e:{var E=void 0;if(o)for(var M=f.length-1;0<=M;M--){var j=f[M],$=j.instance,oe=j.currentTarget;if(j=j.listener,$!==E&&y.isPropagationStopped())break e;bh(y,j,oe),E=$}else for(M=0;M<f.length;M++){if(j=f[M],$=j.instance,oe=j.currentTarget,j=j.listener,$!==E&&y.isPropagationStopped())break e;bh(y,j,oe),E=$}}}if(ts)throw n=_i,ts=!1,_i=null,n}function Pt(n,o){var h=o[Pr];h===void 0&&(h=o[Pr]=new Set);var f=n+"__bubble";h.has(f)||(pu(o,n,2,!1),h.add(f))}function fu(n,o,h){var f=0;o&&(f|=4),pu(h,n,f,o)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Ho(n){if(!n[Ka]){n[Ka]=!0,r.forEach(function(h){h!=="selectionchange"&&(cu.has(h)||fu(h,!1,n),fu(h,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Ka]||(o[Ka]=!0,fu("selectionchange",!1,o))}}function pu(n,o,h,f){switch(sn(o)){case 1:var y=Co;break;case 4:y=Po;break;default:y=Ro}h=y.bind(null,o,h,n),y=void 0,!So||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?n.addEventListener(o,h,{capture:!0,passive:y}):n.addEventListener(o,h,!0):y!==void 0?n.addEventListener(o,h,{passive:y}):n.addEventListener(o,h,!1)}function mu(n,o,h,f,y){var E=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var j=f.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(M===4)for(M=f.return;M!==null;){var $=M.tag;if(($===3||$===4)&&($=M.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;M=M.return}for(;j!==null;){if(M=cs(j),M===null)return;if($=M.tag,$===5||$===6){f=E=M;continue e}j=j.parentNode}}f=f.return}Eo(function(){var oe=E,xe=_t(h),Ee=[];e:{var ve=Eh.get(n);if(ve!==void 0){var Oe=Ct,Ge=n;switch(n){case"keypress":if(Ua(h)===0)break e;case"keydown":case"keyup":Oe=No;break;case"focusin":Ge="focus",Oe=za;break;case"focusout":Ge="blur",Oe=za;break;case"beforeblur":case"afterblur":Oe=za;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Dc;break;case lu:case _h:case xh:Oe=eu;break;case wh:Oe=ss;break;case"scroll":Oe=jn;break;case"wheel":Oe=Nc;break;case"copy":case"cut":case"paste":Oe=Wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=is}var Ve=(o&4)!==0,hr=!Ve&&n==="scroll",ee=Ve?ve!==null?ve+"Capture":null:ve;Ve=[];for(var Y=oe,ne;Y!==null;){ne=Y;var Ce=ne.stateNode;if(ne.tag===5&&Ce!==null&&(ne=Ce,ee!==null&&(Ce=Ji(Y,ee),Ce!=null&&Ve.push(jo(Y,Ce,ne)))),hr)break;Y=Y.return}0<Ve.length&&(ve=new Oe(ve,Ge,null,h,xe),Ee.push({event:ve,listeners:Ve}))}}if((o&7)===0){e:{if(ve=n==="mouseover"||n==="pointerover",Oe=n==="mouseout"||n==="pointerout",ve&&h!==ut&&(Ge=h.relatedTarget||h.fromElement)&&(cs(Ge)||Ge[$t]))break e;if((Oe||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,Oe?(Ge=h.relatedTarget||h.toElement,Oe=oe,Ge=Ge?cs(Ge):null,Ge!==null&&(hr=Gn(Ge),Ge!==hr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Oe=null,Ge=oe),Oe!==Ge)){if(Ve=ah,Ce="onMouseLeave",ee="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Ve=is,Ce="onPointerLeave",ee="onPointerEnter",Y="pointer"),hr=Oe==null?ve:Xs(Oe),ne=Ge==null?ve:Xs(Ge),ve=new Ve(Ce,Y+"leave",Oe,h,xe),ve.target=hr,ve.relatedTarget=ne,Ce=null,cs(xe)===oe&&(Ve=new Ve(ee,Y+"enter",Ge,h,xe),Ve.target=ne,Ve.relatedTarget=hr,Ce=Ve),hr=Ce,Oe&&Ge)t:{for(Ve=Oe,ee=Ge,Y=0,ne=Ve;ne;ne=Wo(ne))Y++;for(ne=0,Ce=ee;Ce;Ce=Wo(Ce))ne++;for(;0<Y-ne;)Ve=Wo(Ve),Y--;for(;0<ne-Y;)ee=Wo(ee),ne--;for(;Y--;){if(Ve===ee||ee!==null&&Ve===ee.alternate)break t;Ve=Wo(Ve),ee=Wo(ee)}Ve=null}else Ve=null;Oe!==null&&Th(Ee,ve,Oe,Ve,!1),Ge!==null&&hr!==null&&Th(Ee,hr,Ge,Ve,!0)}}e:{if(ve=oe?Xs(oe):window,Oe=ve.nodeName&&ve.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ve.type==="file")var Ye=Xa;else if(Oo(ve))if(on)Ye=iu;else{Ye=gh;var Ze=Lc}else(Oe=ve.nodeName)&&Oe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ye=Wt);if(Ye&&(Ye=Ye(n,oe))){$a(Ee,Ye,h,xe);break e}Ze&&Ze(n,ve,oe),n==="focusout"&&(Ze=ve._wrapperState)&&Ze.controlled&&ve.type==="number"&&ti(ve,"number",ve.value)}switch(Ze=oe?Xs(oe):window,n){case"focusin":(Oo(Ze)||Ze.contentEditable==="true")&&(ai=Ze,vh=oe,Jt=null);break;case"focusout":Jt=vh=ai=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,au(Ee,h,xe);break;case"selectionchange":if(Ya)break;case"keydown":case"keyup":au(Ee,h,xe)}var Je;if(oi)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else js?ru(n,h)&&(rt="onCompositionEnd"):n==="keydown"&&h.keyCode===229&&(rt="onCompositionStart");rt&&(ja&&h.locale!=="ko"&&(js||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&js&&(Je=ns()):(Vr=xe,_n="value"in Vr?Vr.value:Vr.textContent,js=!0)),Ze=Za(oe,rt),0<Ze.length&&(rt=new Ga(rt,n,null,h,xe),Ee.push({event:rt,listeners:Ze}),Je?rt.data=Je:(Je=Wa(h),Je!==null&&(rt.data=Je)))),(Je=Oc?Fc(n,h):Bc(n,h))&&(oe=Za(oe,"onBeforeInput"),0<oe.length&&(xe=new Ga("onBeforeInput","beforeinput",null,h,xe),Ee.push({event:xe,listeners:oe}),xe.data=Je))}du(Ee,o)})}function jo(n,o,h){return{instance:n,listener:o,currentTarget:h}}function Za(n,o){for(var h=o+"Capture",f=[];n!==null;){var y=n,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Ji(n,h),E!=null&&f.unshift(jo(n,E,y)),E=Ji(n,o),E!=null&&f.push(jo(n,E,y))),n=n.return}return f}function Wo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Th(n,o,h,f,y){for(var E=o._reactName,M=[];h!==null&&h!==f;){var j=h,$=j.alternate,oe=j.stateNode;if($!==null&&$===f)break;j.tag===5&&oe!==null&&(j=oe,y?($=Ji(h,E),$!=null&&M.unshift(jo(h,$,j))):y||($=Ji(h,E),$!=null&&M.push(jo(h,$,j)))),h=h.return}M.length!==0&&n.push({event:o,listeners:M})}var Df=/\r\n?/g,Nf=/\u0000|\uFFFD/g;function Ah(n){return(typeof n=="string"?n:""+n).replace(Df,`
`).replace(Nf,"")}function Ja(n,o,h){if(o=Ah(o),Ah(n)!==o&&h)throw Error(t(425))}function el(){}var $o=null,Ch=null;function Ph(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,Vo=typeof clearTimeout=="function"?clearTimeout:void 0,gu=typeof Promise=="function"?Promise:void 0,Ih=typeof queueMicrotask=="function"?queueMicrotask:typeof gu<"u"?function(n){return gu.resolve(null).then(n).catch(Of)}:Rh;function Of(n){setTimeout(function(){throw n})}function yu(n,o){var h=o,f=0;do{var y=h.nextSibling;if(n.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(f===0){n.removeChild(y),Us(o);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=y}while(h);Us(o)}function Pi(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Mh(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var h=n.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return n;o--}else h==="/$"&&o++}n=n.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Vs,tl="__reactProps$"+Vs,$t="__reactContainer$"+Vs,Pr="__reactEvents$"+Vs,zc="__reactListeners$"+Vs,Gc="__reactHandles$"+Vs;function cs(n){var o=n[Vn];if(o)return o;for(var h=n.parentNode;h;){if(o=h[$t]||h[Vn]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(n=Mh(n);n!==null;){if(h=n[Vn])return h;n=Mh(n)}return o}n=h,h=n.parentNode}return null}function Xo(n){return n=n[Vn]||n[$t],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Xs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Yo(n){return n[tl]||null}var vu=[],ds=-1;function Ri(n){return{current:n}}function Rt(n){0>ds||(n.current=vu[ds],vu[ds]=null,ds--)}function xt(n,o){ds++,vu[ds]=n.current,n.current=o}var En={},ar=Ri(En),xr=Ri(!1),Ii=En;function fs(n,o){var h=n.type.contextTypes;if(!h)return En;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in h)y[E]=o[E];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=y),y}function Lr(n){return n=n.childContextTypes,n!=null}function qo(){Rt(xr),Rt(ar)}function rl(n,o,h){if(ar.current!==En)throw Error(t(168));xt(ar,o),xt(xr,h)}function kh(n,o,h){var f=n.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(t(108,_e(n)||"Unknown",y));return D({},h,f)}function Qo(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||En,Ii=ar.current,xt(ar,n),xt(xr,xr.current),!0}function Dh(n,o,h){var f=n.stateNode;if(!f)throw Error(t(169));h?(n=kh(n,o,Ii),f.__reactInternalMemoizedMergedChildContext=n,Rt(xr),Rt(ar),xt(ar,n)):Rt(xr),xt(xr,h)}var Sn=null,bn=!1,Tn=!1;function Nh(n){Sn===null?Sn=[n]:Sn.push(n)}function Hc(n){bn=!0,Nh(n)}function An(){if(!Tn&&Sn!==null){Tn=!0;var n=0,o=pt;try{var h=Sn;for(pt=1;n<h.length;n++){var f=h[n];do f=f(!0);while(f!==null)}Sn=null,bn=!1}catch(y){throw Sn!==null&&(Sn=Sn.slice(n+1)),Wl(Ra,An),y}finally{pt=o,Tn=!1}}return null}var er=[],Ko=0,_u=null,Ys=0,bt=[],Cn=0,Ne=null,Yr=1,li="";function ps(n,o){er[Ko++]=Ys,er[Ko++]=_u,_u=n,Ys=o}function Zo(n,o,h){bt[Cn++]=Yr,bt[Cn++]=li,bt[Cn++]=Ne,Ne=n;var f=Yr;n=li;var y=32-mr(f)-1;f&=~(1<<y),h+=1;var E=32-mr(o)+y;if(30<E){var M=y-y%5;E=(f&(1<<M)-1).toString(32),f>>=M,y-=M,Yr=1<<32-mr(o)+y|h<<y|f,li=E+n}else Yr=1<<E|h<<y|f,li=n}function Jo(n){n.return!==null&&(ps(n,1),Zo(n,1,0))}function nl(n){for(;n===_u;)_u=er[--Ko],er[Ko]=null,Ys=er[--Ko],er[Ko]=null;for(;n===Ne;)Ne=bt[--Cn],bt[Cn]=null,li=bt[--Cn],bt[Cn]=null,Yr=bt[--Cn],bt[Cn]=null}var qr=null,Qr=null,Nt=!1,ln=null;function xu(n,o){var h=fi(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=n,o=n.deletions,o===null?(n.deletions=[h],n.flags|=16):o.push(h)}function Rr(n,o){switch(n.tag){case 5:var h=n.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,qr=n,Qr=Pi(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,qr=n,Qr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=Ne!==null?{id:Yr,overflow:li}:null,n.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=fi(18,null,null,0),h.stateNode=o,h.return=n,n.child=h,qr=n,Qr=null,!0):!1;default:return!1}}function Pn(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Rn(n){if(Nt){var o=Qr;if(o){var h=o;if(!Rr(n,o)){if(Pn(n))throw Error(t(418));o=Pi(h.nextSibling);var f=qr;o&&Rr(n,o)?xu(f,h):(n.flags=n.flags&-4097|2,Nt=!1,qr=n)}}else{if(Pn(n))throw Error(t(418));n.flags=n.flags&-4097|2,Nt=!1,qr=n}}}function wu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;qr=n}function il(n){if(n!==qr)return!1;if(!Nt)return wu(n),Nt=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Ph(n.type,n.memoizedProps)),o&&(o=Qr)){if(Pn(n))throw In(),Error(t(418));for(;o;)xu(n,o),o=Pi(o.nextSibling)}if(wu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var h=n.data;if(h==="/$"){if(o===0){Qr=Pi(n.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}n=n.nextSibling}Qr=null}}else Qr=qr?Pi(n.stateNode.nextSibling):null;return!0}function In(){for(var n=Qr;n;)n=Pi(n.nextSibling)}function qs(){Qr=qr=null,Nt=!1}function Mn(n){ln===null?ln=[n]:ln.push(n)}var Ff=W.ReactCurrentBatchConfig;function ea(n,o,h){if(n=h.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,n));var y=f,E=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(M){var j=y.refs;M===null?delete j[E]:j[E]=M},o._stringRef=E,o)}if(typeof n!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,n))}return n}function sl(n,o){throw n=Object.prototype.toString.call(o),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function Oh(n){var o=n._init;return o(n._payload)}function Fh(n){function o(ee,Y){if(n){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function h(ee,Y){if(!n)return null;for(;Y!==null;)o(ee,Y),Y=Y.sibling;return null}function f(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function y(ee,Y){return ee=ha(ee,Y),ee.index=0,ee.sibling=null,ee}function E(ee,Y,ne){return ee.index=ne,n?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function M(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function j(ee,Y,ne,Ce){return Y===null||Y.tag!==6?(Y=op(ne,ee.mode,Ce),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function $(ee,Y,ne,Ce){var Ye=ne.type;return Ye===N?xe(ee,Y,ne.props.children,Ce,ne.key):Y!==null&&(Y.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===B&&Oh(Ye)===Y.type)?(Ce=y(Y,ne.props),Ce.ref=ea(ee,Y,ne),Ce.return=ee,Ce):(Ce=od(ne.type,ne.key,ne.props,null,ee.mode,Ce),Ce.ref=ea(ee,Y,ne),Ce.return=ee,Ce)}function oe(ee,Y,ne,Ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=ap(ne,ee.mode,Ce),Y.return=ee,Y):(Y=y(Y,ne.children||[]),Y.return=ee,Y)}function xe(ee,Y,ne,Ce,Ye){return Y===null||Y.tag!==7?(Y=wl(ne,ee.mode,Ce,Ye),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function Ee(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=op(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return ne=od(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=ea(ee,null,Y),ne.return=ee,ne;case K:return Y=ap(Y,ee.mode,ne),Y.return=ee,Y;case B:var Ce=Y._init;return Ee(ee,Ce(Y._payload),ne)}if(fr(Y)||H(Y))return Y=wl(Y,ee.mode,ne,null),Y.return=ee,Y;sl(ee,Y)}return null}function ve(ee,Y,ne,Ce){var Ye=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ye!==null?null:j(ee,Y,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:return ne.key===Ye?$(ee,Y,ne,Ce):null;case K:return ne.key===Ye?oe(ee,Y,ne,Ce):null;case B:return Ye=ne._init,ve(ee,Y,Ye(ne._payload),Ce)}if(fr(ne)||H(ne))return Ye!==null?null:xe(ee,Y,ne,Ce,null);sl(ee,ne)}return null}function Oe(ee,Y,ne,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ee=ee.get(ne)||null,j(Y,ee,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case L:return ee=ee.get(Ce.key===null?ne:Ce.key)||null,$(Y,ee,Ce,Ye);case K:return ee=ee.get(Ce.key===null?ne:Ce.key)||null,oe(Y,ee,Ce,Ye);case B:var Ze=Ce._init;return Oe(ee,Y,ne,Ze(Ce._payload),Ye)}if(fr(Ce)||H(Ce))return ee=ee.get(ne)||null,xe(Y,ee,Ce,Ye,null);sl(Y,Ce)}return null}function Ge(ee,Y,ne,Ce){for(var Ye=null,Ze=null,Je=Y,rt=Y=0,kr=null;Je!==null&&rt<ne.length;rt++){Je.index>rt?(kr=Je,Je=null):kr=Je.sibling;var wt=ve(ee,Je,ne[rt],Ce);if(wt===null){Je===null&&(Je=kr);break}n&&Je&&wt.alternate===null&&o(ee,Je),Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt,Je=kr}if(rt===ne.length)return h(ee,Je),Nt&&ps(ee,rt),Ye;if(Je===null){for(;rt<ne.length;rt++)Je=Ee(ee,ne[rt],Ce),Je!==null&&(Y=E(Je,Y,rt),Ze===null?Ye=Je:Ze.sibling=Je,Ze=Je);return Nt&&ps(ee,rt),Ye}for(Je=f(ee,Je);rt<ne.length;rt++)kr=Oe(Je,ee,rt,ne[rt],Ce),kr!==null&&(n&&kr.alternate!==null&&Je.delete(kr.key===null?rt:kr.key),Y=E(kr,Y,rt),Ze===null?Ye=kr:Ze.sibling=kr,Ze=kr);return n&&Je.forEach(function(ca){return o(ee,ca)}),Nt&&ps(ee,rt),Ye}function Ve(ee,Y,ne,Ce){var Ye=H(ne);if(typeof Ye!="function")throw Error(t(150));if(ne=Ye.call(ne),ne==null)throw Error(t(151));for(var Ze=Ye=null,Je=Y,rt=Y=0,kr=null,wt=ne.next();Je!==null&&!wt.done;rt++,wt=ne.next()){Je.index>rt?(kr=Je,Je=null):kr=Je.sibling;var ca=ve(ee,Je,wt.value,Ce);if(ca===null){Je===null&&(Je=kr);break}n&&Je&&ca.alternate===null&&o(ee,Je),Y=E(ca,Y,rt),Ze===null?Ye=ca:Ze.sibling=ca,Ze=ca,Je=kr}if(wt.done)return h(ee,Je),Nt&&ps(ee,rt),Ye;if(Je===null){for(;!wt.done;rt++,wt=ne.next())wt=Ee(ee,wt.value,Ce),wt!==null&&(Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt);return Nt&&ps(ee,rt),Ye}for(Je=f(ee,Je);!wt.done;rt++,wt=ne.next())wt=Oe(Je,ee,rt,wt.value,Ce),wt!==null&&(n&&wt.alternate!==null&&Je.delete(wt.key===null?rt:wt.key),Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt);return n&&Je.forEach(function(y1){return o(ee,y1)}),Nt&&ps(ee,rt),Ye}function hr(ee,Y,ne,Ce){if(typeof ne=="object"&&ne!==null&&ne.type===N&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:e:{for(var Ye=ne.key,Ze=Y;Ze!==null;){if(Ze.key===Ye){if(Ye=ne.type,Ye===N){if(Ze.tag===7){h(ee,Ze.sibling),Y=y(Ze,ne.props.children),Y.return=ee,ee=Y;break e}}else if(Ze.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===B&&Oh(Ye)===Ze.type){h(ee,Ze.sibling),Y=y(Ze,ne.props),Y.ref=ea(ee,Ze,ne),Y.return=ee,ee=Y;break e}h(ee,Ze);break}else o(ee,Ze);Ze=Ze.sibling}ne.type===N?(Y=wl(ne.props.children,ee.mode,Ce,ne.key),Y.return=ee,ee=Y):(Ce=od(ne.type,ne.key,ne.props,null,ee.mode,Ce),Ce.ref=ea(ee,Y,ne),Ce.return=ee,ee=Ce)}return M(ee);case K:e:{for(Ze=ne.key;Y!==null;){if(Y.key===Ze)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){h(ee,Y.sibling),Y=y(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{h(ee,Y);break}else o(ee,Y);Y=Y.sibling}Y=ap(ne,ee.mode,Ce),Y.return=ee,ee=Y}return M(ee);case B:return Ze=ne._init,hr(ee,Y,Ze(ne._payload),Ce)}if(fr(ne))return Ge(ee,Y,ne,Ce);if(H(ne))return Ve(ee,Y,ne,Ce);sl(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(h(ee,Y.sibling),Y=y(Y,ne),Y.return=ee,ee=Y):(h(ee,Y),Y=op(ne,ee.mode,Ce),Y.return=ee,ee=Y),M(ee)):h(ee,Y)}return hr}var Mi=Fh(!0),ol=Fh(!1),Qs=Ri(null),Ks=null,ki=null,Zs=null;function al(){Zs=ki=Ks=null}function ll(n){var o=Qs.current;Rt(Qs),n._currentValue=o}function ul(n,o,h){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===h)break;n=n.return}}function Js(n,o){Ks=n,Zs=ki=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(q=!0),n.firstContext=null)}function Kr(n){var o=n._currentValue;if(Zs!==n)if(n={context:n,memoizedValue:o,next:null},ki===null){if(Ks===null)throw Error(t(308));ki=n,Ks.dependencies={lanes:0,firstContext:n}}else ki=ki.next=n;return o}var eo=null;function ta(n){eo===null?eo=[n]:eo.push(n)}function Eu(n,o,h,f){var y=o.interleaved;return y===null?(h.next=h,ta(o)):(h.next=y.next,y.next=h),o.interleaved=h,St(n,f)}function St(n,o){n.lanes|=o;var h=n.alternate;for(h!==null&&(h.lanes|=o),h=n,n=n.return;n!==null;)n.childLanes|=o,h=n.alternate,h!==null&&(h.childLanes|=o),h=n,n=n.return;return h.tag===3?h.stateNode:null}var nt=!1;function tr(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qt(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ot(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function rr(n,o,h){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(vt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,St(n,h)}return y=f.interleaved,y===null?(o.next=o,ta(f)):(o.next=y.next,y.next=o),f.interleaved=o,St(n,h)}function Di(n,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var f=o.lanes;f&=n.pendingLanes,h|=f,o.lanes=h,ka(n,h)}}function nr(n,o){var h=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var M={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=M:E=E.next=M,h=h.next}while(h!==null);E===null?y=E=o:E=E.next=o}else y=E=o;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},n.updateQueue=h;return}n=h.lastBaseUpdate,n===null?h.firstBaseUpdate=o:n.next=o,h.lastBaseUpdate=o}function ms(n,o,h,f){var y=n.updateQueue;nt=!1;var E=y.firstBaseUpdate,M=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var $=j,oe=$.next;$.next=null,M===null?E=oe:M.next=oe,M=$;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,j=xe.lastBaseUpdate,j!==M&&(j===null?xe.firstBaseUpdate=oe:j.next=oe,xe.lastBaseUpdate=$))}if(E!==null){var Ee=y.baseState;M=0,xe=oe=$=null,j=E;do{var ve=j.lane,Oe=j.eventTime;if((f&ve)===ve){xe!==null&&(xe=xe.next={eventTime:Oe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ge=n,Ve=j;switch(ve=o,Oe=h,Ve.tag){case 1:if(Ge=Ve.payload,typeof Ge=="function"){Ee=Ge.call(Oe,Ee,ve);break e}Ee=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ve.payload,ve=typeof Ge=="function"?Ge.call(Oe,Ee,ve):Ge,ve==null)break e;Ee=D({},Ee,ve);break e;case 2:nt=!0}}j.callback!==null&&j.lane!==0&&(n.flags|=64,ve=y.effects,ve===null?y.effects=[j]:ve.push(j))}else Oe={eventTime:Oe,lane:ve,tag:j.tag,payload:j.payload,callback:j.callback,next:null},xe===null?(oe=xe=Oe,$=Ee):xe=xe.next=Oe,M|=ve;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ve=j,j=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(xe===null&&($=Ee),y.baseState=$,y.firstBaseUpdate=oe,y.lastBaseUpdate=xe,o=y.shared.interleaved,o!==null){y=o;do M|=y.lane,y=y.next;while(y!==o)}else E===null&&(y.shared.lanes=0);yl|=M,n.lanes=M,n.memoizedState=Ee}}function gs(n,o,h){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var f=n[o],y=f.callback;if(y!==null){if(f.callback=null,f=h,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var ys={},kn=Ri(ys),Ni=Ri(ys),wr=Ri(ys);function Oi(n){if(n===ys)throw Error(t(174));return n}function hl(n,o){switch(xt(wr,o),xt(Ni,n),xt(kn,ys),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yo(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=yo(o,n)}Rt(kn),xt(kn,o)}function un(){Rt(kn),Rt(Ni),Rt(wr)}function to(n){Oi(wr.current);var o=Oi(kn.current),h=yo(o,n.type);o!==h&&(xt(Ni,n),xt(kn,h))}function Su(n){Ni.current===n&&(Rt(kn),Rt(Ni))}var It=Ri(0);function ra(n){for(var o=n;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ui=[];function na(){for(var n=0;n<ui.length;n++)ui[n]._workInProgressVersionPrimary=null;ui.length=0}var Xn=W.ReactCurrentDispatcher,ia=W.ReactCurrentBatchConfig,Yn=0,Ft=null,Vt=null,Qt=null,lr=!1,Dn=!1,Ir=0,Zr=0;function Er(){throw Error(t(321))}function cl(n,o){if(o===null)return!1;for(var h=0;h<o.length&&h<n.length;h++)if(!an(n[h],o[h]))return!1;return!0}function dl(n,o,h,f,y,E){if(Yn=E,Ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xn.current=n===null||n.memoizedState===null?Ru:Lf,n=h(f,y),Dn){E=0;do{if(Dn=!1,Ir=0,25<=E)throw Error(t(301));E+=1,Qt=Vt=null,o.updateQueue=null,Xn.current=Uf,n=h(f,y)}while(Dn)}if(Xn.current=gl,o=Vt!==null&&Vt.next!==null,Yn=0,Qt=Vt=Ft=null,lr=!1,o)throw Error(t(300));return n}function hi(){var n=Ir!==0;return Ir=0,n}function qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ft.memoizedState=Qt=n:Qt=Qt.next=n,Qt}function hn(){if(Vt===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=Vt.next;var o=Qt===null?Ft.memoizedState:Qt.next;if(o!==null)Qt=o,Vt=n;else{if(n===null)throw Error(t(310));Vt=n,n={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Qt===null?Ft.memoizedState=Qt=n:Qt=Qt.next=n}return Qt}function ro(n,o){return typeof o=="function"?o(n):o}function Fi(n){var o=hn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=Vt,y=f.baseQueue,E=h.pending;if(E!==null){if(y!==null){var M=y.next;y.next=E.next,E.next=M}f.baseQueue=y=E,h.pending=null}if(y!==null){E=y.next,f=f.baseState;var j=M=null,$=null,oe=E;do{var xe=oe.lane;if((Yn&xe)===xe)$!==null&&($=$.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:n(f,oe.action);else{var Ee={lane:xe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};$===null?(j=$=Ee,M=f):$=$.next=Ee,Ft.lanes|=xe,yl|=xe}oe=oe.next}while(oe!==null&&oe!==E);$===null?M=f:$.next=j,an(f,o.memoizedState)||(q=!0),o.memoizedState=f,o.baseState=M,o.baseQueue=$,h.lastRenderedState=f}if(n=h.interleaved,n!==null){y=n;do E=y.lane,Ft.lanes|=E,yl|=E,y=y.next;while(y!==n)}else y===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function bu(n){var o=hn(),h=o.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=h.dispatch,y=h.pending,E=o.memoizedState;if(y!==null){h.pending=null;var M=y=y.next;do E=n(E,M.action),M=M.next;while(M!==y);an(E,o.memoizedState)||(q=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),h.lastRenderedState=E}return[E,f]}function Bh(){}function Tu(n,o){var h=Ft,f=hn(),y=o(),E=!an(f.memoizedState,y);if(E&&(f.memoizedState=y,q=!0),f=f.queue,Hh(Wc.bind(null,h,f,n),[n]),f.getSnapshot!==o||E||Qt!==null&&Qt.memoizedState.tag&1){if(h.flags|=2048,Qn(9,jc.bind(null,h,f,y,o),void 0,null),Mr===null)throw Error(t(349));(Yn&30)!==0||fl(h,o,y)}return y}function fl(n,o,h){n.flags|=16384,n={getSnapshot:o,value:h},o=Ft.updateQueue,o===null?(o={lastEffect:null,stores:null},Ft.updateQueue=o,o.stores=[n]):(h=o.stores,h===null?o.stores=[n]:h.push(n))}function jc(n,o,h,f){o.value=h,o.getSnapshot=f,Lh(o)&&Uh(n)}function Wc(n,o,h){return h(function(){Lh(o)&&Uh(n)})}function Lh(n){var o=n.getSnapshot;n=n.value;try{var h=o();return!an(n,h)}catch{return!0}}function Uh(n){var o=St(n,1);o!==null&&zi(o,n,1,-1)}function no(n){var o=qn();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:n},o.queue=n,n=n.dispatch=Bf.bind(null,Ft,n),[o.memoizedState,n]}function Qn(n,o,h,f){return n={tag:n,create:o,destroy:h,deps:f,next:null},o=Ft.updateQueue,o===null?(o={lastEffect:null,stores:null},Ft.updateQueue=o,o.lastEffect=n.next=n):(h=o.lastEffect,h===null?o.lastEffect=n.next=n:(f=h.next,h.next=n,n.next=f,o.lastEffect=n)),n}function zh(){return hn().memoizedState}function Tt(n,o,h,f){var y=qn();Ft.flags|=n,y.memoizedState=Qn(1|o,h,void 0,f===void 0?null:f)}function Au(n,o,h,f){var y=hn();f=f===void 0?null:f;var E=void 0;if(Vt!==null){var M=Vt.memoizedState;if(E=M.destroy,f!==null&&cl(f,M.deps)){y.memoizedState=Qn(o,h,E,f);return}}Ft.flags|=n,y.memoizedState=Qn(1|o,h,E,f)}function Gh(n,o){return Tt(8390656,8,n,o)}function Hh(n,o){return Au(2048,8,n,o)}function $c(n,o){return Au(4,2,n,o)}function jh(n,o){return Au(4,4,n,o)}function Vc(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function cn(n,o,h){return h=h!=null?h.concat([n]):null,Au(4,4,Vc.bind(null,o,n),h)}function pl(){}function Bi(n,o){var h=hn();o=o===void 0?null:o;var f=h.memoizedState;return f!==null&&o!==null&&cl(o,f[1])?f[0]:(h.memoizedState=[n,o],n)}function ml(n,o){var h=hn();o=o===void 0?null:o;var f=h.memoizedState;return f!==null&&o!==null&&cl(o,f[1])?f[0]:(n=n(),h.memoizedState=[n,o],n)}function vs(n,o,h){return(Yn&21)===0?(n.baseState&&(n.baseState=!1,q=!0),n.memoizedState=h):(an(h,o)||(h=yn(),Ft.lanes|=h,yl|=h,n.baseState=!0),o)}function Cu(n,o){var h=pt;pt=h!==0&&4>h?h:4,n(!0);var f=ia.transition;ia.transition={};try{n(!1),o()}finally{pt=h,ia.transition=f}}function Pu(){return hn().memoizedState}function Wh(n,o,h){var f=la(n);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},$h(n))Vh(o,h);else if(h=Eu(n,o,h,f),h!==null){var y=dn();zi(h,n,f,y),Xh(h,o,f)}}function Bf(n,o,h){var f=la(n),y={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if($h(n))Vh(o,y);else{var E=n.alternate;if(n.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var M=o.lastRenderedState,j=E(M,h);if(y.hasEagerState=!0,y.eagerState=j,an(j,M)){var $=o.interleaved;$===null?(y.next=y,ta(o)):(y.next=$.next,$.next=y),o.interleaved=y;return}}catch{}finally{}h=Eu(n,o,y,f),h!==null&&(y=dn(),zi(h,n,f,y),Xh(h,o,f))}}function $h(n){var o=n.alternate;return n===Ft||o!==null&&o===Ft}function Vh(n,o){Dn=lr=!0;var h=n.pending;h===null?o.next=o:(o.next=h.next,h.next=o),n.pending=o}function Xh(n,o,h){if((h&4194240)!==0){var f=o.lanes;f&=n.pendingLanes,h|=f,o.lanes=h,ka(n,h)}}var gl={readContext:Kr,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Ru={readContext:Kr,useCallback:function(n,o){return qn().memoizedState=[n,o===void 0?null:o],n},useContext:Kr,useEffect:Gh,useImperativeHandle:function(n,o,h){return h=h!=null?h.concat([n]):null,Tt(4194308,4,Vc.bind(null,o,n),h)},useLayoutEffect:function(n,o){return Tt(4194308,4,n,o)},useInsertionEffect:function(n,o){return Tt(4,2,n,o)},useMemo:function(n,o){var h=qn();return o=o===void 0?null:o,n=n(),h.memoizedState=[n,o],n},useReducer:function(n,o,h){var f=qn();return o=h!==void 0?h(o):o,f.memoizedState=f.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},f.queue=n,n=n.dispatch=Wh.bind(null,Ft,n),[f.memoizedState,n]},useRef:function(n){var o=qn();return n={current:n},o.memoizedState=n},useState:no,useDebugValue:pl,useDeferredValue:function(n){return qn().memoizedState=n},useTransition:function(){var n=no(!1),o=n[0];return n=Cu.bind(null,n[1]),qn().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,h){var f=Ft,y=qn();if(Nt){if(h===void 0)throw Error(t(407));h=h()}else{if(h=o(),Mr===null)throw Error(t(349));(Yn&30)!==0||fl(f,o,h)}y.memoizedState=h;var E={value:h,getSnapshot:o};return y.queue=E,Gh(Wc.bind(null,f,E,n),[n]),f.flags|=2048,Qn(9,jc.bind(null,f,E,h,o),void 0,null),h},useId:function(){var n=qn(),o=Mr.identifierPrefix;if(Nt){var h=li,f=Yr;h=(f&~(1<<32-mr(f)-1)).toString(32)+h,o=":"+o+"R"+h,h=Ir++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=Zr++,o=":"+o+"r"+h.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},Lf={readContext:Kr,useCallback:Bi,useContext:Kr,useEffect:Hh,useImperativeHandle:cn,useInsertionEffect:$c,useLayoutEffect:jh,useMemo:ml,useReducer:Fi,useRef:zh,useState:function(){return Fi(ro)},useDebugValue:pl,useDeferredValue:function(n){var o=hn();return vs(o,Vt.memoizedState,n)},useTransition:function(){var n=Fi(ro)[0],o=hn().memoizedState;return[n,o]},useMutableSource:Bh,useSyncExternalStore:Tu,useId:Pu,unstable_isNewReconciler:!1},Uf={readContext:Kr,useCallback:Bi,useContext:Kr,useEffect:Hh,useImperativeHandle:cn,useInsertionEffect:$c,useLayoutEffect:jh,useMemo:ml,useReducer:bu,useRef:zh,useState:function(){return bu(ro)},useDebugValue:pl,useDeferredValue:function(n){var o=hn();return Vt===null?o.memoizedState=n:vs(o,Vt.memoizedState,n)},useTransition:function(){var n=bu(ro)[0],o=hn().memoizedState;return[n,o]},useMutableSource:Bh,useSyncExternalStore:Tu,useId:Pu,unstable_isNewReconciler:!1};function l(n,o){if(n&&n.defaultProps){o=D({},o),n=n.defaultProps;for(var h in n)o[h]===void 0&&(o[h]=n[h]);return o}return o}function u(n,o,h,f){o=n.memoizedState,h=h(f,o),h=h==null?o:D({},o,h),n.memoizedState=h,n.lanes===0&&(n.updateQueue.baseState=h)}var p={isMounted:function(n){return(n=n._reactInternals)?Gn(n)===n:!1},enqueueSetState:function(n,o,h){n=n._reactInternals;var f=dn(),y=la(n),E=Ot(f,y);E.payload=o,h!=null&&(E.callback=h),o=rr(n,E,y),o!==null&&(zi(o,n,y,f),Di(o,n,y))},enqueueReplaceState:function(n,o,h){n=n._reactInternals;var f=dn(),y=la(n),E=Ot(f,y);E.tag=1,E.payload=o,h!=null&&(E.callback=h),o=rr(n,E,y),o!==null&&(zi(o,n,y,f),Di(o,n,y))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var h=dn(),f=la(n),y=Ot(h,f);y.tag=2,o!=null&&(y.callback=o),o=rr(n,y,f),o!==null&&(zi(o,n,f,h),Di(o,n,f))}};function v(n,o,h,f,y,E,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,E,M):o.prototype&&o.prototype.isPureReactComponent?!ls(h,f)||!ls(y,E):!0}function x(n,o,h){var f=!1,y=En,E=o.contextType;return typeof E=="object"&&E!==null?E=Kr(E):(y=Lr(o)?Ii:ar.current,f=o.contextTypes,E=(f=f!=null)?fs(n,y):En),o=new o(h,E),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=p,n.stateNode=o,o._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=E),o}function T(n,o,h,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,f),o.state!==n&&p.enqueueReplaceState(o,o.state,null)}function O(n,o,h,f){var y=n.stateNode;y.props=h,y.state=n.memoizedState,y.refs={},tr(n);var E=o.contextType;typeof E=="object"&&E!==null?y.context=Kr(E):(E=Lr(o)?Ii:ar.current,y.context=fs(n,E)),y.state=n.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(u(n,o,E,h),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&p.enqueueReplaceState(y,y.state,null),ms(n,h,y,f),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function V(n,o){try{var h="",f=o;do h+=ue(f),f=f.return;while(f);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:n,source:o,stack:y,digest:null}}function te(n,o,h){return{value:n,source:null,stack:h??null,digest:o??null}}function he(n,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var me=typeof WeakMap=="function"?WeakMap:Map;function Ie(n,o,h){h=Ot(-1,h),h.tag=3,h.payload={element:null};var f=o.value;return h.callback=function(){ed||(ed=!0,Zf=f),he(n,o)},h}function de(n,o,h){h=Ot(-1,h),h.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;h.payload=function(){return f(y)},h.callback=function(){he(n,o)}}var E=n.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){he(n,o),typeof f!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),h}function Se(n,o,h){var f=n.pingCache;if(f===null){f=n.pingCache=new me;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(h)||(y.add(h),n=o1.bind(null,n,o,h),o.then(n,n))}function ze(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function st(n,o,h,f,y){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=Ot(-1,1),o.tag=2,rr(h,o,1))),h.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var ge=W.ReactCurrentOwner,q=!1;function ae(n,o,h,f){o.child=n===null?ol(o,null,h,f):Mi(o,n.child,h,f)}function we(n,o,h,f,y){h=h.render;var E=o.ref;return Js(o,y),f=dl(n,o,h,f,E,y),h=hi(),n!==null&&!q?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,io(n,o,y)):(Nt&&h&&Jo(o),o.flags|=1,ae(n,o,f,y),o.child)}function Qe(n,o,h,f,y){if(n===null){var E=h.type;return typeof E=="function"&&!sp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=E,gt(n,o,E,f,y)):(n=od(h.type,null,f,o,o.mode,y),n.ref=o.ref,n.return=o,o.child=n)}if(E=n.child,(n.lanes&y)===0){var M=E.memoizedProps;if(h=h.compare,h=h!==null?h:ls,h(M,f)&&n.ref===o.ref)return io(n,o,y)}return o.flags|=1,n=ha(E,f),n.ref=o.ref,n.return=o,o.child=n}function gt(n,o,h,f,y){if(n!==null){var E=n.memoizedProps;if(ls(E,f)&&n.ref===o.ref)if(q=!1,o.pendingProps=f=E,(n.lanes&y)!==0)(n.flags&131072)!==0&&(q=!0);else return o.lanes=n.lanes,io(n,o,y)}return ur(n,o,h,f,y)}function je(n,o,h){var f=o.pendingProps,y=f.children,E=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Mu,Kn),Kn|=h;else{if((h&1073741824)===0)return n=E!==null?E.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,xt(Mu,Kn),Kn|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:h,xt(Mu,Kn),Kn|=f}else E!==null?(f=E.baseLanes|h,o.memoizedState=null):f=h,xt(Mu,Kn),Kn|=f;return ae(n,o,y,h),o.child}function mt(n,o){var h=o.ref;(n===null&&h!==null||n!==null&&n.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function ur(n,o,h,f,y){var E=Lr(h)?Ii:ar.current;return E=fs(o,E),Js(o,y),h=dl(n,o,h,f,E,y),f=hi(),n!==null&&!q?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,io(n,o,y)):(Nt&&f&&Jo(o),o.flags|=1,ae(n,o,h,y),o.child)}function yt(n,o,h,f,y){if(Lr(h)){var E=!0;Qo(o)}else E=!1;if(Js(o,y),o.stateNode===null)qc(n,o),x(o,h,f),O(o,h,f,y),f=!0;else if(n===null){var M=o.stateNode,j=o.memoizedProps;M.props=j;var $=M.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=Kr(oe):(oe=Lr(h)?Ii:ar.current,oe=fs(o,oe));var xe=h.getDerivedStateFromProps,Ee=typeof xe=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ee||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j!==f||$!==oe)&&T(o,M,f,oe),nt=!1;var ve=o.memoizedState;M.state=ve,ms(o,f,M,y),$=o.memoizedState,j!==f||ve!==$||xr.current||nt?(typeof xe=="function"&&(u(o,h,xe,f),$=o.memoizedState),(j=nt||v(o,h,j,f,ve,$,oe))?(Ee||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=$),M.props=f,M.state=$,M.context=oe,f=j):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{M=o.stateNode,qt(n,o),j=o.memoizedProps,oe=o.type===o.elementType?j:l(o.type,j),M.props=oe,Ee=o.pendingProps,ve=M.context,$=h.contextType,typeof $=="object"&&$!==null?$=Kr($):($=Lr(h)?Ii:ar.current,$=fs(o,$));var Oe=h.getDerivedStateFromProps;(xe=typeof Oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(j!==Ee||ve!==$)&&T(o,M,f,$),nt=!1,ve=o.memoizedState,M.state=ve,ms(o,f,M,y);var Ge=o.memoizedState;j!==Ee||ve!==Ge||xr.current||nt?(typeof Oe=="function"&&(u(o,h,Oe,f),Ge=o.memoizedState),(oe=nt||v(o,h,oe,f,ve,Ge,$)||!1)?(xe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(f,Ge,$),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(f,Ge,$)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ge),M.props=f,M.state=Ge,M.context=$,f=oe):(typeof M.componentDidUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),f=!1)}return ci(n,o,h,f,E,y)}function ci(n,o,h,f,y,E){mt(n,o);var M=(o.flags&128)!==0;if(!f&&!M)return y&&Dh(o,h,!1),io(n,o,E);f=o.stateNode,ge.current=o;var j=M&&typeof h.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,n!==null&&M?(o.child=Mi(o,n.child,null,E),o.child=Mi(o,null,j,E)):ae(n,o,j,E),o.memoizedState=f.state,y&&Dh(o,h,!0),o.child}function Xc(n){var o=n.stateNode;o.pendingContext?rl(n,o.pendingContext,o.pendingContext!==o.context):o.context&&rl(n,o.context,!1),hl(n,o.containerInfo)}function qg(n,o,h,f,y){return qs(),Mn(y),o.flags|=256,ae(n,o,h,f),o.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Gf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Qg(n,o,h){var f=o.pendingProps,y=It.current,E=!1,M=(o.flags&128)!==0,j;if((j=M)||(j=n!==null&&n.memoizedState===null?!1:(y&2)!==0),j?(E=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),xt(It,y&1),n===null)return Rn(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(M=f.children,n=f.fallback,E?(f=o.mode,E=o.child,M={mode:"hidden",children:M},(f&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=M):E=ad(M,f,0,null),n=wl(n,f,h,null),E.return=o,n.return=o,E.sibling=n,o.child=E,o.child.memoizedState=Gf(h),o.memoizedState=zf,n):Hf(o,M));if(y=n.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return Yx(n,o,M,f,j,y,h);if(E){E=f.fallback,M=o.mode,y=n.child,j=y.sibling;var $={mode:"hidden",children:f.children};return(M&1)===0&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=$,o.deletions=null):(f=ha(y,$),f.subtreeFlags=y.subtreeFlags&14680064),j!==null?E=ha(j,E):(E=wl(E,M,h,null),E.flags|=2),E.return=o,f.return=o,f.sibling=E,o.child=f,f=E,E=o.child,M=n.child.memoizedState,M=M===null?Gf(h):{baseLanes:M.baseLanes|h,cachePool:null,transitions:M.transitions},E.memoizedState=M,E.childLanes=n.childLanes&~h,o.memoizedState=zf,f}return E=n.child,n=E.sibling,f=ha(E,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=h),f.return=o,f.sibling=null,n!==null&&(h=o.deletions,h===null?(o.deletions=[n],o.flags|=16):h.push(n)),o.child=f,o.memoizedState=null,f}function Hf(n,o){return o=ad({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function Yc(n,o,h,f){return f!==null&&Mn(f),Mi(o,n.child,null,h),n=Hf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Yx(n,o,h,f,y,E,M){if(h)return o.flags&256?(o.flags&=-257,f=te(Error(t(422))),Yc(n,o,M,f)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(E=f.fallback,y=o.mode,f=ad({mode:"visible",children:f.children},y,0,null),E=wl(E,y,M,null),E.flags|=2,f.return=o,E.return=o,f.sibling=E,o.child=f,(o.mode&1)!==0&&Mi(o,n.child,null,M),o.child.memoizedState=Gf(M),o.memoizedState=zf,E);if((o.mode&1)===0)return Yc(n,o,M,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;return f=j,E=Error(t(419)),f=te(E,f,void 0),Yc(n,o,M,f)}if(j=(M&n.childLanes)!==0,q||j){if(f=Mr,f!==null){switch(M&-M){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|M))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,St(n,y),zi(f,n,y,-1))}return ip(),f=te(Error(t(421))),Yc(n,o,M,f)}return y.data==="$?"?(o.flags|=128,o.child=n.child,o=a1.bind(null,n),y._reactRetry=o,null):(n=E.treeContext,Qr=Pi(y.nextSibling),qr=o,Nt=!0,ln=null,n!==null&&(bt[Cn++]=Yr,bt[Cn++]=li,bt[Cn++]=Ne,Yr=n.id,li=n.overflow,Ne=o),o=Hf(o,f.children),o.flags|=4096,o)}function Kg(n,o,h){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),ul(n.return,o,h)}function jf(n,o,h,f,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=h,E.tailMode=y)}function Zg(n,o,h){var f=o.pendingProps,y=f.revealOrder,E=f.tail;if(ae(n,o,f.children,h),f=It.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Kg(n,h,o);else if(n.tag===19)Kg(n,h,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(xt(It,f),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(h=o.child,y=null;h!==null;)n=h.alternate,n!==null&&ra(n)===null&&(y=h),h=h.sibling;h=y,h===null?(y=o.child,o.child=null):(y=h.sibling,h.sibling=null),jf(o,!1,y,h,E);break;case"backwards":for(h=null,y=o.child,o.child=null;y!==null;){if(n=y.alternate,n!==null&&ra(n)===null){o.child=y;break}n=y.sibling,y.sibling=h,h=y,y=n}jf(o,!0,h,null,E);break;case"together":jf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qc(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function io(n,o,h){if(n!==null&&(o.dependencies=n.dependencies),yl|=o.lanes,(h&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(t(153));if(o.child!==null){for(n=o.child,h=ha(n,n.pendingProps),o.child=h,h.return=o;n.sibling!==null;)n=n.sibling,h=h.sibling=ha(n,n.pendingProps),h.return=o;h.sibling=null}return o.child}function qx(n,o,h){switch(o.tag){case 3:Xc(o),qs();break;case 5:to(o);break;case 1:Lr(o.type)&&Qo(o);break;case 4:hl(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;xt(Qs,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(xt(It,It.current&1),o.flags|=128,null):(h&o.child.childLanes)!==0?Qg(n,o,h):(xt(It,It.current&1),n=io(n,o,h),n!==null?n.sibling:null);xt(It,It.current&1);break;case 19:if(f=(h&o.childLanes)!==0,(n.flags&128)!==0){if(f)return Zg(n,o,h);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),xt(It,It.current),f)break;return null;case 22:case 23:return o.lanes=0,je(n,o,h)}return io(n,o,h)}var Jg,Wf,ey,ty;Jg=function(n,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Wf=function(){},ey=function(n,o,h,f){var y=n.memoizedProps;if(y!==f){n=o.stateNode,Oi(kn.current);var E=null;switch(h){case"input":y=at(n,y),f=at(n,f),E=[];break;case"select":y=D({},y,{value:void 0}),f=D({},f,{value:void 0}),E=[];break;case"textarea":y=ri(n,y),f=ri(n,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=el)}re(h,f);var M;h=null;for(oe in y)if(!f.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var j=y[oe];for(M in j)j.hasOwnProperty(M)&&(h||(h={}),h[M]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?E||(E=[]):(E=E||[]).push(oe,null));for(oe in f){var $=f[oe];if(j=y!=null?y[oe]:void 0,f.hasOwnProperty(oe)&&$!==j&&($!=null||j!=null))if(oe==="style")if(j){for(M in j)!j.hasOwnProperty(M)||$&&$.hasOwnProperty(M)||(h||(h={}),h[M]="");for(M in $)$.hasOwnProperty(M)&&j[M]!==$[M]&&(h||(h={}),h[M]=$[M])}else h||(E||(E=[]),E.push(oe,h)),h=$;else oe==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,j=j?j.__html:void 0,$!=null&&j!==$&&(E=E||[]).push(oe,$)):oe==="children"?typeof $!="string"&&typeof $!="number"||(E=E||[]).push(oe,""+$):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?($!=null&&oe==="onScroll"&&Pt("scroll",n),E||j===$||(E=[])):(E=E||[]).push(oe,$))}h&&(E=E||[]).push("style",h);var oe=E;(o.updateQueue=oe)&&(o.flags|=4)}},ty=function(n,o,h,f){h!==f&&(o.flags|=4)};function Yh(n,o){if(!Nt)switch(n.tailMode){case"hidden":o=n.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?n.tail=null:h.sibling=null;break;case"collapsed":h=n.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Jr(n){var o=n.alternate!==null&&n.alternate.child===n.child,h=0,f=0;if(o)for(var y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=f,n.childLanes=h,o}function Qx(n,o,h){var f=o.pendingProps;switch(nl(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(o),null;case 1:return Lr(o.type)&&qo(),Jr(o),null;case 3:return f=o.stateNode,un(),Rt(xr),Rt(ar),na(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(il(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ln!==null&&(tp(ln),ln=null))),Wf(n,o),Jr(o),null;case 5:Su(o);var y=Oi(wr.current);if(h=o.type,n!==null&&o.stateNode!=null)ey(n,o,h,f,y),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Jr(o),null}if(n=Oi(kn.current),il(o)){f=o.stateNode,h=o.type;var E=o.memoizedProps;switch(f[Vn]=o,f[tl]=E,n=(o.mode&1)!==0,h){case"dialog":Pt("cancel",f),Pt("close",f);break;case"iframe":case"object":case"embed":Pt("load",f);break;case"video":case"audio":for(y=0;y<hs.length;y++)Pt(hs[y],f);break;case"source":Pt("error",f);break;case"img":case"image":case"link":Pt("error",f),Pt("load",f);break;case"details":Pt("toggle",f);break;case"input":He(f,E),Pt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},Pt("invalid",f);break;case"textarea":yi(f,E),Pt("invalid",f)}re(h,E),y=null;for(var M in E)if(E.hasOwnProperty(M)){var j=E[M];M==="children"?typeof j=="string"?f.textContent!==j&&(E.suppressHydrationWarning!==!0&&Ja(f.textContent,j,n),y=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(E.suppressHydrationWarning!==!0&&Ja(f.textContent,j,n),y=["children",""+j]):s.hasOwnProperty(M)&&j!=null&&M==="onScroll"&&Pt("scroll",f)}switch(h){case"input":Me(f),jt(f,E,!0);break;case"textarea":Me(f),Ll(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=el)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{M=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ul(h)),n==="http://www.w3.org/1999/xhtml"?h==="script"?(n=M.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=M.createElement(h,{is:f.is}):(n=M.createElement(h),h==="select"&&(M=n,f.multiple?M.multiple=!0:f.size&&(M.size=f.size))):n=M.createElementNS(n,h),n[Vn]=o,n[tl]=f,Jg(n,o,!1,!1),o.stateNode=n;e:{switch(M=se(h,f),h){case"dialog":Pt("cancel",n),Pt("close",n),y=f;break;case"iframe":case"object":case"embed":Pt("load",n),y=f;break;case"video":case"audio":for(y=0;y<hs.length;y++)Pt(hs[y],n);y=f;break;case"source":Pt("error",n),y=f;break;case"img":case"image":case"link":Pt("error",n),Pt("load",n),y=f;break;case"details":Pt("toggle",n),y=f;break;case"input":He(n,f),y=at(n,f),Pt("invalid",n);break;case"option":y=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},y=D({},f,{value:void 0}),Pt("invalid",n);break;case"textarea":yi(n,f),y=ri(n,f),Pt("invalid",n);break;default:y=f}re(h,y),j=y;for(E in j)if(j.hasOwnProperty(E)){var $=j[E];E==="style"?_o(n,$):E==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ki(n,$)):E==="children"?typeof $=="string"?(h!=="textarea"||$!=="")&&vi(n,$):typeof $=="number"&&vi(n,""+$):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?$!=null&&E==="onScroll"&&Pt("scroll",n):$!=null&&F(n,E,$,M))}switch(h){case"input":Me(n),jt(n,f,!1);break;case"textarea":Me(n),Ll(n);break;case"option":f.value!=null&&n.setAttribute("value",""+be(f.value));break;case"select":n.multiple=!!f.multiple,E=f.value,E!=null?pr(n,!!f.multiple,E,!1):f.defaultValue!=null&&pr(n,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=el)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jr(o),null;case 6:if(n&&o.stateNode!=null)ty(n,o,n.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(h=Oi(wr.current),Oi(kn.current),il(o)){if(f=o.stateNode,h=o.memoizedProps,f[Vn]=o,(E=f.nodeValue!==h)&&(n=qr,n!==null))switch(n.tag){case 3:Ja(f.nodeValue,h,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ja(f.nodeValue,h,(n.mode&1)!==0)}E&&(o.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Vn]=o,o.stateNode=f}return Jr(o),null;case 13:if(Rt(It),f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Nt&&Qr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)In(),qs(),o.flags|=98560,E=!1;else if(E=il(o),f!==null&&f.dehydrated!==null){if(n===null){if(!E)throw Error(t(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Vn]=o}else qs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jr(o),E=!1}else ln!==null&&(tp(ln),ln=null),E=!0;if(!E)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=h,o):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(It.current&1)!==0?Sr===0&&(Sr=3):ip())),o.updateQueue!==null&&(o.flags|=4),Jr(o),null);case 4:return un(),Wf(n,o),n===null&&Ho(o.stateNode.containerInfo),Jr(o),null;case 10:return ll(o.type._context),Jr(o),null;case 17:return Lr(o.type)&&qo(),Jr(o),null;case 19:if(Rt(It),E=o.memoizedState,E===null)return Jr(o),null;if(f=(o.flags&128)!==0,M=E.rendering,M===null)if(f)Yh(E,!1);else{if(Sr!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(M=ra(n),M!==null){for(o.flags|=128,Yh(E,!1),f=M.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=h,h=o.child;h!==null;)E=h,n=f,E.flags&=14680066,M=E.alternate,M===null?(E.childLanes=0,E.lanes=n,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=M.childLanes,E.lanes=M.lanes,E.child=M.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=M.memoizedProps,E.memoizedState=M.memoizedState,E.updateQueue=M.updateQueue,E.type=M.type,n=M.dependencies,E.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),h=h.sibling;return xt(It,It.current&1|2),o.child}n=n.sibling}E.tail!==null&&Yt()>ku&&(o.flags|=128,f=!0,Yh(E,!1),o.lanes=4194304)}else{if(!f)if(n=ra(M),n!==null){if(o.flags|=128,f=!0,h=n.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),Yh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!M.alternate&&!Nt)return Jr(o),null}else 2*Yt()-E.renderingStartTime>ku&&h!==1073741824&&(o.flags|=128,f=!0,Yh(E,!1),o.lanes=4194304);E.isBackwards?(M.sibling=o.child,o.child=M):(h=E.last,h!==null?h.sibling=M:o.child=M,E.last=M)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=Yt(),o.sibling=null,h=It.current,xt(It,f?h&1|2:h&1),o):(Jr(o),null);case 22:case 23:return np(),f=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Kn&1073741824)!==0&&(Jr(o),o.subtreeFlags&6&&(o.flags|=8192)):Jr(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Kx(n,o){switch(nl(o),o.tag){case 1:return Lr(o.type)&&qo(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return un(),Rt(xr),Rt(ar),na(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return Su(o),null;case 13:if(Rt(It),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(t(340));qs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Rt(It),null;case 4:return un(),null;case 10:return ll(o.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var Qc=!1,en=!1,Zx=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Iu(n,o){var h=n.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){ir(n,o,f)}else h.current=null}function $f(n,o,h){try{h()}catch(f){ir(n,o,f)}}var ry=!1;function Jx(n,o){if($o=nn,n=or(),Zt(n)){if("selectionStart"in n)var h={start:n.selectionStart,end:n.selectionEnd};else e:{h=(h=n.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var M=0,j=-1,$=-1,oe=0,xe=0,Ee=n,ve=null;t:for(;;){for(var Oe;Ee!==h||y!==0&&Ee.nodeType!==3||(j=M+y),Ee!==E||f!==0&&Ee.nodeType!==3||($=M+f),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(Oe=Ee.firstChild)!==null;)ve=Ee,Ee=Oe;for(;;){if(Ee===n)break t;if(ve===h&&++oe===y&&(j=M),ve===E&&++xe===f&&($=M),(Oe=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=Oe}h=j===-1||$===-1?null:{start:j,end:$}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ch={focusedElem:n,selectionRange:h},nn=!1,Le=o;Le!==null;)if(o=Le,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Le=n;else for(;Le!==null;){o=Le;try{var Ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Ve=Ge.memoizedProps,hr=Ge.memoizedState,ee=o.stateNode,Y=ee.getSnapshotBeforeUpdate(o.elementType===o.type?Ve:l(o.type,Ve),hr);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=o.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ce){ir(o,o.return,Ce)}if(n=o.sibling,n!==null){n.return=o.return,Le=n;break}Le=o.return}return Ge=ry,ry=!1,Ge}function qh(n,o,h){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&n)===n){var E=y.destroy;y.destroy=void 0,E!==void 0&&$f(o,h,E)}y=y.next}while(y!==f)}}function Kc(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&n)===n){var f=h.create;h.destroy=f()}h=h.next}while(h!==o)}}function Vf(n){var o=n.ref;if(o!==null){var h=n.stateNode;switch(n.tag){case 5:n=h;break;default:n=h}typeof o=="function"?o(n):o.current=n}}function ny(n){var o=n.alternate;o!==null&&(n.alternate=null,ny(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Vn],delete o[tl],delete o[Pr],delete o[zc],delete o[Gc])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function iy(n){return n.tag===5||n.tag===3||n.tag===4}function sy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||iy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xf(n,o,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(n,o):h.insertBefore(n,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(n,h)):(o=h,o.appendChild(n)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=el));else if(f!==4&&(n=n.child,n!==null))for(Xf(n,o,h),n=n.sibling;n!==null;)Xf(n,o,h),n=n.sibling}function Yf(n,o,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?h.insertBefore(n,o):h.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Yf(n,o,h),n=n.sibling;n!==null;)Yf(n,o,h),n=n.sibling}var Ur=null,Li=!1;function sa(n,o,h){for(h=h.child;h!==null;)oy(n,o,h),h=h.sibling}function oy(n,o,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Hn,h)}catch{}switch(h.tag){case 5:en||Iu(h,o);case 6:var f=Ur,y=Li;Ur=null,sa(n,o,h),Ur=f,Li=y,Ur!==null&&(Li?(n=Ur,h=h.stateNode,n.nodeType===8?n.parentNode.removeChild(h):n.removeChild(h)):Ur.removeChild(h.stateNode));break;case 18:Ur!==null&&(Li?(n=Ur,h=h.stateNode,n.nodeType===8?yu(n.parentNode,h):n.nodeType===1&&yu(n,h),Us(n)):yu(Ur,h.stateNode));break;case 4:f=Ur,y=Li,Ur=h.stateNode.containerInfo,Li=!0,sa(n,o,h),Ur=f,Li=y;break;case 0:case 11:case 14:case 15:if(!en&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,M=E.destroy;E=E.tag,M!==void 0&&((E&2)!==0||(E&4)!==0)&&$f(h,o,M),y=y.next}while(y!==f)}sa(n,o,h);break;case 1:if(!en&&(Iu(h,o),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(j){ir(h,o,j)}sa(n,o,h);break;case 21:sa(n,o,h);break;case 22:h.mode&1?(en=(f=en)||h.memoizedState!==null,sa(n,o,h),en=f):sa(n,o,h);break;default:sa(n,o,h)}}function ay(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var h=n.stateNode;h===null&&(h=n.stateNode=new Zx),o.forEach(function(f){var y=l1.bind(null,n,f);h.has(f)||(h.add(f),f.then(y,y))})}}function Ui(n,o){var h=o.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f];try{var E=n,M=o,j=M;e:for(;j!==null;){switch(j.tag){case 5:Ur=j.stateNode,Li=!1;break e;case 3:Ur=j.stateNode.containerInfo,Li=!0;break e;case 4:Ur=j.stateNode.containerInfo,Li=!0;break e}j=j.return}if(Ur===null)throw Error(t(160));oy(E,M,y),Ur=null,Li=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(oe){ir(y,o,oe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ly(o,n),o=o.sibling}function ly(n,o){var h=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ui(o,n),_s(n),f&4){try{qh(3,n,n.return),Kc(3,n)}catch(Ve){ir(n,n.return,Ve)}try{qh(5,n,n.return)}catch(Ve){ir(n,n.return,Ve)}}break;case 1:Ui(o,n),_s(n),f&512&&h!==null&&Iu(h,h.return);break;case 5:if(Ui(o,n),_s(n),f&512&&h!==null&&Iu(h,h.return),n.flags&32){var y=n.stateNode;try{vi(y,"")}catch(Ve){ir(n,n.return,Ve)}}if(f&4&&(y=n.stateNode,y!=null)){var E=n.memoizedProps,M=h!==null?h.memoizedProps:E,j=n.type,$=n.updateQueue;if(n.updateQueue=null,$!==null)try{j==="input"&&E.type==="radio"&&E.name!=null&&$e(y,E),se(j,M);var oe=se(j,E);for(M=0;M<$.length;M+=2){var xe=$[M],Ee=$[M+1];xe==="style"?_o(y,Ee):xe==="dangerouslySetInnerHTML"?Ki(y,Ee):xe==="children"?vi(y,Ee):F(y,xe,Ee,oe)}switch(j){case"input":Mt(y,E);break;case"textarea":tn(y,E);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Oe=E.value;Oe!=null?pr(y,!!E.multiple,Oe,!1):ve!==!!E.multiple&&(E.defaultValue!=null?pr(y,!!E.multiple,E.defaultValue,!0):pr(y,!!E.multiple,E.multiple?[]:"",!1))}y[tl]=E}catch(Ve){ir(n,n.return,Ve)}}break;case 6:if(Ui(o,n),_s(n),f&4){if(n.stateNode===null)throw Error(t(162));y=n.stateNode,E=n.memoizedProps;try{y.nodeValue=E}catch(Ve){ir(n,n.return,Ve)}}break;case 3:if(Ui(o,n),_s(n),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Us(o.containerInfo)}catch(Ve){ir(n,n.return,Ve)}break;case 4:Ui(o,n),_s(n);break;case 13:Ui(o,n),_s(n),y=n.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Kf=Yt())),f&4&&ay(n);break;case 22:if(xe=h!==null&&h.memoizedState!==null,n.mode&1?(en=(oe=en)||xe,Ui(o,n),en=oe):Ui(o,n),_s(n),f&8192){if(oe=n.memoizedState!==null,(n.stateNode.isHidden=oe)&&!xe&&(n.mode&1)!==0)for(Le=n,xe=n.child;xe!==null;){for(Ee=Le=xe;Le!==null;){switch(ve=Le,Oe=ve.child,ve.tag){case 0:case 11:case 14:case 15:qh(4,ve,ve.return);break;case 1:Iu(ve,ve.return);var Ge=ve.stateNode;if(typeof Ge.componentWillUnmount=="function"){f=ve,h=ve.return;try{o=f,Ge.props=o.memoizedProps,Ge.state=o.memoizedState,Ge.componentWillUnmount()}catch(Ve){ir(f,h,Ve)}}break;case 5:Iu(ve,ve.return);break;case 22:if(ve.memoizedState!==null){cy(Ee);continue}}Oe!==null?(Oe.return=ve,Le=Oe):cy(Ee)}xe=xe.sibling}e:for(xe=null,Ee=n;;){if(Ee.tag===5){if(xe===null){xe=Ee;try{y=Ee.stateNode,oe?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(j=Ee.stateNode,$=Ee.memoizedProps.style,M=$!=null&&$.hasOwnProperty("display")?$.display:null,j.style.display=zl("display",M))}catch(Ve){ir(n,n.return,Ve)}}}else if(Ee.tag===6){if(xe===null)try{Ee.stateNode.nodeValue=oe?"":Ee.memoizedProps}catch(Ve){ir(n,n.return,Ve)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===n)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===n)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===n)break e;xe===Ee&&(xe=null),Ee=Ee.return}xe===Ee&&(xe=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Ui(o,n),_s(n),f&4&&ay(n);break;case 21:break;default:Ui(o,n),_s(n)}}function _s(n){var o=n.flags;if(o&2){try{e:{for(var h=n.return;h!==null;){if(iy(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(vi(y,""),f.flags&=-33);var E=sy(n);Yf(n,E,y);break;case 3:case 4:var M=f.stateNode.containerInfo,j=sy(n);Xf(n,j,M);break;default:throw Error(t(161))}}catch($){ir(n,n.return,$)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function e1(n,o,h){Le=n,uy(n)}function uy(n,o,h){for(var f=(n.mode&1)!==0;Le!==null;){var y=Le,E=y.child;if(y.tag===22&&f){var M=y.memoizedState!==null||Qc;if(!M){var j=y.alternate,$=j!==null&&j.memoizedState!==null||en;j=Qc;var oe=en;if(Qc=M,(en=$)&&!oe)for(Le=y;Le!==null;)M=Le,$=M.child,M.tag===22&&M.memoizedState!==null?dy(y):$!==null?($.return=M,Le=$):dy(y);for(;E!==null;)Le=E,uy(E),E=E.sibling;Le=y,Qc=j,en=oe}hy(n)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Le=E):hy(n)}}function hy(n){for(;Le!==null;){var o=Le;if((o.flags&8772)!==0){var h=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:en||Kc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!en)if(h===null)f.componentDidMount();else{var y=o.elementType===o.type?h.memoizedProps:l(o.type,h.memoizedProps);f.componentDidUpdate(y,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&gs(o,E,f);break;case 3:var M=o.updateQueue;if(M!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}gs(o,M,h)}break;case 5:var j=o.stateNode;if(h===null&&o.flags&4){h=j;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&h.focus();break;case"img":$.src&&(h.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var oe=o.alternate;if(oe!==null){var xe=oe.memoizedState;if(xe!==null){var Ee=xe.dehydrated;Ee!==null&&Us(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||o.flags&512&&Vf(o)}catch(ve){ir(o,o.return,ve)}}if(o===n){Le=null;break}if(h=o.sibling,h!==null){h.return=o.return,Le=h;break}Le=o.return}}function cy(n){for(;Le!==null;){var o=Le;if(o===n){Le=null;break}var h=o.sibling;if(h!==null){h.return=o.return,Le=h;break}Le=o.return}}function dy(n){for(;Le!==null;){var o=Le;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{Kc(4,o)}catch($){ir(o,h,$)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch($){ir(o,y,$)}}var E=o.return;try{Vf(o)}catch($){ir(o,E,$)}break;case 5:var M=o.return;try{Vf(o)}catch($){ir(o,M,$)}}}catch($){ir(o,o.return,$)}if(o===n){Le=null;break}var j=o.sibling;if(j!==null){j.return=o.return,Le=j;break}Le=o.return}}var t1=Math.ceil,Zc=W.ReactCurrentDispatcher,qf=W.ReactCurrentOwner,di=W.ReactCurrentBatchConfig,vt=0,Mr=null,gr=null,zr=0,Kn=0,Mu=Ri(0),Sr=0,Qh=null,yl=0,Jc=0,Qf=0,Kh=null,Nn=null,Kf=0,ku=1/0,so=null,ed=!1,Zf=null,oa=null,td=!1,aa=null,rd=0,Zh=0,Jf=null,nd=-1,id=0;function dn(){return(vt&6)!==0?Yt():nd!==-1?nd:nd=Yt()}function la(n){return(n.mode&1)===0?1:(vt&2)!==0&&zr!==0?zr&-zr:Ff.transition!==null?(id===0&&(id=yn()),id):(n=pt,n!==0||(n=window.event,n=n===void 0?16:sn(n.type)),n)}function zi(n,o,h,f){if(50<Zh)throw Zh=0,Jf=null,Error(t(185));Ma(n,h,f),((vt&2)===0||n!==Mr)&&(n===Mr&&((vt&2)===0&&(Jc|=h),Sr===4&&ua(n,zr)),On(n,f),h===1&&vt===0&&(o.mode&1)===0&&(ku=Yt()+500,bn&&An()))}function On(n,o){var h=n.callbackNode;Xl(n,o);var f=Ia(n,n===Mr?zr:0);if(f===0)h!==null&&Ca(h),n.callbackNode=null,n.callbackPriority=0;else if(o=f&-f,n.callbackPriority!==o){if(h!=null&&Ca(h),o===1)n.tag===0?Hc(py.bind(null,n)):Nh(py.bind(null,n)),Ih(function(){(vt&6)===0&&An()}),h=null;else{switch(Da(f)){case 1:h=Ra;break;case 4:h=$l;break;case 16:h=Vl;break;case 536870912:h=Fs;break;default:h=Vl}h=Ey(h,fy.bind(null,n))}n.callbackPriority=o,n.callbackNode=h}}function fy(n,o){if(nd=-1,id=0,(vt&6)!==0)throw Error(t(327));var h=n.callbackNode;if(Du()&&n.callbackNode!==h)return null;var f=Ia(n,n===Mr?zr:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||o)o=sd(n,f);else{o=f;var y=vt;vt|=2;var E=gy();(Mr!==n||zr!==o)&&(so=null,ku=Yt()+500,_l(n,o));do try{i1();break}catch(j){my(n,j)}while(!0);al(),Zc.current=E,vt=y,gr!==null?o=0:(Mr=null,zr=0,o=Sr)}if(o!==0){if(o===2&&(y=Yl(n),y!==0&&(f=y,o=ep(n,y))),o===1)throw h=Qh,_l(n,0),ua(n,f),On(n,Yt()),h;if(o===6)ua(n,f);else{if(y=n.current.alternate,(f&30)===0&&!r1(y)&&(o=sd(n,f),o===2&&(E=Yl(n),E!==0&&(f=E,o=ep(n,E))),o===1))throw h=Qh,_l(n,0),ua(n,f),On(n,Yt()),h;switch(n.finishedWork=y,n.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:xl(n,Nn,so);break;case 3:if(ua(n,f),(f&130023424)===f&&(o=Kf+500-Yt(),10<o)){if(Ia(n,0)!==0)break;if(y=n.suspendedLanes,(y&f)!==f){dn(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Rh(xl.bind(null,n,Nn,so),o);break}xl(n,Nn,so);break;case 4:if(ua(n,f),(f&4194240)===f)break;for(o=n.eventTimes,y=-1;0<f;){var M=31-mr(f);E=1<<M,M=o[M],M>y&&(y=M),f&=~E}if(f=y,f=Yt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*t1(f/1960))-f,10<f){n.timeoutHandle=Rh(xl.bind(null,n,Nn,so),f);break}xl(n,Nn,so);break;case 5:xl(n,Nn,so);break;default:throw Error(t(329))}}}return On(n,Yt()),n.callbackNode===h?fy.bind(null,n):null}function ep(n,o){var h=Kh;return n.current.memoizedState.isDehydrated&&(_l(n,o).flags|=256),n=sd(n,o),n!==2&&(o=Nn,Nn=h,o!==null&&tp(o)),n}function tp(n){Nn===null?Nn=n:Nn.push.apply(Nn,n)}function r1(n){for(var o=n;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var y=h[f],E=y.getSnapshot;y=y.value;try{if(!an(E(),y))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ua(n,o){for(o&=~Qf,o&=~Jc,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var h=31-mr(o),f=1<<h;n[h]=-1,o&=~f}}function py(n){if((vt&6)!==0)throw Error(t(327));Du();var o=Ia(n,0);if((o&1)===0)return On(n,Yt()),null;var h=sd(n,o);if(n.tag!==0&&h===2){var f=Yl(n);f!==0&&(o=f,h=ep(n,f))}if(h===1)throw h=Qh,_l(n,0),ua(n,o),On(n,Yt()),h;if(h===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,xl(n,Nn,so),On(n,Yt()),null}function rp(n,o){var h=vt;vt|=1;try{return n(o)}finally{vt=h,vt===0&&(ku=Yt()+500,bn&&An())}}function vl(n){aa!==null&&aa.tag===0&&(vt&6)===0&&Du();var o=vt;vt|=1;var h=di.transition,f=pt;try{if(di.transition=null,pt=1,n)return n()}finally{pt=f,di.transition=h,vt=o,(vt&6)===0&&An()}}function np(){Kn=Mu.current,Rt(Mu)}function _l(n,o){n.finishedWork=null,n.finishedLanes=0;var h=n.timeoutHandle;if(h!==-1&&(n.timeoutHandle=-1,Vo(h)),gr!==null)for(h=gr.return;h!==null;){var f=h;switch(nl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&qo();break;case 3:un(),Rt(xr),Rt(ar),na();break;case 5:Su(f);break;case 4:un();break;case 13:Rt(It);break;case 19:Rt(It);break;case 10:ll(f.type._context);break;case 22:case 23:np()}h=h.return}if(Mr=n,gr=n=ha(n.current,null),zr=Kn=o,Sr=0,Qh=null,Qf=Jc=yl=0,Nn=Kh=null,eo!==null){for(o=0;o<eo.length;o++)if(h=eo[o],f=h.interleaved,f!==null){h.interleaved=null;var y=f.next,E=h.pending;if(E!==null){var M=E.next;E.next=y,f.next=M}h.pending=f}eo=null}return n}function my(n,o){do{var h=gr;try{if(al(),Xn.current=gl,lr){for(var f=Ft.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}lr=!1}if(Yn=0,Qt=Vt=Ft=null,Dn=!1,Ir=0,qf.current=null,h===null||h.return===null){Sr=1,Qh=o,gr=null;break}e:{var E=n,M=h.return,j=h,$=o;if(o=zr,j.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var oe=$,xe=j,Ee=xe.tag;if((xe.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var ve=xe.alternate;ve?(xe.updateQueue=ve.updateQueue,xe.memoizedState=ve.memoizedState,xe.lanes=ve.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Oe=ze(M);if(Oe!==null){Oe.flags&=-257,st(Oe,M,j,E,o),Oe.mode&1&&Se(E,oe,o),o=Oe,$=oe;var Ge=o.updateQueue;if(Ge===null){var Ve=new Set;Ve.add($),o.updateQueue=Ve}else Ge.add($);break e}else{if((o&1)===0){Se(E,oe,o),ip();break e}$=Error(t(426))}}else if(Nt&&j.mode&1){var hr=ze(M);if(hr!==null){(hr.flags&65536)===0&&(hr.flags|=256),st(hr,M,j,E,o),Mn(V($,j));break e}}E=$=V($,j),Sr!==4&&(Sr=2),Kh===null?Kh=[E]:Kh.push(E),E=M;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var ee=Ie(E,$,o);nr(E,ee);break e;case 1:j=$;var Y=E.type,ne=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(oa===null||!oa.has(ne)))){E.flags|=65536,o&=-o,E.lanes|=o;var Ce=de(E,j,o);nr(E,Ce);break e}}E=E.return}while(E!==null)}vy(h)}catch(Ye){o=Ye,gr===h&&h!==null&&(gr=h=h.return);continue}break}while(!0)}function gy(){var n=Zc.current;return Zc.current=gl,n===null?gl:n}function ip(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Mr===null||(yl&268435455)===0&&(Jc&268435455)===0||ua(Mr,zr)}function sd(n,o){var h=vt;vt|=2;var f=gy();(Mr!==n||zr!==o)&&(so=null,_l(n,o));do try{n1();break}catch(y){my(n,y)}while(!0);if(al(),vt=h,Zc.current=f,gr!==null)throw Error(t(261));return Mr=null,zr=0,Sr}function n1(){for(;gr!==null;)yy(gr)}function i1(){for(;gr!==null&&!Pf();)yy(gr)}function yy(n){var o=wy(n.alternate,n,Kn);n.memoizedProps=n.pendingProps,o===null?vy(n):gr=o,qf.current=null}function vy(n){var o=n;do{var h=o.alternate;if(n=o.return,(o.flags&32768)===0){if(h=Qx(h,o,Kn),h!==null){gr=h;return}}else{if(h=Kx(h,o),h!==null){h.flags&=32767,gr=h;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Sr=6,gr=null;return}}if(o=o.sibling,o!==null){gr=o;return}gr=o=n}while(o!==null);Sr===0&&(Sr=5)}function xl(n,o,h){var f=pt,y=di.transition;try{di.transition=null,pt=1,s1(n,o,h,f)}finally{di.transition=y,pt=f}return null}function s1(n,o,h,f){do Du();while(aa!==null);if((vt&6)!==0)throw Error(t(327));h=n.finishedWork;var y=n.finishedLanes;if(h===null)return null;if(n.finishedWork=null,n.finishedLanes=0,h===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var E=h.lanes|h.childLanes;if(ih(n,E),n===Mr&&(gr=Mr=null,zr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||td||(td=!0,Ey(Vl,function(){return Du(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=di.transition,di.transition=null;var M=pt;pt=1;var j=vt;vt|=4,qf.current=null,Jx(n,h),ly(h,n),ou(Ch),nn=!!$o,Ch=$o=null,n.current=h,e1(h),Rf(),vt=j,pt=M,di.transition=E}else n.current=h;if(td&&(td=!1,aa=n,rd=y),E=n.pendingLanes,E===0&&(oa=null),At(h.stateNode),On(n,Yt()),o!==null)for(f=n.onRecoverableError,h=0;h<o.length;h++)y=o[h],f(y.value,{componentStack:y.stack,digest:y.digest});if(ed)throw ed=!1,n=Zf,Zf=null,n;return(rd&1)!==0&&n.tag!==0&&Du(),E=n.pendingLanes,(E&1)!==0?n===Jf?Zh++:(Zh=0,Jf=n):Zh=0,An(),null}function Du(){if(aa!==null){var n=Da(rd),o=di.transition,h=pt;try{if(di.transition=null,pt=16>n?16:n,aa===null)var f=!1;else{if(n=aa,aa=null,rd=0,(vt&6)!==0)throw Error(t(331));var y=vt;for(vt|=4,Le=n.current;Le!==null;){var E=Le,M=E.child;if((Le.flags&16)!==0){var j=E.deletions;if(j!==null){for(var $=0;$<j.length;$++){var oe=j[$];for(Le=oe;Le!==null;){var xe=Le;switch(xe.tag){case 0:case 11:case 15:qh(8,xe,E)}var Ee=xe.child;if(Ee!==null)Ee.return=xe,Le=Ee;else for(;Le!==null;){xe=Le;var ve=xe.sibling,Oe=xe.return;if(ny(xe),xe===oe){Le=null;break}if(ve!==null){ve.return=Oe,Le=ve;break}Le=Oe}}}var Ge=E.alternate;if(Ge!==null){var Ve=Ge.child;if(Ve!==null){Ge.child=null;do{var hr=Ve.sibling;Ve.sibling=null,Ve=hr}while(Ve!==null)}}Le=E}}if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,Le=M;else e:for(;Le!==null;){if(E=Le,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:qh(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,Le=ee;break e}Le=E.return}}var Y=n.current;for(Le=Y;Le!==null;){M=Le;var ne=M.child;if((M.subtreeFlags&2064)!==0&&ne!==null)ne.return=M,Le=ne;else e:for(M=Y;Le!==null;){if(j=Le,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Kc(9,j)}}catch(Ye){ir(j,j.return,Ye)}if(j===M){Le=null;break e}var Ce=j.sibling;if(Ce!==null){Ce.return=j.return,Le=Ce;break e}Le=j.return}}if(vt=y,An(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Hn,n)}catch{}f=!0}return f}finally{pt=h,di.transition=o}}return!1}function _y(n,o,h){o=V(h,o),o=Ie(n,o,1),n=rr(n,o,1),o=dn(),n!==null&&(Ma(n,1,o),On(n,o))}function ir(n,o,h){if(n.tag===3)_y(n,n,h);else for(;o!==null;){if(o.tag===3){_y(o,n,h);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(oa===null||!oa.has(f))){n=V(h,n),n=de(o,n,1),o=rr(o,n,1),n=dn(),o!==null&&(Ma(o,1,n),On(o,n));break}}o=o.return}}function o1(n,o,h){var f=n.pingCache;f!==null&&f.delete(o),o=dn(),n.pingedLanes|=n.suspendedLanes&h,Mr===n&&(zr&h)===h&&(Sr===4||Sr===3&&(zr&130023424)===zr&&500>Yt()-Kf?_l(n,0):Qf|=h),On(n,o)}function xy(n,o){o===0&&((n.mode&1)===0?o=1:(o=Cr,Cr<<=1,(Cr&130023424)===0&&(Cr=4194304)));var h=dn();n=St(n,o),n!==null&&(Ma(n,o,h),On(n,h))}function a1(n){var o=n.memoizedState,h=0;o!==null&&(h=o.retryLane),xy(n,h)}function l1(n,o){var h=0;switch(n.tag){case 13:var f=n.stateNode,y=n.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),xy(n,h)}var wy;wy=function(n,o,h){if(n!==null)if(n.memoizedProps!==o.pendingProps||xr.current)q=!0;else{if((n.lanes&h)===0&&(o.flags&128)===0)return q=!1,qx(n,o,h);q=(n.flags&131072)!==0}else q=!1,Nt&&(o.flags&1048576)!==0&&Zo(o,Ys,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;qc(n,o),n=o.pendingProps;var y=fs(o,ar.current);Js(o,h),y=dl(null,o,f,n,y,h);var E=hi();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Lr(f)?(E=!0,Qo(o)):E=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,tr(o),y.updater=p,o.stateNode=y,y._reactInternals=o,O(o,f,n,h),o=ci(null,o,f,!0,E,h)):(o.tag=0,Nt&&E&&Jo(o),ae(null,o,y,h),o=o.child),o;case 16:f=o.elementType;e:{switch(qc(n,o),n=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=h1(f),n=l(f,n),y){case 0:o=ur(null,o,f,n,h);break e;case 1:o=yt(null,o,f,n,h);break e;case 11:o=we(null,o,f,n,h);break e;case 14:o=Qe(null,o,f,l(f.type,n),h);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),ur(n,o,f,y,h);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),yt(n,o,f,y,h);case 3:e:{if(Xc(o),n===null)throw Error(t(387));f=o.pendingProps,E=o.memoizedState,y=E.element,qt(n,o),ms(o,f,null,h);var M=o.memoizedState;if(f=M.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){y=V(Error(t(423)),o),o=qg(n,o,f,h,y);break e}else if(f!==y){y=V(Error(t(424)),o),o=qg(n,o,f,h,y);break e}else for(Qr=Pi(o.stateNode.containerInfo.firstChild),qr=o,Nt=!0,ln=null,h=ol(o,null,f,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(qs(),f===y){o=io(n,o,h);break e}ae(n,o,f,h)}o=o.child}return o;case 5:return to(o),n===null&&Rn(o),f=o.type,y=o.pendingProps,E=n!==null?n.memoizedProps:null,M=y.children,Ph(f,y)?M=null:E!==null&&Ph(f,E)&&(o.flags|=32),mt(n,o),ae(n,o,M,h),o.child;case 6:return n===null&&Rn(o),null;case 13:return Qg(n,o,h);case 4:return hl(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=Mi(o,null,f,h):ae(n,o,f,h),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),we(n,o,f,y,h);case 7:return ae(n,o,o.pendingProps,h),o.child;case 8:return ae(n,o,o.pendingProps.children,h),o.child;case 12:return ae(n,o,o.pendingProps.children,h),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,E=o.memoizedProps,M=y.value,xt(Qs,f._currentValue),f._currentValue=M,E!==null)if(an(E.value,M)){if(E.children===y.children&&!xr.current){o=io(n,o,h);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var j=E.dependencies;if(j!==null){M=E.child;for(var $=j.firstContext;$!==null;){if($.context===f){if(E.tag===1){$=Ot(-1,h&-h),$.tag=2;var oe=E.updateQueue;if(oe!==null){oe=oe.shared;var xe=oe.pending;xe===null?$.next=$:($.next=xe.next,xe.next=$),oe.pending=$}}E.lanes|=h,$=E.alternate,$!==null&&($.lanes|=h),ul(E.return,h,o),j.lanes|=h;break}$=$.next}}else if(E.tag===10)M=E.type===o.type?null:E.child;else if(E.tag===18){if(M=E.return,M===null)throw Error(t(341));M.lanes|=h,j=M.alternate,j!==null&&(j.lanes|=h),ul(M,h,o),M=E.sibling}else M=E.child;if(M!==null)M.return=E;else for(M=E;M!==null;){if(M===o){M=null;break}if(E=M.sibling,E!==null){E.return=M.return,M=E;break}M=M.return}E=M}ae(n,o,y.children,h),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,Js(o,h),y=Kr(y),f=f(y),o.flags|=1,ae(n,o,f,h),o.child;case 14:return f=o.type,y=l(f,o.pendingProps),y=l(f.type,y),Qe(n,o,f,y,h);case 15:return gt(n,o,o.type,o.pendingProps,h);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),qc(n,o),o.tag=1,Lr(f)?(n=!0,Qo(o)):n=!1,Js(o,h),x(o,f,y),O(o,f,y,h),ci(null,o,f,!0,n,h);case 19:return Zg(n,o,h);case 22:return je(n,o,h)}throw Error(t(156,o.tag))};function Ey(n,o){return Wl(n,o)}function u1(n,o,h,f){this.tag=n,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(n,o,h,f){return new u1(n,o,h,f)}function sp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function h1(n){if(typeof n=="function")return sp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Q)return 11;if(n===Te)return 14}return 2}function ha(n,o){var h=n.alternate;return h===null?(h=fi(n.tag,o,n.key,n.mode),h.elementType=n.elementType,h.type=n.type,h.stateNode=n.stateNode,h.alternate=n,n.alternate=h):(h.pendingProps=o,h.type=n.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=n.flags&14680064,h.childLanes=n.childLanes,h.lanes=n.lanes,h.child=n.child,h.memoizedProps=n.memoizedProps,h.memoizedState=n.memoizedState,h.updateQueue=n.updateQueue,o=n.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=n.sibling,h.index=n.index,h.ref=n.ref,h}function od(n,o,h,f,y,E){var M=2;if(f=n,typeof n=="function")sp(n)&&(M=1);else if(typeof n=="string")M=5;else e:switch(n){case N:return wl(h.children,y,E,o);case J:M=8,y|=8;break;case ce:return n=fi(12,h,o,y|2),n.elementType=ce,n.lanes=E,n;case Z:return n=fi(13,h,o,y),n.elementType=Z,n.lanes=E,n;case le:return n=fi(19,h,o,y),n.elementType=le,n.lanes=E,n;case G:return ad(h,y,E,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case fe:M=10;break e;case Pe:M=9;break e;case Q:M=11;break e;case Te:M=14;break e;case B:M=16,f=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return o=fi(M,h,o,y),o.elementType=n,o.type=f,o.lanes=E,o}function wl(n,o,h,f){return n=fi(7,n,f,o),n.lanes=h,n}function ad(n,o,h,f){return n=fi(22,n,f,o),n.elementType=G,n.lanes=h,n.stateNode={isHidden:!1},n}function op(n,o,h){return n=fi(6,n,null,o),n.lanes=h,n}function ap(n,o,h){return o=fi(4,n.children!==null?n.children:[],n.key,o),o.lanes=h,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function c1(n,o,h,f,y){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nh(0),this.expirationTimes=nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nh(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function lp(n,o,h,f,y,E,M,j,$){return n=new c1(n,o,h,j,$),o===1?(o=1,E===!0&&(o|=8)):o=0,E=fi(3,null,null,o),n.current=E,E.stateNode=n,E.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},tr(E),n}function d1(n,o,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:n,containerInfo:o,implementation:h}}function Sy(n){if(!n)return En;n=n._reactInternals;e:{if(Gn(n)!==n||n.tag!==1)throw Error(t(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(n.tag===1){var h=n.type;if(Lr(h))return kh(n,h,o)}return o}function by(n,o,h,f,y,E,M,j,$){return n=lp(h,f,!0,n,y,E,M,j,$),n.context=Sy(null),h=n.current,f=dn(),y=la(h),E=Ot(f,y),E.callback=o??null,rr(h,E,y),n.current.lanes=y,Ma(n,y,f),On(n,f),n}function ld(n,o,h,f){var y=o.current,E=dn(),M=la(y);return h=Sy(h),o.context===null?o.context=h:o.pendingContext=h,o=Ot(E,M),o.payload={element:n},f=f===void 0?null:f,f!==null&&(o.callback=f),n=rr(y,o,M),n!==null&&(zi(n,y,M,E),Di(n,y,M)),M}function ud(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ty(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var h=n.retryLane;n.retryLane=h!==0&&h<o?h:o}}function up(n,o){Ty(n,o),(n=n.alternate)&&Ty(n,o)}function f1(){return null}var Ay=typeof reportError=="function"?reportError:function(n){console.error(n)};function hp(n){this._internalRoot=n}hd.prototype.render=hp.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(t(409));ld(n,o,null,null)},hd.prototype.unmount=hp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;vl(function(){ld(null,n,null,null)}),o[$t]=null}};function hd(n){this._internalRoot=n}hd.prototype.unstable_scheduleHydration=function(n){if(n){var o=ql();n={blockedOn:null,target:n,priority:o};for(var h=0;h<kt.length&&o!==0&&o<kt[h].priority;h++);kt.splice(h,0,n),h===0&&La(n)}};function cp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function cd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function p1(n,o,h,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var oe=ud(M);E.call(oe)}}var M=by(o,f,n,0,null,!1,!1,"",Cy);return n._reactRootContainer=M,n[$t]=M.current,Ho(n.nodeType===8?n.parentNode:n),vl(),M}for(;y=n.lastChild;)n.removeChild(y);if(typeof f=="function"){var j=f;f=function(){var oe=ud($);j.call(oe)}}var $=lp(n,0,!1,null,null,!1,!1,"",Cy);return n._reactRootContainer=$,n[$t]=$.current,Ho(n.nodeType===8?n.parentNode:n),vl(function(){ld(o,$,h,f)}),$}function dd(n,o,h,f,y){var E=h._reactRootContainer;if(E){var M=E;if(typeof y=="function"){var j=y;y=function(){var $=ud(M);j.call($)}}ld(o,M,n,y)}else M=p1(h,o,n,y,f);return ud(M)}Rc=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var h=Ls(o.pendingLanes);h!==0&&(ka(o,h|1),On(o,Yt()),(vt&6)===0&&(ku=Yt()+500,An()))}break;case 13:vl(function(){var f=St(n,1);if(f!==null){var y=dn();zi(f,n,1,y)}}),up(n,1)}},Na=function(n){if(n.tag===13){var o=St(n,134217728);if(o!==null){var h=dn();zi(o,n,134217728,h)}up(n,134217728)}},sh=function(n){if(n.tag===13){var o=la(n),h=St(n,o);if(h!==null){var f=dn();zi(h,n,o,f)}up(n,o)}},ql=function(){return pt},To=function(n,o){var h=pt;try{return pt=n,o()}finally{pt=h}},Et=function(n,o,h){switch(o){case"input":if(Mt(n,h),o=h.name,h.type==="radio"&&o!=null){for(h=n;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var f=h[o];if(f!==n&&f.form===n.form){var y=Yo(f);if(!y)throw Error(t(90));Ue(f),Mt(f,y)}}}break;case"textarea":tn(n,h);break;case"select":o=h.value,o!=null&&pr(n,!!h.multiple,o,!1)}},wo=rp,Un=vl;var m1={usingClientEntryPoint:!1,Events:[Xo,Xs,Yo,vr,mn,rp]},Jh={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g1={bundleType:Jh.bundleType,version:Jh.version,rendererPackageName:Jh.rendererPackageName,rendererConfig:Jh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=xi(n),n===null?null:n.stateNode},findFiberByHostInstance:Jh.findFiberByHostInstance||f1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Hn=fd.inject(g1),ft=fd}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1,Fn.createPortal=function(n,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(o))throw Error(t(200));return d1(n,o,null,h)},Fn.createRoot=function(n,o){if(!cp(n))throw Error(t(299));var h=!1,f="",y=Ay;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=lp(n,1,!1,null,null,h,!1,f,y),n[$t]=o.current,Ho(n.nodeType===8?n.parentNode:n),new hp(o)},Fn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=xi(o),n=n===null?null:n.stateNode,n},Fn.flushSync=function(n){return vl(n)},Fn.hydrate=function(n,o,h){if(!cd(o))throw Error(t(200));return dd(null,n,o,!0,h)},Fn.hydrateRoot=function(n,o,h){if(!cp(n))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,y=!1,E="",M=Ay;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(M=h.onRecoverableError)),o=by(o,null,n,1,h??null,y,!1,E,M),n[$t]=o.current,Ho(n),f)for(n=0;n<f.length;n++)h=f[n],y=h._getVersion,y=y(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,y]:o.mutableSourceEagerHydrationData.push(h,y);return new hd(o)},Fn.render=function(n,o,h){if(!cd(o))throw Error(t(200));return dd(null,n,o,!1,h)},Fn.unmountComponentAtNode=function(n){if(!cd(n))throw Error(t(40));return n._reactRootContainer?(vl(function(){dd(null,null,n,!1,function(){n._reactRootContainer=null,n[$t]=null})}),!0):!1},Fn.unstable_batchedUpdates=rp,Fn.unstable_renderSubtreeIntoContainer=function(n,o,h,f){if(!cd(h))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return dd(n,o,h,!1,f)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Oy;function T1(){if(Oy)return pp.exports;Oy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pp.exports=b1(),pp.exports}var Fy;function A1(){if(Fy)return pd;Fy=1;var i=T1();return pd.createRoot=i.createRoot,pd.hydrateRoot=i.hydrateRoot,pd}var C1=A1();const P1=bc(C1);var gc={exports:{}},Fl=(i=>(i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i))(Fl||{}),u_=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i))(u_||{}),Vm=(i=>(i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",i))(Vm||{}),et=(i=>(i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",i))(et||{}),Vi=(i=>(i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i))(Vi||{}),Ae=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(Ae||{}),Vu=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))(Vu||{}),Ke=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(Ke||{}),Fe=(i=>(i[i.FLOAT=0]="FLOAT",i[i.INT=1]="INT",i[i.UINT=2]="UINT",i))(Fe||{}),uo=(i=>(i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",i))(uo||{}),fo=(i=>(i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i))(fo||{}),Is=(i=>(i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL",i))(Is||{}),Bn=(i=>(i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",i))(Bn||{}),Ts=(i=>(i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",i))(Ts||{}),Fg=(i=>(i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i))(Fg||{}),mi=(i=>(i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",i))(mi||{}),br=(i=>(i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",i[i.COLOR=4]="COLOR",i))(br||{}),yr=(i=>(i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH",i))(yr||{}),Ps=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(Ps||{});const R1={createCanvas:(i,e)=>{const t=document.createElement("canvas");return t.width=i,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")},Be={ADAPTER:R1,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var yp=/iPhone/i,By=/iPod/i,Ly=/iPad/i,Uy=/\biOS-universal(?:.+)Mac\b/i,vp=/\bAndroid(?:.+)Mobile\b/i,zy=/Android/i,Nu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,md=/Silk/i,oo=/Windows Phone/i,Gy=/\bWindows(?:.+)ARM\b/i,Hy=/BlackBerry/i,jy=/BB10/i,Wy=/Opera Mini/i,$y=/\b(CriOS|Chrome)(?:.+)Mobile/i,Vy=/Mobile(?:.+)Firefox\b/i,Xy=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function I1(i){return function(e){return e.test(i)}}function Yy(i){var e={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?e.userAgent=i:i&&i.userAgent&&(e={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var s=I1(t),a={apple:{phone:s(yp)&&!s(oo),ipod:s(By),tablet:!s(yp)&&(s(Ly)||Xy(e))&&!s(oo),universal:s(Uy),device:(s(yp)||s(By)||s(Ly)||s(Uy)||Xy(e))&&!s(oo)},amazon:{phone:s(Nu),tablet:!s(Nu)&&s(md),device:s(Nu)||s(md)},android:{phone:!s(oo)&&s(Nu)||!s(oo)&&s(vp),tablet:!s(oo)&&!s(Nu)&&!s(vp)&&(s(md)||s(zy)),device:!s(oo)&&(s(Nu)||s(md)||s(vp)||s(zy))||s(/\bokhttp\b/i)},windows:{phone:s(oo),tablet:s(Gy),device:s(oo)||s(Gy)},other:{blackberry:s(Hy),blackberry10:s(jy),opera:s(Wy),firefox:s(Vy),chrome:s($y),device:s(Hy)||s(jy)||s(Wy)||s(Vy)||s($y)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const M1=Yy.default??Yy,ho=M1(globalThis.navigator);Be.RETINA_PREFIX=/@([0-9\.]+)x/;Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var _p={exports:{}},qy;function k1(){return qy||(qy=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(m,g,_){this.fn=m,this.context=g,this.once=_||!1}function a(m,g,_,w,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new s(_,w||m,S),A=t?t+g:g;return m._events[A]?m._events[A].fn?m._events[A]=[m._events[A],b]:m._events[A].push(b):(m._events[A]=b,m._eventsCount++),m}function c(m,g){--m._eventsCount===0?m._events=new r:delete m._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],_,w;if(this._eventsCount===0)return g;for(w in _=this._events)e.call(_,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},d.prototype.listeners=function(g){var _=t?t+g:g,w=this._events[_];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,b=w.length,A=new Array(b);S<b;S++)A[S]=w[S].fn;return A},d.prototype.listenerCount=function(g){var _=t?t+g:g,w=this._events[_];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,_,w,S,b,A){var I=t?t+g:g;if(!this._events[I])return!1;var P=this._events[I],k=arguments.length,z,F;if(P.fn){switch(P.once&&this.removeListener(g,P.fn,void 0,!0),k){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,_),!0;case 3:return P.fn.call(P.context,_,w),!0;case 4:return P.fn.call(P.context,_,w,S),!0;case 5:return P.fn.call(P.context,_,w,S,b),!0;case 6:return P.fn.call(P.context,_,w,S,b,A),!0}for(F=1,z=new Array(k-1);F<k;F++)z[F-1]=arguments[F];P.fn.apply(P.context,z)}else{var W=P.length,L;for(F=0;F<W;F++)switch(P[F].once&&this.removeListener(g,P[F].fn,void 0,!0),k){case 1:P[F].fn.call(P[F].context);break;case 2:P[F].fn.call(P[F].context,_);break;case 3:P[F].fn.call(P[F].context,_,w);break;case 4:P[F].fn.call(P[F].context,_,w,S);break;default:if(!z)for(L=1,z=new Array(k-1);L<k;L++)z[L-1]=arguments[L];P[F].fn.apply(P[F].context,z)}}return!0},d.prototype.on=function(g,_,w){return a(this,g,_,w,!1)},d.prototype.once=function(g,_,w){return a(this,g,_,w,!0)},d.prototype.removeListener=function(g,_,w,S){var b=t?t+g:g;if(!this._events[b])return this;if(!_)return c(this,b),this;var A=this._events[b];if(A.fn)A.fn===_&&(!S||A.once)&&(!w||A.context===w)&&c(this,b);else{for(var I=0,P=[],k=A.length;I<k;I++)(A[I].fn!==_||S&&!A[I].once||w&&A[I].context!==w)&&P.push(A[I]);P.length?this._events[b]=P.length===1?P[0]:P:c(this,b)}return this},d.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&c(this,_)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,i.exports=d}(_p)),_p.exports}var D1=k1();const Tc=bc(D1);var gd={exports:{}},Qy;function N1(){if(Qy)return gd.exports;Qy=1,gd.exports=i,gd.exports.default=i;function i(B,G,C){C=C||2;var H=G&&G.length,D=H?G[0]*C:B.length,R=e(B,0,D,C,!0),U=[];if(!R||R.next===R.prev)return U;var X,ie,ue,pe,_e,be,Re;if(H&&(R=m(B,G,R,C)),B.length>80*C){X=ue=B[0],ie=pe=B[1];for(var ye=C;ye<D;ye+=C)_e=B[ye],be=B[ye+1],_e<X&&(X=_e),be<ie&&(ie=be),_e>ue&&(ue=_e),be>pe&&(pe=be);Re=Math.max(ue-X,pe-ie),Re=Re!==0?32767/Re:0}return r(R,U,C,X,ie,Re,0),U}function e(B,G,C,H,D){var R,U;if(D===Te(B,G,C,H)>0)for(R=G;R<C;R+=H)U=Q(R,B[R],B[R+1],U);else for(R=C-H;R>=G;R-=H)U=Q(R,B[R],B[R+1],U);return U&&W(U,U.next)&&(Z(U),U=U.next),U}function t(B,G){if(!B)return B;G||(G=B);var C=B,H;do if(H=!1,!C.steiner&&(W(C,C.next)||F(C.prev,C,C.next)===0)){if(Z(C),C=G=C.prev,C===C.next)break;H=!0}else C=C.next;while(H||C!==G);return G}function r(B,G,C,H,D,R,U){if(B){!U&&R&&b(B,H,D,R);for(var X=B,ie,ue;B.prev!==B.next;){if(ie=B.prev,ue=B.next,R?a(B,H,D,R):s(B)){G.push(ie.i/C|0),G.push(B.i/C|0),G.push(ue.i/C|0),Z(B),B=ue.next,X=ue.next;continue}if(B=ue,B===X){U?U===1?(B=c(t(B),G,C),r(B,G,C,H,D,R,2)):U===2&&d(B,G,C,H,D,R):r(t(B),G,C,H,D,R,1);break}}}}function s(B){var G=B.prev,C=B,H=B.next;if(F(G,C,H)>=0)return!1;for(var D=G.x,R=C.x,U=H.x,X=G.y,ie=C.y,ue=H.y,pe=D<R?D<U?D:U:R<U?R:U,_e=X<ie?X<ue?X:ue:ie<ue?ie:ue,be=D>R?D>U?D:U:R>U?R:U,Re=X>ie?X>ue?X:ue:ie>ue?ie:ue,ye=H.next;ye!==G;){if(ye.x>=pe&&ye.x<=be&&ye.y>=_e&&ye.y<=Re&&k(D,X,R,ie,U,ue,ye.x,ye.y)&&F(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function a(B,G,C,H){var D=B.prev,R=B,U=B.next;if(F(D,R,U)>=0)return!1;for(var X=D.x,ie=R.x,ue=U.x,pe=D.y,_e=R.y,be=U.y,Re=X<ie?X<ue?X:ue:ie<ue?ie:ue,ye=pe<_e?pe<be?pe:be:_e<be?_e:be,Me=X>ie?X>ue?X:ue:ie>ue?ie:ue,Ue=pe>_e?pe>be?pe:be:_e>be?_e:be,We=I(Re,ye,G,C,H),at=I(Me,Ue,G,C,H),He=B.prevZ,$e=B.nextZ;He&&He.z>=We&&$e&&$e.z<=at;){if(He.x>=Re&&He.x<=Me&&He.y>=ye&&He.y<=Ue&&He!==D&&He!==U&&k(X,pe,ie,_e,ue,be,He.x,He.y)&&F(He.prev,He,He.next)>=0||(He=He.prevZ,$e.x>=Re&&$e.x<=Me&&$e.y>=ye&&$e.y<=Ue&&$e!==D&&$e!==U&&k(X,pe,ie,_e,ue,be,$e.x,$e.y)&&F($e.prev,$e,$e.next)>=0))return!1;$e=$e.nextZ}for(;He&&He.z>=We;){if(He.x>=Re&&He.x<=Me&&He.y>=ye&&He.y<=Ue&&He!==D&&He!==U&&k(X,pe,ie,_e,ue,be,He.x,He.y)&&F(He.prev,He,He.next)>=0)return!1;He=He.prevZ}for(;$e&&$e.z<=at;){if($e.x>=Re&&$e.x<=Me&&$e.y>=ye&&$e.y<=Ue&&$e!==D&&$e!==U&&k(X,pe,ie,_e,ue,be,$e.x,$e.y)&&F($e.prev,$e,$e.next)>=0)return!1;$e=$e.nextZ}return!0}function c(B,G,C){var H=B;do{var D=H.prev,R=H.next.next;!W(D,R)&&L(D,H,H.next,R)&&ce(D,R)&&ce(R,D)&&(G.push(D.i/C|0),G.push(H.i/C|0),G.push(R.i/C|0),Z(H),Z(H.next),H=B=R),H=H.next}while(H!==B);return t(H)}function d(B,G,C,H,D,R){var U=B;do{for(var X=U.next.next;X!==U.prev;){if(U.i!==X.i&&z(U,X)){var ie=Pe(U,X);U=t(U,U.next),ie=t(ie,ie.next),r(U,G,C,H,D,R,0),r(ie,G,C,H,D,R,0);return}X=X.next}U=U.next}while(U!==B)}function m(B,G,C,H){var D=[],R,U,X,ie,ue;for(R=0,U=G.length;R<U;R++)X=G[R]*H,ie=R<U-1?G[R+1]*H:B.length,ue=e(B,X,ie,H,!1),ue===ue.next&&(ue.steiner=!0),D.push(P(ue));for(D.sort(g),R=0;R<D.length;R++)C=_(D[R],C);return C}function g(B,G){return B.x-G.x}function _(B,G){var C=w(B,G);if(!C)return G;var H=Pe(C,B);return t(H,H.next),t(C,C.next)}function w(B,G){var C=G,H=B.x,D=B.y,R=-1/0,U;do{if(D<=C.y&&D>=C.next.y&&C.next.y!==C.y){var X=C.x+(D-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(X<=H&&X>R&&(R=X,U=C.x<C.next.x?C:C.next,X===H))return U}C=C.next}while(C!==G);if(!U)return null;var ie=U,ue=U.x,pe=U.y,_e=1/0,be;C=U;do H>=C.x&&C.x>=ue&&H!==C.x&&k(D<pe?H:R,D,ue,pe,D<pe?R:H,D,C.x,C.y)&&(be=Math.abs(D-C.y)/(H-C.x),ce(C,B)&&(be<_e||be===_e&&(C.x>U.x||C.x===U.x&&S(U,C)))&&(U=C,_e=be)),C=C.next;while(C!==ie);return U}function S(B,G){return F(B.prev,B,G.prev)<0&&F(G.next,B,B.next)<0}function b(B,G,C,H){var D=B;do D.z===0&&(D.z=I(D.x,D.y,G,C,H)),D.prevZ=D.prev,D.nextZ=D.next,D=D.next;while(D!==B);D.prevZ.nextZ=null,D.prevZ=null,A(D)}function A(B){var G,C,H,D,R,U,X,ie,ue=1;do{for(C=B,B=null,R=null,U=0;C;){for(U++,H=C,X=0,G=0;G<ue&&(X++,H=H.nextZ,!!H);G++);for(ie=ue;X>0||ie>0&&H;)X!==0&&(ie===0||!H||C.z<=H.z)?(D=C,C=C.nextZ,X--):(D=H,H=H.nextZ,ie--),R?R.nextZ=D:B=D,D.prevZ=R,R=D;C=H}R.nextZ=null,ue*=2}while(U>1);return B}function I(B,G,C,H,D){return B=(B-C)*D|0,G=(G-H)*D|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,B|G<<1}function P(B){var G=B,C=B;do(G.x<C.x||G.x===C.x&&G.y<C.y)&&(C=G),G=G.next;while(G!==B);return C}function k(B,G,C,H,D,R,U,X){return(D-U)*(G-X)>=(B-U)*(R-X)&&(B-U)*(H-X)>=(C-U)*(G-X)&&(C-U)*(R-X)>=(D-U)*(H-X)}function z(B,G){return B.next.i!==G.i&&B.prev.i!==G.i&&!J(B,G)&&(ce(B,G)&&ce(G,B)&&fe(B,G)&&(F(B.prev,B,G.prev)||F(B,G.prev,G))||W(B,G)&&F(B.prev,B,B.next)>0&&F(G.prev,G,G.next)>0)}function F(B,G,C){return(G.y-B.y)*(C.x-G.x)-(G.x-B.x)*(C.y-G.y)}function W(B,G){return B.x===G.x&&B.y===G.y}function L(B,G,C,H){var D=N(F(B,G,C)),R=N(F(B,G,H)),U=N(F(C,H,B)),X=N(F(C,H,G));return!!(D!==R&&U!==X||D===0&&K(B,C,G)||R===0&&K(B,H,G)||U===0&&K(C,B,H)||X===0&&K(C,G,H))}function K(B,G,C){return G.x<=Math.max(B.x,C.x)&&G.x>=Math.min(B.x,C.x)&&G.y<=Math.max(B.y,C.y)&&G.y>=Math.min(B.y,C.y)}function N(B){return B>0?1:B<0?-1:0}function J(B,G){var C=B;do{if(C.i!==B.i&&C.next.i!==B.i&&C.i!==G.i&&C.next.i!==G.i&&L(C,C.next,B,G))return!0;C=C.next}while(C!==B);return!1}function ce(B,G){return F(B.prev,B,B.next)<0?F(B,G,B.next)>=0&&F(B,B.prev,G)>=0:F(B,G,B.prev)<0||F(B,B.next,G)<0}function fe(B,G){var C=B,H=!1,D=(B.x+G.x)/2,R=(B.y+G.y)/2;do C.y>R!=C.next.y>R&&C.next.y!==C.y&&D<(C.next.x-C.x)*(R-C.y)/(C.next.y-C.y)+C.x&&(H=!H),C=C.next;while(C!==B);return H}function Pe(B,G){var C=new le(B.i,B.x,B.y),H=new le(G.i,G.x,G.y),D=B.next,R=G.prev;return B.next=G,G.prev=B,C.next=D,D.prev=C,H.next=C,C.prev=H,R.next=H,H.prev=R,H}function Q(B,G,C,H){var D=new le(B,G,C);return H?(D.next=H.next,D.prev=H,H.next.prev=D,H.next=D):(D.prev=D,D.next=D),D}function Z(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function le(B,G,C){this.i=B,this.x=G,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(B,G,C,H){var D=G&&G.length,R=D?G[0]*C:B.length,U=Math.abs(Te(B,0,R,C));if(D)for(var X=0,ie=G.length;X<ie;X++){var ue=G[X]*C,pe=X<ie-1?G[X+1]*C:B.length;U-=Math.abs(Te(B,ue,pe,C))}var _e=0;for(X=0;X<H.length;X+=3){var be=H[X]*C,Re=H[X+1]*C,ye=H[X+2]*C;_e+=Math.abs((B[be]-B[ye])*(B[Re+1]-B[be+1])-(B[be]-B[Re])*(B[ye+1]-B[be+1]))}return U===0&&_e===0?0:Math.abs((_e-U)/U)};function Te(B,G,C,H){for(var D=0,R=G,U=C-H;R<C;R+=H)D+=(B[U]-B[R])*(B[R+1]+B[U+1]),U=R;return D}return i.flatten=function(B){for(var G=B[0][0].length,C={vertices:[],holes:[],dimensions:G},H=0,D=0;D<B.length;D++){for(var R=0;R<B[D].length;R++)for(var U=0;U<G;U++)C.vertices.push(B[D][R][U]);D>0&&(H+=B[D-1].length,C.holes.push(H))}return C},gd.exports}var O1=N1();const F1=bc(O1);var El={},oc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var B1=oc.exports,Ky;function L1(){return Ky||(Ky=1,function(i,e){(function(t){var r=e&&!e.nodeType&&e,s=i&&!i.nodeType&&i,a=typeof Yd=="object"&&Yd;(a.global===a||a.window===a||a.self===a)&&(t=a);var c,d=2147483647,m=36,g=1,_=26,w=38,S=700,b=72,A=128,I="-",P=/^xn--/,k=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},W=m-g,L=Math.floor,K=String.fromCharCode,N;function J(D){throw new RangeError(F[D])}function ce(D,R){for(var U=D.length,X=[];U--;)X[U]=R(D[U]);return X}function fe(D,R){var U=D.split("@"),X="";U.length>1&&(X=U[0]+"@",D=U[1]),D=D.replace(z,".");var ie=D.split("."),ue=ce(ie,R).join(".");return X+ue}function Pe(D){for(var R=[],U=0,X=D.length,ie,ue;U<X;)ie=D.charCodeAt(U++),ie>=55296&&ie<=56319&&U<X?(ue=D.charCodeAt(U++),(ue&64512)==56320?R.push(((ie&1023)<<10)+(ue&1023)+65536):(R.push(ie),U--)):R.push(ie);return R}function Q(D){return ce(D,function(R){var U="";return R>65535&&(R-=65536,U+=K(R>>>10&1023|55296),R=56320|R&1023),U+=K(R),U}).join("")}function Z(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:m}function le(D,R){return D+22+75*(D<26)-((R!=0)<<5)}function Te(D,R,U){var X=0;for(D=U?L(D/S):D>>1,D+=L(D/R);D>W*_>>1;X+=m)D=L(D/W);return L(X+(W+1)*D/(D+w))}function B(D){var R=[],U=D.length,X,ie=0,ue=A,pe=b,_e,be,Re,ye,Me,Ue,We,at,He;for(_e=D.lastIndexOf(I),_e<0&&(_e=0),be=0;be<_e;++be)D.charCodeAt(be)>=128&&J("not-basic"),R.push(D.charCodeAt(be));for(Re=_e>0?_e+1:0;Re<U;){for(ye=ie,Me=1,Ue=m;Re>=U&&J("invalid-input"),We=Z(D.charCodeAt(Re++)),(We>=m||We>L((d-ie)/Me))&&J("overflow"),ie+=We*Me,at=Ue<=pe?g:Ue>=pe+_?_:Ue-pe,!(We<at);Ue+=m)He=m-at,Me>L(d/He)&&J("overflow"),Me*=He;X=R.length+1,pe=Te(ie-ye,X,ye==0),L(ie/X)>d-ue&&J("overflow"),ue+=L(ie/X),ie%=X,R.splice(ie++,0,ue)}return Q(R)}function G(D){var R,U,X,ie,ue,pe,_e,be,Re,ye,Me,Ue=[],We,at,He,$e;for(D=Pe(D),We=D.length,R=A,U=0,ue=b,pe=0;pe<We;++pe)Me=D[pe],Me<128&&Ue.push(K(Me));for(X=ie=Ue.length,ie&&Ue.push(I);X<We;){for(_e=d,pe=0;pe<We;++pe)Me=D[pe],Me>=R&&Me<_e&&(_e=Me);for(at=X+1,_e-R>L((d-U)/at)&&J("overflow"),U+=(_e-R)*at,R=_e,pe=0;pe<We;++pe)if(Me=D[pe],Me<R&&++U>d&&J("overflow"),Me==R){for(be=U,Re=m;ye=Re<=ue?g:Re>=ue+_?_:Re-ue,!(be<ye);Re+=m)$e=be-ye,He=m-ye,Ue.push(K(le(ye+$e%He,0))),be=L($e/He);Ue.push(K(le(be,0))),ue=Te(U,at,X==ie),U=0,++X}++U,++R}return Ue.join("")}function C(D){return fe(D,function(R){return P.test(R)?B(R.slice(4).toLowerCase()):R})}function H(D){return fe(D,function(R){return k.test(R)?"xn--"+G(R):R})}if(c={version:"1.4.1",ucs2:{decode:Pe,encode:Q},decode:B,encode:G,toASCII:H,toUnicode:C},r&&s)if(i.exports==r)s.exports=c;else for(N in c)c.hasOwnProperty(N)&&(r[N]=c[N]);else t.punycode=c})(B1)}(oc,oc.exports)),oc.exports}var xp,Zy;function Ju(){return Zy||(Zy=1,xp=TypeError),xp}const U1={},z1=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),G1=l_(z1);var wp,Jy;function pf(){if(Jy)return wp;Jy=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=i&&e&&typeof e.get=="function"?e.get:null,r=i&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&a&&typeof a.get=="function"?a.get:null,d=s&&Set.prototype.forEach,m=typeof WeakMap=="function"&&WeakMap.prototype,g=m?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,w=_?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,b=S?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,I=Object.prototype.toString,P=Function.prototype.toString,k=String.prototype.match,z=String.prototype.slice,F=String.prototype.replace,W=String.prototype.toUpperCase,L=String.prototype.toLowerCase,K=RegExp.prototype.test,N=Array.prototype.concat,J=Array.prototype.join,ce=Array.prototype.slice,fe=Math.floor,Pe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,le=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Te=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===le||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function C(re,se){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||K.call(/e/,se))return se;var ut=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var _t=re<0?-fe(-re):fe(re);if(_t!==re){var Et=String(_t),tt=z.call(se,Et.length+1);return F.call(Et,ut,"$&_")+"."+F.call(F.call(tt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(se,ut,"$&_")}var H=G1,D=H.custom,R=at(D)?D:null,U={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};wp=function re(se,ut,_t,Et){var tt=ut||{};if(Mt(tt,"quoteStyle")&&!Mt(U,tt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(tt,"maxStringLength")&&(typeof tt.maxStringLength=="number"?tt.maxStringLength<0&&tt.maxStringLength!==1/0:tt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Fr=Mt(tt,"customInspect")?tt.customInspect:!0;if(typeof Fr!="boolean"&&Fr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(tt,"indent")&&tt.indent!==null&&tt.indent!=="	"&&!(parseInt(tt.indent,10)===tt.indent&&tt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(tt,"numericSeparator")&&typeof tt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ni=tt.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return yo(se,tt);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var vr=String(se);return ni?C(se,vr):vr}if(typeof se=="bigint"){var mn=String(se)+"n";return ni?C(se,mn):mn}var wo=typeof tt.depth>"u"?5:tt.depth;if(typeof _t>"u"&&(_t=0),_t>=wo&&wo>0&&typeof se=="object")return _e(se)?"[Array]":"[Object]";var Un=zl(tt,_t);if(typeof Et>"u")Et=[];else if(fr(Et,se)>=0)return"[Circular]";function Tr(xi,Os,Wl){if(Os&&(Et=ce.call(Et),Et.push(Os)),Wl){var Ca={depth:tt.depth};return Mt(tt,"quoteStyle")&&(Ca.quoteStyle=tt.quoteStyle),re(xi,Ca,_t+1,Et)}return re(xi,tt,_t+1,Et)}if(typeof se=="function"&&!Re(se)){var Eo=ti(se),Ji=xo(se,Tr);return"[Function"+(Eo?": "+Eo:" (anonymous)")+"]"+(Ji.length>0?" { "+J.call(Ji,", ")+" }":"")}if(at(se)){var So=le?F.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(se);return typeof se=="object"&&!le?Ki(So):So}if(Ul(se)){for(var zn="<"+L.call(String(se.nodeName)),bo=se.attributes||[],gn=0;gn<bo.length;gn++)zn+=" "+bo[gn].name+"="+ie(ue(bo[gn].value),"double",tt);return zn+=">",se.childNodes&&se.childNodes.length&&(zn+="..."),zn+="</"+L.call(String(se.nodeName))+">",zn}if(_e(se)){if(se.length===0)return"[]";var es=xo(se,Tr);return Un&&!th(es)?"["+_o(es,Un)+"]":"[ "+J.call(es,", ")+" ]"}if(ye(se)){var ts=xo(se,Tr);return!("cause"in Error.prototype)&&"cause"in se&&!B.call(se,"cause")?"{ ["+String(se)+"] "+J.call(N.call("[cause]: "+Tr(se.cause),ts),", ")+" }":ts.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+J.call(ts,", ")+" }"}if(typeof se=="object"&&Fr){if(R&&typeof se[R]=="function"&&H)return H(se,{depth:wo-_t});if(Fr!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(pr(se)){var _i=[];return r&&r.call(se,function(xi,Os){_i.push(Tr(Os,se,!0)+" => "+Tr(xi,se))}),Zi("Map",t.call(se),_i,Un)}if(tn(se)){var Gl=[];return d&&d.call(se,function(xi){Gl.push(Tr(xi,se))}),Zi("Set",c.call(se),Gl,Un)}if(ri(se))return vi("WeakMap");if(Ll(se))return vi("WeakSet");if(yi(se))return vi("WeakRef");if(Ue(se))return Ki(Tr(Number(se)));if(He(se))return Ki(Tr(Pe.call(se)));if(We(se))return Ki(A.call(se));if(Me(se))return Ki(Tr(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof Yd<"u"&&se===Yd)return"{ [object globalThis] }";if(!be(se)&&!Re(se)){var ba=xo(se,Tr),Hl=G?G(se)===Object.prototype:se instanceof Object||se.constructor===Object,Gn=se instanceof Object?"":"null prototype",Ta=!Hl&&Te&&Object(se)===se&&Te in se?z.call(jt(se),8,-1):Gn?"Object":"",jl=Hl||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",Aa=jl+(Ta||Gn?"["+J.call(N.call([],Ta||[],Gn||[]),": ")+"] ":"");return ba.length===0?Aa+"{}":Un?Aa+"{"+_o(ba,Un)+"}":Aa+"{ "+J.call(ba,", ")+" }"}return String(se)};function ie(re,se,ut){var _t=ut.quoteStyle||se,Et=U[_t];return Et+re+Et}function ue(re){return F.call(String(re),/"/g,"&quot;")}function pe(re){return!Te||!(typeof re=="object"&&(Te in re||typeof re[Te]<"u"))}function _e(re){return jt(re)==="[object Array]"&&pe(re)}function be(re){return jt(re)==="[object Date]"&&pe(re)}function Re(re){return jt(re)==="[object RegExp]"&&pe(re)}function ye(re){return jt(re)==="[object Error]"&&pe(re)}function Me(re){return jt(re)==="[object String]"&&pe(re)}function Ue(re){return jt(re)==="[object Number]"&&pe(re)}function We(re){return jt(re)==="[object Boolean]"&&pe(re)}function at(re){if(le)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!Z)return!1;try{return Z.call(re),!0}catch{}return!1}function He(re){if(!re||typeof re!="object"||!Pe)return!1;try{return Pe.call(re),!0}catch{}return!1}var $e=Object.prototype.hasOwnProperty||function(re){return re in this};function Mt(re,se){return $e.call(re,se)}function jt(re){return I.call(re)}function ti(re){if(re.name)return re.name;var se=k.call(P.call(re),/^function\s*([\w$]+)/);return se?se[1]:null}function fr(re,se){if(re.indexOf)return re.indexOf(se);for(var ut=0,_t=re.length;ut<_t;ut++)if(re[ut]===se)return ut;return-1}function pr(re){if(!t||!re||typeof re!="object")return!1;try{t.call(re);try{c.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function ri(re){if(!g||!re||typeof re!="object")return!1;try{g.call(re,g);try{w.call(re,w)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function yi(re){if(!b||!re||typeof re!="object")return!1;try{return b.call(re),!0}catch{}return!1}function tn(re){if(!c||!re||typeof re!="object")return!1;try{c.call(re);try{t.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function Ll(re){if(!w||!re||typeof re!="object")return!1;try{w.call(re,w);try{g.call(re,g)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function Ul(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function yo(re,se){if(re.length>se.maxStringLength){var ut=re.length-se.maxStringLength,_t="... "+ut+" more character"+(ut>1?"s":"");return yo(z.call(re,0,se.maxStringLength),se)+_t}var Et=X[se.quoteStyle||"single"];Et.lastIndex=0;var tt=F.call(F.call(re,Et,"\\$1"),/[\x00-\x1f]/g,vo);return ie(tt,"single",se)}function vo(re){var se=re.charCodeAt(0),ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return ut?"\\"+ut:"\\x"+(se<16?"0":"")+W.call(se.toString(16))}function Ki(re){return"Object("+re+")"}function vi(re){return re+" { ? }"}function Zi(re,se,ut,_t){var Et=_t?_o(ut,_t):J.call(ut,", ");return re+" ("+se+") {"+Et+"}"}function th(re){for(var se=0;se<re.length;se++)if(fr(re[se],`
`)>=0)return!1;return!0}function zl(re,se){var ut;if(re.indent==="	")ut="	";else if(typeof re.indent=="number"&&re.indent>0)ut=J.call(Array(re.indent+1)," ");else return null;return{base:ut,prev:J.call(Array(se+1),ut)}}function _o(re,se){if(re.length===0)return"";var ut=`
`+se.prev+se.base;return ut+J.call(re,","+ut)+`
`+se.prev}function xo(re,se){var ut=_e(re),_t=[];if(ut){_t.length=re.length;for(var Et=0;Et<re.length;Et++)_t[Et]=Mt(re,Et)?se(re[Et],re):""}var tt=typeof Q=="function"?Q(re):[],Fr;if(le){Fr={};for(var ni=0;ni<tt.length;ni++)Fr["$"+tt[ni]]=tt[ni]}for(var vr in re)Mt(re,vr)&&(ut&&String(Number(vr))===vr&&vr<re.length||le&&Fr["$"+vr]instanceof Symbol||(K.call(/[^\w$]/,vr)?_t.push(se(vr,re)+": "+se(re[vr],re)):_t.push(vr+": "+se(re[vr],re))));if(typeof Q=="function")for(var mn=0;mn<tt.length;mn++)B.call(re,tt[mn])&&_t.push("["+se(tt[mn])+"]: "+se(re[tt[mn]],re));return _t}return wp}var Ep,ev;function H1(){if(ev)return Ep;ev=1;var i=pf(),e=Ju(),t=function(d,m,g){for(var _=d,w;(w=_.next)!=null;_=w)if(w.key===m)return _.next=w.next,g||(w.next=d.next,d.next=w),w},r=function(d,m){if(d){var g=t(d,m);return g&&g.value}},s=function(d,m,g){var _=t(d,m);_?_.value=g:d.next={key:m,next:d.next,value:g}},a=function(d,m){return d?!!t(d,m):!1},c=function(d,m){if(d)return t(d,m,!0)};return Ep=function(){var m,g={assert:function(_){if(!g.has(_))throw new e("Side channel does not contain "+i(_))},delete:function(_){var w=m&&m.next,S=c(m,_);return S&&w&&w===S&&(m=void 0),!!S},get:function(_){return r(m,_)},has:function(_){return a(m,_)},set:function(_,w){m||(m={next:void 0}),s(m,_,w)}};return g},Ep}var Sp,tv;function h_(){return tv||(tv=1,Sp=Object),Sp}var bp,rv;function j1(){return rv||(rv=1,bp=Error),bp}var Tp,nv;function W1(){return nv||(nv=1,Tp=EvalError),Tp}var Ap,iv;function $1(){return iv||(iv=1,Ap=RangeError),Ap}var Cp,sv;function V1(){return sv||(sv=1,Cp=ReferenceError),Cp}var Pp,ov;function X1(){return ov||(ov=1,Pp=SyntaxError),Pp}var Rp,av;function Y1(){return av||(av=1,Rp=URIError),Rp}var Ip,lv;function q1(){return lv||(lv=1,Ip=Math.abs),Ip}var Mp,uv;function Q1(){return uv||(uv=1,Mp=Math.floor),Mp}var kp,hv;function K1(){return hv||(hv=1,kp=Math.max),kp}var Dp,cv;function Z1(){return cv||(cv=1,Dp=Math.min),Dp}var Np,dv;function J1(){return dv||(dv=1,Np=Math.pow),Np}var Op,fv;function ew(){return fv||(fv=1,Op=Math.round),Op}var Fp,pv;function tw(){return pv||(pv=1,Fp=Number.isNaN||function(e){return e!==e}),Fp}var Bp,mv;function rw(){if(mv)return Bp;mv=1;var i=tw();return Bp=function(t){return i(t)||t===0?t:t<0?-1:1},Bp}var Lp,gv;function nw(){return gv||(gv=1,Lp=Object.getOwnPropertyDescriptor),Lp}var Up,yv;function c_(){if(yv)return Up;yv=1;var i=nw();if(i)try{i([],"length")}catch{i=null}return Up=i,Up}var zp,vv;function iw(){if(vv)return zp;vv=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return zp=i,zp}var Gp,_v;function sw(){return _v||(_v=1,Gp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),Gp}var Hp,xv;function ow(){if(xv)return Hp;xv=1;var i=typeof Symbol<"u"&&Symbol,e=sw();return Hp=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Hp}var jp,wv;function d_(){return wv||(wv=1,jp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),jp}var Wp,Ev;function f_(){if(Ev)return Wp;Ev=1;var i=h_();return Wp=i.getPrototypeOf||null,Wp}var $p,Sv;function aw(){if(Sv)return $p;Sv=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",s=function(m,g){for(var _=[],w=0;w<m.length;w+=1)_[w]=m[w];for(var S=0;S<g.length;S+=1)_[S+m.length]=g[S];return _},a=function(m,g){for(var _=[],w=g,S=0;w<m.length;w+=1,S+=1)_[S]=m[w];return _},c=function(d,m){for(var g="",_=0;_<d.length;_+=1)g+=d[_],_+1<d.length&&(g+=m);return g};return $p=function(m){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(i+g);for(var _=a(arguments,1),w,S=function(){if(this instanceof w){var k=g.apply(this,s(_,arguments));return Object(k)===k?k:this}return g.apply(m,s(_,arguments))},b=t(0,g.length-_.length),A=[],I=0;I<b;I++)A[I]="$"+I;if(w=Function("binder","return function ("+c(A,",")+"){ return binder.apply(this,arguments); }")(S),g.prototype){var P=function(){};P.prototype=g.prototype,w.prototype=new P,P.prototype=null}return w},$p}var Vp,bv;function mf(){if(bv)return Vp;bv=1;var i=aw();return Vp=Function.prototype.bind||i,Vp}var Xp,Tv;function Bg(){return Tv||(Tv=1,Xp=Function.prototype.call),Xp}var Yp,Av;function p_(){return Av||(Av=1,Yp=Function.prototype.apply),Yp}var qp,Cv;function lw(){return Cv||(Cv=1,qp=typeof Reflect<"u"&&Reflect&&Reflect.apply),qp}var Qp,Pv;function uw(){if(Pv)return Qp;Pv=1;var i=mf(),e=p_(),t=Bg(),r=lw();return Qp=r||i.call(t,e),Qp}var Kp,Rv;function m_(){if(Rv)return Kp;Rv=1;var i=mf(),e=Ju(),t=Bg(),r=uw();return Kp=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return r(i,t,a)},Kp}var Zp,Iv;function hw(){if(Iv)return Zp;Iv=1;var i=m_(),e=c_(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Zp=r&&typeof r.get=="function"?i([r.get]):typeof a=="function"?function(d){return a(d==null?d:s(d))}:!1,Zp}var Jp,Mv;function cw(){if(Mv)return Jp;Mv=1;var i=d_(),e=f_(),t=hw();return Jp=i?function(s){return i(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:t?function(s){return t(s)}:null,Jp}var em,kv;function dw(){if(kv)return em;kv=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=mf();return em=t.call(i,e),em}var tm,Dv;function Lg(){if(Dv)return tm;Dv=1;var i,e=h_(),t=j1(),r=W1(),s=$1(),a=V1(),c=X1(),d=Ju(),m=Y1(),g=q1(),_=Q1(),w=K1(),S=Z1(),b=J1(),A=ew(),I=rw(),P=Function,k=function(Re){try{return P('"use strict"; return ('+Re+").constructor;")()}catch{}},z=c_(),F=iw(),W=function(){throw new d},L=z?function(){try{return arguments.callee,W}catch{try{return z(arguments,"callee").get}catch{return W}}}():W,K=ow()(),N=cw(),J=f_(),ce=d_(),fe=p_(),Pe=Bg(),Q={},Z=typeof Uint8Array>"u"||!N?i:N(Uint8Array),le={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":K&&N?N([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?i:Float16Array,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&N?N(N([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!N?i:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!N?i:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&N?N(""[Symbol.iterator]()):i,"%Symbol%":K?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":L,"%TypedArray%":Z,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":m,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":Pe,"%Function.prototype.apply%":fe,"%Object.defineProperty%":F,"%Object.getPrototypeOf%":J,"%Math.abs%":g,"%Math.floor%":_,"%Math.max%":w,"%Math.min%":S,"%Math.pow%":b,"%Math.round%":A,"%Math.sign%":I,"%Reflect.getPrototypeOf%":ce};if(N)try{null.error}catch(Re){var Te=N(N(Re));le["%Error.prototype%"]=Te}var B=function Re(ye){var Me;if(ye==="%AsyncFunction%")Me=k("async function () {}");else if(ye==="%GeneratorFunction%")Me=k("function* () {}");else if(ye==="%AsyncGeneratorFunction%")Me=k("async function* () {}");else if(ye==="%AsyncGenerator%"){var Ue=Re("%AsyncGeneratorFunction%");Ue&&(Me=Ue.prototype)}else if(ye==="%AsyncIteratorPrototype%"){var We=Re("%AsyncGenerator%");We&&N&&(Me=N(We.prototype))}return le[ye]=Me,Me},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=mf(),H=dw(),D=C.call(Pe,Array.prototype.concat),R=C.call(fe,Array.prototype.splice),U=C.call(Pe,String.prototype.replace),X=C.call(Pe,String.prototype.slice),ie=C.call(Pe,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,_e=function(ye){var Me=X(ye,0,1),Ue=X(ye,-1);if(Me==="%"&&Ue!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Me!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var We=[];return U(ye,ue,function(at,He,$e,Mt){We[We.length]=$e?U(Mt,pe,"$1"):He||at}),We},be=function(ye,Me){var Ue=ye,We;if(H(G,Ue)&&(We=G[Ue],Ue="%"+We[0]+"%"),H(le,Ue)){var at=le[Ue];if(at===Q&&(at=B(Ue)),typeof at>"u"&&!Me)throw new d("intrinsic "+ye+" exists, but is not available. Please file an issue!");return{alias:We,name:Ue,value:at}}throw new c("intrinsic "+ye+" does not exist!")};return tm=function(ye,Me){if(typeof ye!="string"||ye.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Me!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,ye)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=_e(ye),We=Ue.length>0?Ue[0]:"",at=be("%"+We+"%",Me),He=at.name,$e=at.value,Mt=!1,jt=at.alias;jt&&(We=jt[0],R(Ue,D([0,1],jt)));for(var ti=1,fr=!0;ti<Ue.length;ti+=1){var pr=Ue[ti],ri=X(pr,0,1),yi=X(pr,-1);if((ri==='"'||ri==="'"||ri==="`"||yi==='"'||yi==="'"||yi==="`")&&ri!==yi)throw new c("property names with quotes must have matching quotes");if((pr==="constructor"||!fr)&&(Mt=!0),We+="."+pr,He="%"+We+"%",H(le,He))$e=le[He];else if($e!=null){if(!(pr in $e)){if(!Me)throw new d("base intrinsic for "+ye+" exists, but the property is not available.");return}if(z&&ti+1>=Ue.length){var tn=z($e,pr);fr=!!tn,fr&&"get"in tn&&!("originalValue"in tn.get)?$e=tn.get:$e=$e[pr]}else fr=H($e,pr),$e=$e[pr];fr&&!Mt&&(le[He]=$e)}}return $e},tm}var rm,Nv;function g_(){if(Nv)return rm;Nv=1;var i=Lg(),e=m_(),t=e([i("%String.prototype.indexOf%")]);return rm=function(s,a){var c=i(s,!!a);return typeof c=="function"&&t(s,".prototype.")>-1?e([c]):c},rm}var nm,Ov;function y_(){if(Ov)return nm;Ov=1;var i=Lg(),e=g_(),t=pf(),r=Ju(),s=i("%Map%",!0),a=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),m=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return nm=!!s&&function(){var w,S={assert:function(b){if(!S.has(b))throw new r("Side channel does not contain "+t(b))},delete:function(b){if(w){var A=m(w,b);return g(w)===0&&(w=void 0),A}return!1},get:function(b){if(w)return a(w,b)},has:function(b){return w?d(w,b):!1},set:function(b,A){w||(w=new s),c(w,b,A)}};return S},nm}var im,Fv;function fw(){if(Fv)return im;Fv=1;var i=Lg(),e=g_(),t=pf(),r=y_(),s=Ju(),a=i("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),m=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return im=a?function(){var w,S,b={assert:function(A){if(!b.has(A))throw new s("Side channel does not contain "+t(A))},delete:function(A){if(a&&A&&(typeof A=="object"||typeof A=="function")){if(w)return g(w,A)}else if(r&&S)return S.delete(A);return!1},get:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&w?c(w,A):S&&S.get(A)},has:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&w?m(w,A):!!S&&S.has(A)},set:function(A,I){a&&A&&(typeof A=="object"||typeof A=="function")?(w||(w=new a),d(w,A,I)):r&&(S||(S=r()),S.set(A,I))}};return b}:r,im}var sm,Bv;function pw(){if(Bv)return sm;Bv=1;var i=Ju(),e=pf(),t=H1(),r=y_(),s=fw(),a=s||r||t;return sm=function(){var d,m={assert:function(g){if(!m.has(g))throw new i("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,_){d||(d=a()),d.set(g,_)}};return m},sm}var om,Lv;function Ug(){if(Lv)return om;Lv=1;var i=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return om={default:t.RFC3986,formatters:{RFC1738:function(r){return i.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},om}var am,Uv;function v_(){if(Uv)return am;Uv=1;var i=Ug(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var P=[],k=0;k<256;++k)P.push("%"+((k<16?"0":"")+k.toString(16)).toUpperCase());return P}(),s=function(k){for(;k.length>1;){var z=k.pop(),F=z.obj[z.prop];if(t(F)){for(var W=[],L=0;L<F.length;++L)typeof F[L]<"u"&&W.push(F[L]);z.obj[z.prop]=W}}},a=function(k,z){for(var F=z&&z.plainObjects?{__proto__:null}:{},W=0;W<k.length;++W)typeof k[W]<"u"&&(F[W]=k[W]);return F},c=function P(k,z,F){if(!z)return k;if(typeof z!="object"&&typeof z!="function"){if(t(k))k.push(z);else if(k&&typeof k=="object")(F&&(F.plainObjects||F.allowPrototypes)||!e.call(Object.prototype,z))&&(k[z]=!0);else return[k,z];return k}if(!k||typeof k!="object")return[k].concat(z);var W=k;return t(k)&&!t(z)&&(W=a(k,F)),t(k)&&t(z)?(z.forEach(function(L,K){if(e.call(k,K)){var N=k[K];N&&typeof N=="object"&&L&&typeof L=="object"?k[K]=P(N,L,F):k.push(L)}else k[K]=L}),k):Object.keys(z).reduce(function(L,K){var N=z[K];return e.call(L,K)?L[K]=P(L[K],N,F):L[K]=N,L},W)},d=function(k,z){return Object.keys(z).reduce(function(F,W){return F[W]=z[W],F},k)},m=function(P,k,z){var F=P.replace(/\+/g," ");if(z==="iso-8859-1")return F.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(F)}catch{return F}},g=1024,_=function(k,z,F,W,L){if(k.length===0)return k;var K=k;if(typeof k=="symbol"?K=Symbol.prototype.toString.call(k):typeof k!="string"&&(K=String(k)),F==="iso-8859-1")return escape(K).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var N="",J=0;J<K.length;J+=g){for(var ce=K.length>=g?K.slice(J,J+g):K,fe=[],Pe=0;Pe<ce.length;++Pe){var Q=ce.charCodeAt(Pe);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||L===i.RFC1738&&(Q===40||Q===41)){fe[fe.length]=ce.charAt(Pe);continue}if(Q<128){fe[fe.length]=r[Q];continue}if(Q<2048){fe[fe.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){fe[fe.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}Pe+=1,Q=65536+((Q&1023)<<10|ce.charCodeAt(Pe)&1023),fe[fe.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}N+=fe.join("")}return N},w=function(k){for(var z=[{obj:{o:k},prop:"o"}],F=[],W=0;W<z.length;++W)for(var L=z[W],K=L.obj[L.prop],N=Object.keys(K),J=0;J<N.length;++J){var ce=N[J],fe=K[ce];typeof fe=="object"&&fe!==null&&F.indexOf(fe)===-1&&(z.push({obj:K,prop:ce}),F.push(fe))}return s(z),k},S=function(k){return Object.prototype.toString.call(k)==="[object RegExp]"},b=function(k){return!k||typeof k!="object"?!1:!!(k.constructor&&k.constructor.isBuffer&&k.constructor.isBuffer(k))},A=function(k,z){return[].concat(k,z)},I=function(k,z){if(t(k)){for(var F=[],W=0;W<k.length;W+=1)F.push(z(k[W]));return F}return z(k)};return am={arrayToObject:a,assign:d,combine:A,compact:w,decode:m,encode:_,isBuffer:b,isRegExp:S,maybeMap:I,merge:c},am}var lm,zv;function mw(){if(zv)return lm;zv=1;var i=pw(),e=v_(),t=Ug(),r=Object.prototype.hasOwnProperty,s={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,k){return P+"["+k+"]"},repeat:function(P){return P}},a=Array.isArray,c=Array.prototype.push,d=function(I,P){c.apply(I,a(P)?P:[P])},m=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(P){return m.call(P)},skipNulls:!1,strictNullHandling:!1},w=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},S={},b=function I(P,k,z,F,W,L,K,N,J,ce,fe,Pe,Q,Z,le,Te,B,G){for(var C=P,H=G,D=0,R=!1;(H=H.get(S))!==void 0&&!R;){var U=H.get(P);if(D+=1,typeof U<"u"){if(U===D)throw new RangeError("Cyclic object value");R=!0}typeof H.get(S)>"u"&&(D=0)}if(typeof ce=="function"?C=ce(k,C):C instanceof Date?C=Q(C):z==="comma"&&a(C)&&(C=e.maybeMap(C,function(He){return He instanceof Date?Q(He):He})),C===null){if(L)return J&&!Te?J(k,_.encoder,B,"key",Z):k;C=""}if(w(C)||e.isBuffer(C)){if(J){var X=Te?k:J(k,_.encoder,B,"key",Z);return[le(X)+"="+le(J(C,_.encoder,B,"value",Z))]}return[le(k)+"="+le(String(C))]}var ie=[];if(typeof C>"u")return ie;var ue;if(z==="comma"&&a(C))Te&&J&&(C=e.maybeMap(C,J)),ue=[{value:C.length>0?C.join(",")||null:void 0}];else if(a(ce))ue=ce;else{var pe=Object.keys(C);ue=fe?pe.sort(fe):pe}var _e=N?String(k).replace(/\./g,"%2E"):String(k),be=F&&a(C)&&C.length===1?_e+"[]":_e;if(W&&a(C)&&C.length===0)return be+"[]";for(var Re=0;Re<ue.length;++Re){var ye=ue[Re],Me=typeof ye=="object"&&ye&&typeof ye.value<"u"?ye.value:C[ye];if(!(K&&Me===null)){var Ue=Pe&&N?String(ye).replace(/\./g,"%2E"):String(ye),We=a(C)?typeof z=="function"?z(be,Ue):be:be+(Pe?"."+Ue:"["+Ue+"]");G.set(P,D);var at=i();at.set(S,G),d(ie,I(Me,We,z,F,W,L,K,N,z==="comma"&&Te&&a(C)?null:J,ce,fe,Pe,Q,Z,le,Te,B,at))}}return ie},A=function(P){if(!P)return _;if(typeof P.allowEmptyArrays<"u"&&typeof P.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof P.encodeDotInKeys<"u"&&typeof P.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var k=P.charset||_.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var z=t.default;if(typeof P.format<"u"){if(!r.call(t.formatters,P.format))throw new TypeError("Unknown format option provided.");z=P.format}var F=t.formatters[z],W=_.filter;(typeof P.filter=="function"||a(P.filter))&&(W=P.filter);var L;if(P.arrayFormat in s?L=P.arrayFormat:"indices"in P?L=P.indices?"indices":"repeat":L=_.arrayFormat,"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var K=typeof P.allowDots>"u"?P.encodeDotInKeys===!0?!0:_.allowDots:!!P.allowDots;return{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:_.addQueryPrefix,allowDots:K,allowEmptyArrays:typeof P.allowEmptyArrays=="boolean"?!!P.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:L,charset:k,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!P.commaRoundTrip,delimiter:typeof P.delimiter>"u"?_.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:_.encode,encodeDotInKeys:typeof P.encodeDotInKeys=="boolean"?P.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof P.encoder=="function"?P.encoder:_.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:_.encodeValuesOnly,filter:W,format:z,formatter:F,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:_.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:_.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:_.strictNullHandling}};return lm=function(I,P){var k=I,z=A(P),F,W;typeof z.filter=="function"?(W=z.filter,k=W("",k)):a(z.filter)&&(W=z.filter,F=W);var L=[];if(typeof k!="object"||k===null)return"";var K=s[z.arrayFormat],N=K==="comma"&&z.commaRoundTrip;F||(F=Object.keys(k)),z.sort&&F.sort(z.sort);for(var J=i(),ce=0;ce<F.length;++ce){var fe=F[ce],Pe=k[fe];z.skipNulls&&Pe===null||d(L,b(Pe,fe,K,N,z.allowEmptyArrays,z.strictNullHandling,z.skipNulls,z.encodeDotInKeys,z.encode?z.encoder:null,z.filter,z.sort,z.allowDots,z.serializeDate,z.format,z.formatter,z.encodeValuesOnly,z.charset,J))}var Q=L.join(z.delimiter),Z=z.addQueryPrefix===!0?"?":"";return z.charsetSentinel&&(z.charset==="iso-8859-1"?Z+="utf8=%26%2310003%3B&":Z+="utf8=%E2%9C%93&"),Q.length>0?Z+Q:""},lm}var um,Gv;function gw(){if(Gv)return um;Gv=1;var i=v_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(S){return S.replace(/&#(\d+);/g,function(b,A){return String.fromCharCode(parseInt(A,10))})},a=function(S,b,A){if(S&&typeof S=="string"&&b.comma&&S.indexOf(",")>-1)return S.split(",");if(b.throwOnLimitExceeded&&A>=b.arrayLimit)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");return S},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",m=function(b,A){var I={__proto__:null},P=A.ignoreQueryPrefix?b.replace(/^\?/,""):b;P=P.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var k=A.parameterLimit===1/0?void 0:A.parameterLimit,z=P.split(A.delimiter,A.throwOnLimitExceeded?k+1:k);if(A.throwOnLimitExceeded&&z.length>k)throw new RangeError("Parameter limit exceeded. Only "+k+" parameter"+(k===1?"":"s")+" allowed.");var F=-1,W,L=A.charset;if(A.charsetSentinel)for(W=0;W<z.length;++W)z[W].indexOf("utf8=")===0&&(z[W]===d?L="utf-8":z[W]===c&&(L="iso-8859-1"),F=W,W=z.length);for(W=0;W<z.length;++W)if(W!==F){var K=z[W],N=K.indexOf("]="),J=N===-1?K.indexOf("="):N+1,ce,fe;J===-1?(ce=A.decoder(K,r.decoder,L,"key"),fe=A.strictNullHandling?null:""):(ce=A.decoder(K.slice(0,J),r.decoder,L,"key"),fe=i.maybeMap(a(K.slice(J+1),A,t(I[ce])?I[ce].length:0),function(Q){return A.decoder(Q,r.decoder,L,"value")})),fe&&A.interpretNumericEntities&&L==="iso-8859-1"&&(fe=s(String(fe))),K.indexOf("[]=")>-1&&(fe=t(fe)?[fe]:fe);var Pe=e.call(I,ce);Pe&&A.duplicates==="combine"?I[ce]=i.combine(I[ce],fe):(!Pe||A.duplicates==="last")&&(I[ce]=fe)}return I},g=function(S,b,A,I){var P=0;if(S.length>0&&S[S.length-1]==="[]"){var k=S.slice(0,-1).join("");P=Array.isArray(b)&&b[k]?b[k].length:0}for(var z=I?b:a(b,A,P),F=S.length-1;F>=0;--F){var W,L=S[F];if(L==="[]"&&A.parseArrays)W=A.allowEmptyArrays&&(z===""||A.strictNullHandling&&z===null)?[]:i.combine([],z);else{W=A.plainObjects?{__proto__:null}:{};var K=L.charAt(0)==="["&&L.charAt(L.length-1)==="]"?L.slice(1,-1):L,N=A.decodeDotInKeys?K.replace(/%2E/g,"."):K,J=parseInt(N,10);!A.parseArrays&&N===""?W={0:z}:!isNaN(J)&&L!==N&&String(J)===N&&J>=0&&A.parseArrays&&J<=A.arrayLimit?(W=[],W[J]=z):N!=="__proto__"&&(W[N]=z)}z=W}return z},_=function(b,A,I,P){if(b){var k=I.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,z=/(\[[^[\]]*])/,F=/(\[[^[\]]*])/g,W=I.depth>0&&z.exec(k),L=W?k.slice(0,W.index):k,K=[];if(L){if(!I.plainObjects&&e.call(Object.prototype,L)&&!I.allowPrototypes)return;K.push(L)}for(var N=0;I.depth>0&&(W=F.exec(k))!==null&&N<I.depth;){if(N+=1,!I.plainObjects&&e.call(Object.prototype,W[1].slice(1,-1))&&!I.allowPrototypes)return;K.push(W[1])}if(W){if(I.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+I.depth+" and strictDepth is true");K.push("["+k.slice(W.index)+"]")}return g(K,A,I,P)}},w=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof b.throwOnLimitExceeded<"u"&&typeof b.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var A=typeof b.charset>"u"?r.charset:b.charset,I=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(I!=="combine"&&I!=="first"&&I!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var P=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:P,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:A,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||i.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:I,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof b.throwOnLimitExceeded=="boolean"?b.throwOnLimitExceeded:!1}};return um=function(S,b){var A=w(b);if(S===""||S===null||typeof S>"u")return A.plainObjects?{__proto__:null}:{};for(var I=typeof S=="string"?m(S,A):S,P=A.plainObjects?{__proto__:null}:{},k=Object.keys(I),z=0;z<k.length;++z){var F=k[z],W=_(F,I[F],A,typeof S=="string");P=i.merge(P,W,A)}return A.allowSparse===!0?P:i.compact(P)},um}var hm,Hv;function yw(){if(Hv)return hm;Hv=1;var i=mw(),e=gw(),t=Ug();return hm={formats:t,parse:e,stringify:i},hm}var jv;function vw(){if(jv)return El;jv=1;var i=L1();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(a),d=["'"].concat(c),m=["%","/","?",";","#"].concat(d),g=["/","?","#"],_=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=yw();function k(L,K,N){if(L&&typeof L=="object"&&L instanceof e)return L;var J=new e;return J.parse(L,K,N),J}e.prototype.parse=function(L,K,N){if(typeof L!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof L);var J=L.indexOf("?"),ce=J!==-1&&J<L.indexOf("#")?"?":"#",fe=L.split(ce),Pe=/\\/g;fe[0]=fe[0].replace(Pe,"/"),L=fe.join(ce);var Q=L;if(Q=Q.trim(),!N&&L.split("#").length===1){var Z=s.exec(Q);if(Z)return this.path=Q,this.href=Q,this.pathname=Z[1],Z[2]?(this.search=Z[2],K?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):K&&(this.search="",this.query={}),this}var le=t.exec(Q);if(le){le=le[0];var Te=le.toLowerCase();this.protocol=Te,Q=Q.substr(le.length)}if(N||le||Q.match(/^\/\/[^@/]+@[^@/]+/)){var B=Q.substr(0,2)==="//";B&&!(le&&A[le])&&(Q=Q.substr(2),this.slashes=!0)}if(!A[le]&&(B||le&&!I[le])){for(var G=-1,C=0;C<g.length;C++){var H=Q.indexOf(g[C]);H!==-1&&(G===-1||H<G)&&(G=H)}var D,R;G===-1?R=Q.lastIndexOf("@"):R=Q.lastIndexOf("@",G),R!==-1&&(D=Q.slice(0,R),Q=Q.slice(R+1),this.auth=decodeURIComponent(D)),G=-1;for(var C=0;C<m.length;C++){var H=Q.indexOf(m[C]);H!==-1&&(G===-1||H<G)&&(G=H)}G===-1&&(G=Q.length),this.host=Q.slice(0,G),Q=Q.slice(G),this.parseHost(),this.hostname=this.hostname||"";var U=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!U)for(var X=this.hostname.split(/\./),C=0,ie=X.length;C<ie;C++){var ue=X[C];if(ue&&!ue.match(w)){for(var pe="",_e=0,be=ue.length;_e<be;_e++)ue.charCodeAt(_e)>127?pe+="x":pe+=ue[_e];if(!pe.match(w)){var Re=X.slice(0,C),ye=X.slice(C+1),Me=ue.match(S);Me&&(Re.push(Me[1]),ye.unshift(Me[2])),ye.length&&(Q="/"+ye.join(".")+Q),this.hostname=Re.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),U||(this.hostname=i.toASCII(this.hostname));var Ue=this.port?":"+this.port:"",We=this.hostname||"";this.host=We+Ue,this.href+=this.host,U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!b[Te])for(var C=0,ie=d.length;C<ie;C++){var at=d[C];if(Q.indexOf(at)!==-1){var He=encodeURIComponent(at);He===at&&(He=escape(at)),Q=Q.split(at).join(He)}}var $e=Q.indexOf("#");$e!==-1&&(this.hash=Q.substr($e),Q=Q.slice(0,$e));var Mt=Q.indexOf("?");if(Mt!==-1?(this.search=Q.substr(Mt),this.query=Q.substr(Mt+1),K&&(this.query=P.parse(this.query)),Q=Q.slice(0,Mt)):K&&(this.search="",this.query={}),Q&&(this.pathname=Q),I[Te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ue=this.pathname||"",jt=this.search||"";this.path=Ue+jt}return this.href=this.format(),this};function z(L){return typeof L=="string"&&(L=k(L)),L instanceof e?L.format():e.prototype.format.call(L)}e.prototype.format=function(){var L=this.auth||"";L&&(L=encodeURIComponent(L),L=L.replace(/%3A/i,":"),L+="@");var K=this.protocol||"",N=this.pathname||"",J=this.hash||"",ce=!1,fe="";this.host?ce=L+this.host:this.hostname&&(ce=L+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(fe=P.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Pe=this.search||fe&&"?"+fe||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||I[K])&&ce!==!1?(ce="//"+(ce||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):ce||(ce=""),J&&J.charAt(0)!=="#"&&(J="#"+J),Pe&&Pe.charAt(0)!=="?"&&(Pe="?"+Pe),N=N.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),Pe=Pe.replace("#","%23"),K+ce+N+Pe+J};function F(L,K){return k(L,!1,!0).resolve(K)}e.prototype.resolve=function(L){return this.resolveObject(k(L,!1,!0)).format()};function W(L,K){return L?k(L,!1,!0).resolveObject(K):K}return e.prototype.resolveObject=function(L){if(typeof L=="string"){var K=new e;K.parse(L,!1,!0),L=K}for(var N=new e,J=Object.keys(this),ce=0;ce<J.length;ce++){var fe=J[ce];N[fe]=this[fe]}if(N.hash=L.hash,L.href==="")return N.href=N.format(),N;if(L.slashes&&!L.protocol){for(var Pe=Object.keys(L),Q=0;Q<Pe.length;Q++){var Z=Pe[Q];Z!=="protocol"&&(N[Z]=L[Z])}return I[N.protocol]&&N.hostname&&!N.pathname&&(N.pathname="/",N.path=N.pathname),N.href=N.format(),N}if(L.protocol&&L.protocol!==N.protocol){if(!I[L.protocol]){for(var le=Object.keys(L),Te=0;Te<le.length;Te++){var B=le[Te];N[B]=L[B]}return N.href=N.format(),N}if(N.protocol=L.protocol,!L.host&&!A[L.protocol]){for(var ie=(L.pathname||"").split("/");ie.length&&!(L.host=ie.shift()););L.host||(L.host=""),L.hostname||(L.hostname=""),ie[0]!==""&&ie.unshift(""),ie.length<2&&ie.unshift(""),N.pathname=ie.join("/")}else N.pathname=L.pathname;if(N.search=L.search,N.query=L.query,N.host=L.host||"",N.auth=L.auth,N.hostname=L.hostname||L.host,N.port=L.port,N.pathname||N.search){var G=N.pathname||"",C=N.search||"";N.path=G+C}return N.slashes=N.slashes||L.slashes,N.href=N.format(),N}var H=N.pathname&&N.pathname.charAt(0)==="/",D=L.host||L.pathname&&L.pathname.charAt(0)==="/",R=D||H||N.host&&L.pathname,U=R,X=N.pathname&&N.pathname.split("/")||[],ie=L.pathname&&L.pathname.split("/")||[],ue=N.protocol&&!I[N.protocol];if(ue&&(N.hostname="",N.port=null,N.host&&(X[0]===""?X[0]=N.host:X.unshift(N.host)),N.host="",L.protocol&&(L.hostname=null,L.port=null,L.host&&(ie[0]===""?ie[0]=L.host:ie.unshift(L.host)),L.host=null),R=R&&(ie[0]===""||X[0]==="")),D)N.host=L.host||L.host===""?L.host:N.host,N.hostname=L.hostname||L.hostname===""?L.hostname:N.hostname,N.search=L.search,N.query=L.query,X=ie;else if(ie.length)X||(X=[]),X.pop(),X=X.concat(ie),N.search=L.search,N.query=L.query;else if(L.search!=null){if(ue){N.host=X.shift(),N.hostname=N.host;var pe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;pe&&(N.auth=pe.shift(),N.hostname=pe.shift(),N.host=N.hostname)}return N.search=L.search,N.query=L.query,(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!X.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var _e=X.slice(-1)[0],be=(N.host||L.host||X.length>1)&&(_e==="."||_e==="..")||_e==="",Re=0,ye=X.length;ye>=0;ye--)_e=X[ye],_e==="."?X.splice(ye,1):_e===".."?(X.splice(ye,1),Re++):Re&&(X.splice(ye,1),Re--);if(!R&&!U)for(;Re--;Re)X.unshift("..");R&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),be&&X.join("/").substr(-1)!=="/"&&X.push("");var Me=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ue){N.hostname=Me?"":X.length?X.shift():"",N.host=N.hostname;var pe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;pe&&(N.auth=pe.shift(),N.hostname=pe.shift(),N.host=N.hostname)}return R=R||N.host&&X.length,R&&!Me&&X.unshift(""),X.length>0?N.pathname=X.join("/"):(N.pathname=null,N.path=null),(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=L.auth||N.auth,N.slashes=N.slashes||L.slashes,N.href=N.format(),N},e.prototype.parseHost=function(){var L=this.host,K=r.exec(L);K&&(K=K[0],K!==":"&&(this.port=K.substr(1)),L=L.substr(0,L.length-K.length)),L&&(this.hostname=L)},El.parse=k,El.resolve=F,El.resolveObject=W,El.format=z,El.Url=e,El}vw();const Wv={};function ct(i,e,t=3){if(Wv[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${i}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`),console.warn(r))),Wv[e]=!0}function Gi(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function tc(i){return i.split("?")[0].split("#")[0]}function _w(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xw(i,e,t){return i.replace(new RegExp(_w(e),"g"),t)}function ww(i,e){let t="",r=0,s=-1,a=0,c=-1;for(let d=0;d<=i.length;++d){if(d<i.length)c=i.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(s===d-1||a===1))if(s!==d-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const m=t.lastIndexOf("/");if(m!==t.length-1){m===-1?(t="",r=0):(t=t.slice(0,m),r=t.length-1-t.lastIndexOf("/")),s=d,a=0;continue}}else if(t.length===2||t.length===1){t="",r=0,s=d,a=0;continue}}}else t.length>0?t+=`/${i.slice(s+1,d)}`:t=i.slice(s+1,d),r=d-s-1;s=d,a=0}else c===46&&a!==-1?++a:a=-1}return t}const Or={toPosix(i){return xw(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){Gi(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(i);return t?t[0]:""},toAbsolute(i,e,t){if(Gi(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const r=tc(this.toPosix(e??Be.ADAPTER.getBaseUrl())),s=tc(this.toPosix(t??this.rootname(r)));return i=this.toPosix(i),i.startsWith("/")?Or.join(s,i.slice(1)):this.isAbsolute(i)?i:this.join(r,i)},normalize(i){if(Gi(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const t=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const r=i.endsWith("/");return i=ww(i),i.length>0&&r&&(i+="/"),t?`/${i}`:e+i},isAbsolute(i){return Gi(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const r=i[t];if(Gi(r),r.length>0)if(e===void 0)e=r;else{const s=i[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(Gi(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const t=e===47;let r=-1,s=!0;const a=this.getProtocol(i),c=i;i=i.slice(a.length);for(let d=i.length-1;d>=1;--d)if(e=i.charCodeAt(d),e===47){if(!s){r=d;break}}else s=!1;return r===-1?t?"/":this.isUrl(c)?a+i:a:t&&r===1?"//":a+i.slice(0,r)},rootname(i){Gi(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const t=i.indexOf("/",e.length);t!==-1?e=i.slice(0,t):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){Gi(i),e&&Gi(e),i=tc(this.toPosix(i));let t=0,r=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,d=-1;for(a=i.length-1;a>=0;--a){const m=i.charCodeAt(a);if(m===47){if(!s){t=a+1;break}}else d===-1&&(s=!1,d=a+1),c>=0&&(m===e.charCodeAt(c)?--c===-1&&(r=a):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=i.length),i.slice(t,r)}for(a=i.length-1;a>=0;--a)if(i.charCodeAt(a)===47){if(!s){t=a+1;break}}else r===-1&&(s=!1,r=a+1);return r===-1?"":i.slice(t,r)},extname(i){Gi(i),i=tc(this.toPosix(i));let e=-1,t=0,r=-1,s=!0,a=0;for(let c=i.length-1;c>=0;--c){const d=i.charCodeAt(c);if(d===47){if(!s){t=c+1;break}continue}r===-1&&(s=!1,r=c+1),d===46?e===-1?e=c:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||r===-1||a===0||a===1&&e===r-1&&e===t+1?"":i.slice(e,r)},parse(i){Gi(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=tc(this.toPosix(i));let t=i.charCodeAt(0);const r=this.isAbsolute(i);let s;e.root=this.rootname(i),r||this.hasProtocol(i)?s=1:s=0;let a=-1,c=0,d=-1,m=!0,g=i.length-1,_=0;for(;g>=s;--g){if(t=i.charCodeAt(g),t===47){if(!m){c=g+1;break}continue}d===-1&&(m=!1,d=g+1),t===46?a===-1?a=g:_!==1&&(_=1):a!==-1&&(_=-1)}return a===-1||d===-1||_===0||_===1&&a===d-1&&a===c+1?d!==-1&&(c===0&&r?e.base=e.name=i.slice(1,d):e.base=e.name=i.slice(c,d)):(c===0&&r?(e.name=i.slice(1,a),e.base=i.slice(1,d)):(e.name=i.slice(c,a),e.base=i.slice(c,d)),e.ext=i.slice(a,d)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let cm;async function Ew(){return cm??(cm=(async()=>{var a;const i=document.createElement("canvas").getContext("webgl");if(!i)return Bn.UNPACK;const e=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return Bn.UNPACK;const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);const r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,s),i.deleteFramebuffer(r),i.deleteTexture(t),(a=i.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?Bn.PMA:Bn.UNPACK})()),cm}let dm;function Sw(){return typeof dm>"u"&&(dm=function(){var e;const i={stencil:!0,failIfMajorPerformanceCaveat:Be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Be.ADAPTER.getWebGLRenderingContext())return!1;const t=Be.ADAPTER.createCanvas();let r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);const s=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const a=r.getExtension("WEBGL_lose_context");a&&a.loseContext()}return r=null,s}catch{return!1}}()),dm}var bw={grad:.9,turn:360,rad:360/(2*Math.PI)},ao=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Dr=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},gi=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},__=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},$v=function(i){return{r:gi(i.r,0,255),g:gi(i.g,0,255),b:gi(i.b,0,255),a:gi(i.a)}},fm=function(i){return{r:Dr(i.r),g:Dr(i.g),b:Dr(i.b),a:Dr(i.a,3)}},Tw=/^#([0-9a-f]{3,8})$/i,yd=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},x_=function(i){var e=i.r,t=i.g,r=i.b,s=i.a,a=Math.max(e,t,r),c=a-Math.min(e,t,r),d=c?a===e?(t-r)/c:a===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:a?c/a*100:0,v:a/255*100,a:s}},w_=function(i){var e=i.h,t=i.s,r=i.v,s=i.a;e=e/360*6,t/=100,r/=100;var a=Math.floor(e),c=r*(1-t),d=r*(1-(e-a)*t),m=r*(1-(1-e+a)*t),g=a%6;return{r:255*[r,d,c,c,m,r][g],g:255*[m,r,r,d,c,c][g],b:255*[c,c,m,r,r,d][g],a:s}},Vv=function(i){return{h:__(i.h),s:gi(i.s,0,100),l:gi(i.l,0,100),a:gi(i.a)}},Xv=function(i){return{h:Dr(i.h),s:Dr(i.s),l:Dr(i.l),a:Dr(i.a,3)}},Yv=function(i){return w_((t=(e=i).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},yc=function(i){return{h:(e=x_(i)).h,s:(s=(200-(t=e.s))*(r=e.v)/100)>0&&s<200?t*r/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,r,s},Aw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xm={string:[[function(i){var e=Tw.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Dr(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Dr(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=Pw.exec(i)||Rw.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:$v({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=Aw.exec(i)||Cw.exec(i);if(!e)return null;var t,r,s=Vv({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(bw[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Yv(s)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,r=i.b,s=i.a,a=s===void 0?1:s;return ao(e)&&ao(t)&&ao(r)?$v({r:Number(e),g:Number(t),b:Number(r),a:Number(a)}):null},"rgb"],[function(i){var e=i.h,t=i.s,r=i.l,s=i.a,a=s===void 0?1:s;if(!ao(e)||!ao(t)||!ao(r))return null;var c=Vv({h:Number(e),s:Number(t),l:Number(r),a:Number(a)});return Yv(c)},"hsl"],[function(i){var e=i.h,t=i.s,r=i.v,s=i.a,a=s===void 0?1:s;if(!ao(e)||!ao(t)||!ao(r))return null;var c=function(d){return{h:__(d.h),s:gi(d.s,0,100),v:gi(d.v,0,100),a:gi(d.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(a)});return w_(c)},"hsv"]]},qv=function(i,e){for(var t=0;t<e.length;t++){var r=e[t][0](i);if(r)return[r,e[t][1]]}return[null,void 0]},Iw=function(i){return typeof i=="string"?qv(i.trim(),Xm.string):typeof i=="object"&&i!==null?qv(i,Xm.object):[null,void 0]},pm=function(i,e){var t=yc(i);return{h:t.h,s:gi(t.s+100*e,0,100),l:t.l,a:t.a}},mm=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},Qv=function(i,e){var t=yc(i);return{h:t.h,s:t.s,l:gi(t.l+100*e,0,100),a:t.a}},Ym=function(){function i(e){this.parsed=Iw(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Dr(mm(this.rgba),2)},i.prototype.isDark=function(){return mm(this.rgba)<.5},i.prototype.isLight=function(){return mm(this.rgba)>=.5},i.prototype.toHex=function(){return e=fm(this.rgba),t=e.r,r=e.g,s=e.b,c=(a=e.a)<1?yd(Dr(255*a)):"","#"+yd(t)+yd(r)+yd(s)+c;var e,t,r,s,a,c},i.prototype.toRgb=function(){return fm(this.rgba)},i.prototype.toRgbString=function(){return e=fm(this.rgba),t=e.r,r=e.g,s=e.b,(a=e.a)<1?"rgba("+t+", "+r+", "+s+", "+a+")":"rgb("+t+", "+r+", "+s+")";var e,t,r,s,a},i.prototype.toHsl=function(){return Xv(yc(this.rgba))},i.prototype.toHslString=function(){return e=Xv(yc(this.rgba)),t=e.h,r=e.s,s=e.l,(a=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+a+")":"hsl("+t+", "+r+"%, "+s+"%)";var e,t,r,s,a},i.prototype.toHsv=function(){return e=x_(this.rgba),{h:Dr(e.h),s:Dr(e.s),v:Dr(e.v),a:Dr(e.a,3)};var e},i.prototype.invert=function(){return xs({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),xs(pm(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),xs(pm(this.rgba,-e))},i.prototype.grayscale=function(){return xs(pm(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),xs(Qv(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),xs(Qv(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?xs({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Dr(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=yc(this.rgba);return typeof e=="number"?xs({h:e,s:t.s,l:t.l,a:t.a}):Dr(t.h)},i.prototype.isEqual=function(e){return this.toHex()===xs(e).toHex()},i}(),xs=function(i){return i instanceof Ym?i:new Ym(i)},Kv=[],Mw=function(i){i.forEach(function(e){Kv.indexOf(e)<0&&(e(Ym,Xm),Kv.push(e))})};function kw(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var s in t)r[t[s]]=s;var a={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,m,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var _=this.toRgb(),w=1/0,S="black";if(!a.length)for(var b in t)a[b]=new i(t[b]).toRgb();for(var A in t){var I=(d=_,m=a[A],Math.pow(d.r-m.r,2)+Math.pow(d.g-m.g,2)+Math.pow(d.b-m.b,2));I<w&&(w=I,S=A)}return S}},e.string.push([function(c){var d=c.toLowerCase(),m=d==="transparent"?"#0000":t[d];return m?new i(m).toRgb():null},"name"])}Mw([kw]);const Lu=class zd{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof zd)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,a)=>s===t[a]);if(e!==null&&t!==null){const s=Object.keys(e),a=Object.keys(t);return s.length!==a.length?!1:s.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,s,a]=zd.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return t&&(r=r*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(r<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,s,a]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=a,e}normalize(e){let t,r,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,s=(c&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,s,a=255]=e,t/=255,r/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=zd.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=xs(e);c.isValid()&&({r:t,g:r,b:s,a}=c.rgba,t/=255,r/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,t),r)}),e)}};Lu.shared=new Lu,Lu.temp=new Lu,Lu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Ut=Lu;function Dw(i){return ct("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ut.shared.setValue(i).toHex()}function Nw(i){return ct("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ut.shared.setValue(i).toNumber()}function Ow(){const i=[],e=[];for(let r=0;r<32;r++)i[r]=r,e[r]=r;i[et.NORMAL_NPM]=et.NORMAL,i[et.ADD_NPM]=et.ADD,i[et.SCREEN_NPM]=et.SCREEN,e[et.NORMAL]=et.NORMAL_NPM,e[et.ADD]=et.ADD_NPM,e[et.SCREEN]=et.SCREEN_NPM;const t=[];return t.push(e),t.push(i),t}const E_=Ow();function S_(i,e){return E_[e?1:0][i]}function Fw(i,e=null){const t=i*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,s=0;r<t;r+=6,s+=4)e[r+0]=s+0,e[r+1]=s+1,e[r+2]=s+2,e[r+3]=s+0,e[r+4]=s+2,e[r+5]=s+3;return e}function b_(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}function qd(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Zv(i){return!(i&i-1)&&!!i}function Jv(i){let e=(i>65535?1:0)<<4;i>>>=e;let t=(i>255?1:0)<<3;return i>>>=t,e|=t,t=(i>15?1:0)<<2,i>>>=t,e|=t,t=(i>3?1:0)<<1,i>>>=t,e|=t,e|i>>1}function Xu(i,e,t){const r=i.length;let s;if(e>=r||t===0)return;t=e+t>r?r-e:t;const a=r-t;for(s=e;s<a;++s)i[s]=i[s+t];i.length=a}function ya(i){return i===0?0:i<0?-1:1}let Bw=0;function Ol(){return++Bw}const qm=class{constructor(i,e,t,r){this.left=i,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};qm.EMPTY=new qm(0,0,0,0);let e0=qm;const t0={},ws=Object.create(null),da=Object.create(null);class Lw{constructor(e,t,r){this._canvas=Be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Be.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function r0(i,e,t){for(let r=0,s=4*t*e;r<e;++r,s+=4)if(i[s+3]!==0)return!1;return!0}function n0(i,e,t,r,s){const a=4*e;for(let c=r,d=r*a+4*t;c<=s;++c,d+=a)if(i[d+3]!==0)return!1;return!0}function Uw(i){const{width:e,height:t}=i,r=i.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,t).data;let a=0,c=0,d=e-1,m=t-1;for(;c<t&&r0(s,e,c);)++c;if(c===t)return e0.EMPTY;for(;r0(s,e,m);)--m;for(;n0(s,e,a,c,m);)++a;for(;n0(s,e,d,c,m);)--d;return++d,++m,new e0(a,c,d,m)}function zw(i){const e=Uw(i),{width:t,height:r}=e;let s=null;if(!e.isEmpty()){const a=i.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:s}}function Gw(i,e=globalThis.location){if(i.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(i,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function po(i,e=1){var r;const t=(r=Be.RETINA_PREFIX)==null?void 0:r.exec(i);return t?parseFloat(t[1]):e}var De=(i=>(i.Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i))(De||{});const Qm=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},i0=(i,e)=>Qm(i).priority??e,Xe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map(Qm).forEach(e=>{e.type.forEach(t=>{var r,s;return(s=(r=this._removeHandlers)[t])==null?void 0:s.call(r,e)})}),this},add(...i){return i.map(Qm).forEach(e=>{e.type.forEach(t=>{var a,c;const r=this._addHandlers,s=this._queue;r[t]?(a=r[t])==null||a.call(r,e):(s[t]=s[t]||[],(c=s[t])==null||c.push(e))})}),this},handle(i,e,t){var c;const r=this._addHandlers,s=this._removeHandlers;if(r[i]||s[i])throw new Error(`Extension type ${i} already has a handler`);r[i]=e,s[i]=t;const a=this._queue;return a[i]&&((c=a[i])==null||c.forEach(d=>e(d)),delete a[i]),this},handleByMap(i,e){return this.handle(i,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(i,e,t=-1){return this.handle(i,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((s,a)=>i0(a,t)-i0(s,t)))},r=>{const s=e.indexOf(r.ref);s!==-1&&e.splice(s,1)})}};class Km{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Hw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function jw(i){let e="";for(let t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+=`if(test == ${t}.0){}`);return e}function Ww(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=Hw.replace(/%forloop%/gi,jw(i));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}return i}const gm=0,ym=1,vm=2,_m=3,xm=4,wm=5;class Ds{constructor(){this.data=0,this.blendMode=et.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<gm)}set blend(e){!!(this.data&1<<gm)!==e&&(this.data^=1<<gm)}get offsets(){return!!(this.data&1<<ym)}set offsets(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get culling(){return!!(this.data&1<<vm)}set culling(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get depthTest(){return!!(this.data&1<<_m)}set depthTest(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get depthMask(){return!!(this.data&1<<wm)}set depthMask(e){!!(this.data&1<<wm)!==e&&(this.data^=1<<wm)}get clockwiseFrontFace(){return!!(this.data&1<<xm)}set clockwiseFrontFace(e){!!(this.data&1<<xm)!==e&&(this.data^=1<<xm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==et.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ds;return e.depthTest=!1,e.blend=!0,e}}Ds.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Zm=[];function T_(i,e){if(!i)return null;let t="";if(typeof i=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);r&&(t=r[1].toLowerCase())}for(let r=Zm.length-1;r>=0;--r){const s=Zm[r];if(s.test&&s.test(i,t))return new s(i,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Yi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,a,c,d,m){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:_}=this;this._aliasCount++;for(let w=0,S=_.length;w<S;w++)_[w][g](e,t,r,s,a,c,d,m);return _===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Yi.prototype,{dispatch:{value:Yi.prototype.emit},run:{value:Yi.prototype.emit}});class _c{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Yi("setRealSize"),this.onUpdate=new Yi("update"),this.onError=new Yi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class gf extends _c{constructor(e,t){const{width:r,height:s}=t||{};if(!r||!s)throw new Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Bn.UNPACK);const a=t.realWidth,c=t.realHeight;return r.width===a&&r.height===c?s.texSubImage2D(t.target,0,0,0,a,c,t.format,r.type,this.data):(r.width=a,r.height=c,s.texImage2D(t.target,0,r.internalFormat,a,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const $w={scaleMode:uo.NEAREST,alphaMode:Bn.NPM},Jm=class Uu extends Tc{constructor(e=null,t=null){super(),t=Object.assign({},Uu.defaultOptions,t);const{alphaMode:r,mipmap:s,anisotropicLevel:a,scaleMode:c,width:d,height:m,wrapMode:g,format:_,type:w,target:S,resolution:b,resourceOptions:A}=t;e&&!(e instanceof _c)&&(e=T_(e,A),e.internal=!0),this.resolution=b||Be.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((m||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=g,this._scaleMode=c,this.format=_,this.type=w,this.target=S,this.alphaMode=r,this.uid=Ol(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&m>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Zv(this.realWidth)&&Zv(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete da[this.cacheId],delete ws[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Uu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Ol()}`}a=e._pixiId}let c=da[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return c||(c=new Uu(e,t),c.cacheId=a,Uu.addToCache(c,a)),c}static fromBuffer(e,t,r,s){e=e||new Float32Array(t*r*4);const a=new gf(e,{width:t,height:r,...s==null?void 0:s.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ae.RGBA,d=Ke.FLOAT):e instanceof Int32Array?(c=Ae.RGBA_INTEGER,d=Ke.INT):e instanceof Uint32Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_INT):e instanceof Int16Array?(c=Ae.RGBA_INTEGER,d=Ke.SHORT):e instanceof Uint16Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ae.RGBA,d=Ke.BYTE):(c=Ae.RGBA,d=Ke.UNSIGNED_BYTE),a.internal=!0,new Uu(a,Object.assign({},$w,{type:d,format:c},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),da[t]&&da[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),da[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=da[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete da[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete da[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Jm.defaultOptions={mipmap:Is.POW2,anisotropicLevel:0,scaleMode:uo.LINEAR,wrapMode:fo.CLAMP,alphaMode:Bn.UNPACK,target:Vu.TEXTURE_2D,format:Ae.RGBA,type:Ke.UNSIGNED_BYTE},Jm._globalBatch=0;let it=Jm;class eg{constructor(){this.texArray=null,this.blend=0,this.type=Vi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Vw=0;class dr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Vw++,this.disposeRunner=new Yi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ps.ELEMENT_ARRAY_BUFFER:Ps.ARRAY_BUFFER}get index(){return this.type===Ps.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new dr(e)}}class Qd{constructor(e,t=0,r=!1,s=Ke.FLOAT,a,c,d,m=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=a,this.start=c,this.instance=d,this.divisor=m}destroy(){this.buffer=null}static from(e,t,r,s,a){return new Qd(e,t,r,s,a)}}const Xw={Float32Array,Uint32Array,Int32Array,Uint8Array};function Yw(i,e){let t=0,r=0;const s={};for(let m=0;m<i.length;m++)r+=e[m],t+=i[m].length;const a=new ArrayBuffer(t*4);let c=null,d=0;for(let m=0;m<i.length;m++){const g=e[m],_=i[m],w=b_(_);s[w]||(s[w]=new Xw[w](a)),c=s[w];for(let S=0;S<_.length;S++){const b=(S/g|0)*r+d,A=S%g;c[b+A]=_[S]}d+=g}return new Float32Array(a)}const s0={5126:4,5123:2,5121:1};let qw=0;const Qw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class xa{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=qw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Yi("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,a,c,d,m=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof dr||(t instanceof Array&&(t=new Float32Array(t)),t=new dr(t));const g=e.split("|");if(g.length>1){for(let w=0;w<g.length;w++)this.addAttribute(g[w],t,r,s,a);return this}let _=this.buffers.indexOf(t);return _===-1&&(this.buffers.push(t),_=this.buffers.length-1),this.attributes[e]=new Qd(_,r,s,a,c,d,m),this.instanced=this.instanced||m,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof dr||(e instanceof Array&&(e=new Uint16Array(e)),e=new dr(e)),e.type=Ps.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new dr;let s;for(s in this.attributes){const a=this.attributes[s],c=this.buffers[a.buffer];e.push(c.data),t.push(a.size*s0[a.type]/4),a.buffer=0}for(r.data=Yw(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new xa;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new dr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new Qd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ps.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new xa,r=[],s=[],a=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let m=0;m<c.buffers.length;m++)s[m]=s[m]||0,s[m]+=c.buffers[m].data.length,a[m]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new Qw[b_(c.buffers[d].data)](s[d]),t.buffers[d]=new dr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let m=0;m<c.buffers.length;m++)r[m].set(c.buffers[m].data,a[m]),a[m]+=c.buffers[m].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=Ps.ELEMENT_ARRAY_BUFFER;let d=0,m=0,g=0,_=0;for(let w=0;w<c.buffers.length;w++)if(c.buffers[w]!==c.indexBuffer){_=w;break}for(const w in c.attributes){const S=c.attributes[w];(S.buffer|0)===_&&(m+=S.size*s0[S.type]/4)}for(let w=0;w<e.length;w++){const S=e[w].indexBuffer.data;for(let b=0;b<S.length;b++)t.indexBuffer.data[b+g]+=d;d+=e[w].buffers[_].data.length/m,g+=S.length}}return t}}class A_ extends xa{constructor(e=!1){super(),this._buffer=new dr(null,e,!1),this._indexBuffer=new dr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ke.FLOAT).addIndex(this._indexBuffer)}}const Kd=Math.PI*2,Kw=180/Math.PI,Zw=Math.PI/180;var jr=(i=>(i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i))(jr||{});class dt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new dt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}dt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const vd=[new dt,new dt,new dt,new dt];class ot{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=jr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ot(0,0,0,0)}clone(){return new ot(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const J=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=J)return!1;const ce=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ce}const r=this.left,s=this.right,a=this.top,c=this.bottom;if(s<=r||c<=a)return!1;const d=vd[0].set(e.left,e.top),m=vd[1].set(e.left,e.bottom),g=vd[2].set(e.right,e.top),_=vd[3].set(e.right,e.bottom);if(g.x<=d.x||m.y<=d.y)return!1;const w=Math.sign(t.a*t.d-t.b*t.c);if(w===0||(t.apply(d,d),t.apply(m,m),t.apply(g,g),t.apply(_,_),Math.max(d.x,m.x,g.x,_.x)<=r||Math.min(d.x,m.x,g.x,_.x)>=s||Math.max(d.y,m.y,g.y,_.y)<=a||Math.min(d.y,m.y,g.y,_.y)>=c))return!1;const S=w*(m.y-d.y),b=w*(d.x-m.x),A=S*r+b*a,I=S*s+b*a,P=S*r+b*c,k=S*s+b*c;if(Math.max(A,I,P,k)<=S*d.x+b*d.y||Math.min(A,I,P,k)>=S*_.x+b*_.y)return!1;const z=w*(d.y-g.y),F=w*(g.x-d.x),W=z*r+F*a,L=z*s+F*a,K=z*r+F*c,N=z*s+F*c;return!(Math.max(W,L,K,N)<=z*d.x+F*d.y||Math.min(W,L,K,N)>=z*_.x+F*_.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=a-s,this}}ot.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class yf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=jr.CIRC}clone(){return new yf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let s=this.x-e,a=this.y-t;return s*=s,a*=a,s+a<=r}getBounds(){return new ot(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}yf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class vf{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=jr.ELIP}clone(){return new vf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new ot(this.x-this.width,this.y-this.height,this.width,this.height)}}vf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Dl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let s=0,a=t.length;s<a;s++)r.push(t[s].x,t[s].y);t=r}this.points=t,this.type=jr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new Dl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const s=this.points.length/2;for(let a=0,c=s-1;a<s;c=a++){const d=this.points[a*2],m=this.points[a*2+1],g=this.points[c*2],_=this.points[c*2+1];m>t!=_>t&&e<(g-d)*((t-m)/(_-m))+d&&(r=!r)}return r}}Dl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((i,e)=>`${i}, ${e}`,"")}]`};class _f{constructor(e=0,t=0,r=0,s=0,a=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=a,this.type=jr.RREC}clone(){return new _f(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),a=t-(this.y+r);const c=r*r;if(s*s+a*a<=c||(s=e-(this.x+this.width-r),s*s+a*a<=c)||(a=t-(this.y+this.height-r),s*s+a*a<=c)||(s=e-(this.x+r),s*s+a*a<=c))return!0}return!1}}_f.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ht{constructor(e=1,t=0,r=0,s=1,a=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,a,c){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=a,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new dt;const r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new dt;const r=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return t.x=this.d*r*s+-this.c*r*a+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*a+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),s=this.a,a=this.c,c=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=a*t-this.d*r,this.d=a*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,s=this.c,a=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*a,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*a,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*a+this.ty,this}setTransform(e,t,r,s,a,c,d,m,g){return this.a=Math.cos(d+g)*a,this.b=Math.sin(d+g)*a,this.c=-Math.sin(d-m)*c,this.d=Math.cos(d-m)*c,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,s=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,s=this.c,a=this.d,c=e.pivot,d=-Math.atan2(-s,a),m=Math.atan2(r,t),g=Math.abs(d+m);return g<1e-5||Math.abs(Kd-g)<1e-5?(e.rotation=m,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=m),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(c.x*t+c.y*s),e.position.y=this.ty+(c.x*r+c.y*a),e}invert(){const e=this.a,t=this.b,r=this.c,s=this.d,a=this.tx,c=e*s-t*r;return this.a=s/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-s*a)/c,this.ty=-(e*this.ty-t*a)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ht}static get TEMP_MATRIX(){return new Ht}}Ht.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Al=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Cl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Pl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Rl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],tg=[],C_=[],_d=Math.sign;function Jw(){for(let i=0;i<16;i++){const e=[];tg.push(e);for(let t=0;t<16;t++){const r=_d(Al[i]*Al[t]+Pl[i]*Cl[t]),s=_d(Cl[i]*Al[t]+Rl[i]*Cl[t]),a=_d(Al[i]*Pl[t]+Pl[i]*Rl[t]),c=_d(Cl[i]*Pl[t]+Rl[i]*Rl[t]);for(let d=0;d<16;d++)if(Al[d]===r&&Cl[d]===s&&Pl[d]===a&&Rl[d]===c){e.push(d);break}}}for(let i=0;i<16;i++){const e=new Ht;e.set(Al[i],Cl[i],Pl[i],Rl[i],0,0),C_.push(e)}}Jw();const Kt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Al[i],uY:i=>Cl[i],vX:i=>Pl[i],vY:i=>Rl[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>tg[i][e],sub:(i,e)=>tg[i][Kt.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?Kt.S:Kt.N:Math.abs(e)*2<=Math.abs(i)?i>0?Kt.E:Kt.W:e>0?i>0?Kt.SE:Kt.SW:i>0?Kt.NE:Kt.NW,matrixAppendRotationInv:(i,e,t=0,r=0)=>{const s=C_[Kt.inv(e)];s.tx=t,s.ty=r,i.append(s)}};class As{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new As(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}As.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const rg=class{constructor(){this.worldTransform=new Ht,this.localTransform=new Ht,this.position=new As(this.onChange,this,0,0),this.scale=new As(this.onChange,this,1,1),this.pivot=new As(this.onChange,this,0,0),this.skew=new As(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(i){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){const t=i.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=i._worldID,this._worldID++}}setFromMatrix(i){i.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())}};rg.IDENTITY=new rg;let xf=rg;xf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var eE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,tE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function o0(i,e,t){const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}function Em(i){const e=new Array(i);for(let t=0;t<e.length;t++)e[t]=!1;return e}function P_(i,e){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Em(2*e);case"bvec3":return Em(3*e);case"bvec4":return Em(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Yu=[{test:i=>i.type==="float"&&i.size===1&&!i.isArray,code:i=>`
            if(uv["${i}"] !== ud["${i}"].value)
            {
                ud["${i}"].value = uv["${i}"]
                gl.uniform1f(ud["${i}"].location, uv["${i}"])
            }
            `},{test:(i,e)=>(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray&&(e==null||e.castToBaseTexture!==void 0),code:i=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${i}"], t);

            if(ud["${i}"].value !== t)
            {
                ud["${i}"].value = t;
                gl.uniform1i(ud["${i}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(i,e)=>i.type==="mat3"&&i.size===1&&!i.isArray&&e.a!==void 0,code:i=>`
            gl.uniformMatrix3fv(ud["${i}"].location, false, uv["${i}"].toArray(true));
            `,codeUbo:i=>`
                var ${i}_matrix = uv.${i}.toArray(true);

                data[offset] = ${i}_matrix[0];
                data[offset+1] = ${i}_matrix[1];
                data[offset+2] = ${i}_matrix[2];
        
                data[offset + 4] = ${i}_matrix[3];
                data[offset + 5] = ${i}_matrix[4];
                data[offset + 6] = ${i}_matrix[5];
        
                data[offset + 8] = ${i}_matrix[6];
                data[offset + 9] = ${i}_matrix[7];
                data[offset + 10] = ${i}_matrix[8];
            `},{test:(i,e)=>i.type==="vec2"&&i.size===1&&!i.isArray&&e.x!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${i}"].location, v.x, v.y);
                }`,codeUbo:i=>`
                v = uv.${i};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:i=>i.type==="vec2"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${i}"].location, v[0], v[1]);
                }
            `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.width!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${i}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${i}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(i,e)=>i.type==="vec3"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${i}"].location, v.red, v.green, v.blue)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:i=>i.type==="vec4"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${i}"].location, v[0], v[1], v[2], v[3])
                }`}],rE={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},nE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function iE(i,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in i.uniforms){const a=e[s];if(!a){((r=i.uniforms[s])==null?void 0:r.group)===!0&&(i.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const c=i.uniforms[s];let d=!1;for(let m=0;m<Yu.length;m++)if(Yu[m].test(a,c)){t.push(Yu[m].code(s,c)),d=!0;break}if(!d){const m=(a.size===1&&!a.isArray?rE:nE)[a.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${m};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const R_={};let Ou=R_;function sE(){if(Ou===R_||Ou!=null&&Ou.isContextLost()){const i=Be.ADAPTER.createCanvas();let e;Be.PREFER_ENV>=Fl.WEBGL2&&(e=i.getContext("webgl2",{})),e||(e=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ou=e}return Ou}let xd;function oE(){if(!xd){xd=mi.MEDIUM;const i=sE();if(i&&i.getShaderPrecisionFormat){const e=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);e&&(xd=e.precision?mi.HIGH:mi.MEDIUM)}}return xd}function a0(i,e){const t=i.getShaderSource(e).split(`
`).map((g,_)=>`${_}: ${g}`),r=i.getShaderInfoLog(e),s=r.split(`
`),a={},c=s.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!a[g]?(a[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const m=t.join(`
`);d[0]=m,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function aE(i,e,t,r){i.getProgramParameter(e,i.LINK_STATUS)||(i.getShaderParameter(t,i.COMPILE_STATUS)||a0(i,t),i.getShaderParameter(r,i.COMPILE_STATUS)||a0(i,r),console.error("PixiJS Error: Could not initialize shader."),i.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(e)))}const lE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function I_(i){return lE[i]}let wd=null;const l0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function M_(i,e){if(!wd){const t=Object.keys(l0);wd={};for(let r=0;r<t.length;++r){const s=t[r];wd[i[s]]=l0[s]}}return wd[e]}function u0(i,e,t){if(i.substring(0,9)!=="precision"){let r=e;return e===mi.HIGH&&t!==mi.HIGH&&(r=mi.MEDIUM),`precision ${r} float;
${i}`}else if(t!==mi.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}let rc;function uE(){if(typeof rc=="boolean")return rc;try{rc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{rc=!1}return rc}let hE=0;const Ed={},ng=class zu{constructor(e,t,r="pixi-shader",s={}){this.extra={},this.id=hE++,this.vertexSrc=e||zu.defaultVertexSrc,this.fragmentSrc=t||zu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Ed[r]?(Ed[r]++,r+=`-${Ed[r]}`):Ed[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=u0(this.vertexSrc,zu.defaultVertexPrecision,mi.HIGH),this.fragmentSrc=u0(this.fragmentSrc,zu.defaultFragmentPrecision,oE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return tE}static get defaultFragmentSrc(){return eE}static from(e,t,r){const s=e+t;let a=t0[s];return a||(t0[s]=a=new zu(e,t,r)),a}};ng.defaultVertexPrecision=mi.HIGH,ng.defaultFragmentPrecision=ho.apple.device?mi.HIGH:mi.MEDIUM;let co=ng,cE=0;class qi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=cE++,this.static=!!t,this.ubo=!!r,e instanceof dr?(this.buffer=e,this.buffer.type=Ps.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new dr(new Float32Array(1)),this.buffer.type=Ps.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new qi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new qi(e,t,r)}static uboFrom(e,t){return new qi(e,t??!0,!0)}}class Rs{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof qi?this.uniformGroup=t:this.uniformGroup=new qi(t):this.uniformGroup=new qi({}),this.disposeRunner=new Yi("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const s=t.uniforms[r];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const s=co.from(e,t);return new Rs(s,r)}}class dE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let a=0;a<e;a++)r[a]=a;this.defaultGroupCache[e]=qi.from({uSamplers:r},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new co(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:this.defaultGroupCache[e]};return new Rs(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class ig{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function fE(){return!ho.apple.device}function pE(i){let e=!0;const t=Be.ADAPTER.getNavigator();if(ho.tablet||ho.phone){if(ho.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(ho.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?i:4}class wf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var mE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,gE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ac=class ji extends wf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=A_,this.vertexSize=6,this.state=Ds.for2d(),this.size=ji.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??pE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??fE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return ct("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return gE}static get defaultFragmentTemplate(){return mE}setShaderGenerator({vertex:e=ji.defaultVertexSrc,fragment:t=ji.defaultFragmentTemplate}={}){this.shaderGenerator=new dE(e,t)}contextChange(){const e=this.renderer.gl;Be.PREFER_ENV===Fl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ji.defaultMaxTextures),this.maxTextures=Ww(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=ji,r=this.size/4,s=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new eg);for(;t.length<s;)t.push(new ig);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=ji._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++it._globalBatch,m=0,g=r[0],_=0;s.copyBoundTextures(a,t);for(let w=0;w<this._bufferSize;++w){const S=e[w];e[w]=null,S._batchEnabled!==d&&(g.count>=t&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,_,w),_=w,g=r[++m],++d),S._batchEnabled=d,S.touched=c,g.elements[g.count++]=S)}g.count>0&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,_,this._bufferSize),++m,++d);for(let w=0;w<a.length;w++)a[w]=null;it._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:c,vertexSize:d}=this,m=ji._drawCallPool;let g=this._dcIndex,_=this._aIndex,w=this._iIndex,S=m[g];S.start=this._iIndex,S.texArray=e;for(let b=t;b<r;++b){const A=s[b],I=A._texture.baseTexture,P=E_[I.alphaMode?1:0][A.blendMode];s[b]=null,t<b&&S.blend!==P&&(S.size=w-S.start,t=b,S=m[++g],S.texArray=e,S.start=w),this.packInterleavedGeometry(A,a,c,_,w),_+=A.vertexData.length/2*d,w+=A.indices.length,S.blend=P}t<r&&(S.size=w-S.start,++g),this._dcIndex=g,this._aIndex=_,this._iIndex=w}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;ji.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,s=ji._drawCallPool;let a=null;for(let c=0;c<e;c++){const{texArray:d,type:m,size:g,start:_,blend:w}=s[c];a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=w,r.set(this.state),t.drawElements(m,g,t.UNSIGNED_SHORT,_*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),ji.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=qd(Math.ceil(e/8)),r=Jv(t),s=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new Km(s*this.vertexSize*4)),a}getIndexBuffer(e){const t=qd(Math.ceil(e/12)),r=Jv(t),s=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let a=this._iBuffers[r];return a||(this._iBuffers[r]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,t,r,s,a){const{uint32View:c,float32View:d}=t,m=s/this.vertexSize,g=e.uvs,_=e.indices,w=e.vertexData,S=e._texture.baseTexture._batchLocation,b=Math.min(e.worldAlpha,1),A=Ut.shared.setValue(e._tintRGB).toPremultiplied(b,e._texture.baseTexture.alphaMode>0);for(let I=0;I<w.length;I+=2)d[s++]=w[I],d[s++]=w[I+1],d[s++]=g[I],d[s++]=g[I+1],c[s++]=A,d[s++]=S;for(let I=0;I<_.length;I++)r[a++]=m+_[I]}};ac.defaultBatchSize=4096,ac.extension={name:"batch",type:De.RendererPlugin},ac._drawCallPool=[],ac._textureArrayPool=[];let Il=ac;Xe.add(Il);var yE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,vE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const sg=class lc extends Rs{constructor(e,t,r){const s=co.from(e||lc.defaultVertexSrc,t||lc.defaultFragmentSrc);super(s,r),this.padding=0,this.resolution=lc.defaultResolution,this.multisample=lc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ds}apply(e,t,r,s,a){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return vE}static get defaultFragmentSrc(){return yE}};sg.defaultResolution=1,sg.defaultMultisample=yr.NONE;let fn=sg;class Zd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ut(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:s}=e,a=r??t;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Zd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Zd.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"background"};Xe.add(Zd);class k_{constructor(e){this.renderer=e,this.emptyRenderer=new wf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){const{elements:a,ids:c,count:d}=e;let m=0;for(let g=0;g<d;g++){const _=a[g],w=_._batchLocation;if(w>=0&&w<s&&t[w]===_){c[g]=w;continue}for(;m<s;){const S=t[m];if(S&&S._batchEnabled===r&&S._batchLocation===m){m++;continue}c[g]=m,_._batchLocation=m,t[m]=_;break}}}destroy(){this.renderer=null}}k_.extension={type:De.RendererSystem,name:"batch"};Xe.add(k_);let h0=0;class Jd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=h0++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=h0++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Be.PREFER_ENV>=Fl.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Jd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Jd.extension={type:De.RendererSystem,name:"context"};Xe.add(Jd);class og{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Yi("disposeFramebuffer"),this.multisample=yr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new it(null,{scaleMode:uo.NEAREST,resolution:1,mipmap:Is.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new it(null,{scaleMode:uo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Is.OFF,format:Ae.DEPTH_COMPONENT,type:Ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const s=this.colorTextures[r],a=s.resolution;s.setSize(e/a,t/a)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class D_ extends it{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],s=arguments[2],a=arguments[3];e={width:t,height:r,scaleMode:s,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yr.NONE),super(null,e),this.mipmap=Is.OFF,this.valid=!0,this._clear=new Ut([0,0,0,0]),this.framebuffer=new og(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class mo extends _c{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=Gw(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,s){const a=e.gl,c=t.realWidth,d=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Bn.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&r.width===c&&r.height===d?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,r.type,s):(r.width=c,r.height=d,a.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class N_ extends mo{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;mo.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let s=!0;const a=t._glTextures;for(const c in a){const d=a[c];if(d!==r&&d.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class zg{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const s=t.width,a=t.height;if(r){const c=e.width/2/s,d=e.height/2/a,m=e.x/s+c,g=e.y/a+d;r=Kt.add(r,Kt.NW),this.x0=m+c*Kt.uX(r),this.y0=g+d*Kt.uY(r),r=Kt.add(r,2),this.x1=m+c*Kt.uX(r),this.y1=g+d*Kt.uY(r),r=Kt.add(r,2),this.x2=m+c*Kt.uX(r),this.y2=g+d*Kt.uY(r),r=Kt.add(r,2),this.x3=m+c*Kt.uX(r),this.y3=g+d*Kt.uY(r)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}zg.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const c0=new zg;function Sd(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}class ke extends Tc{constructor(e,t,r,s,a,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new ot(0,0,1,1)),e instanceof ke&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=c0,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new dt(c.x,c.y):new dt(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&ws[t.url]&&ke.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ke.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new ke(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===c0&&(this._uvs=new zg),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Be.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof it){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${Ol()}`,it.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Ol()}`}a=e._pixiId}let c=ws[a];if(s&&r&&!c)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!c&&!(e instanceof it)?(t.resolution||(t.resolution=po(e)),c=new ke(new it(e,t)),c.baseTexture.cacheId=a,it.addToCache(c.baseTexture,a),ke.addToCache(c,a)):!c&&e instanceof it&&(c=new ke(e),ke.addToCache(c,a)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=ke.from(e,Object.assign({resourceOptions:r},t),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new ke(it.fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){const a=new it(e,Object.assign({scaleMode:it.defaultOptions.scaleMode,resolution:po(t)},s)),{resource:c}=a;c instanceof N_&&(c.url=t);const d=new ke(a);return r||(r=t),it.addToCache(d.baseTexture,r),ke.addToCache(d,r),r!==t&&(it.addToCache(d.baseTexture,t),ke.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(m=>{d.baseTexture.once("loaded",()=>m(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),ws[t]&&ws[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),ws[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=ws[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete ws[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)ws[e.textureCacheIds[t]]===e&&delete ws[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:s,height:a}=e,c=t+s>this.baseTexture.width,d=r+a>this.baseTexture.height;if(c||d){const m=c&&d?"and":"or",g=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,_=`Y: ${r} + ${a} = ${r+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${m} ${_}`)}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ke._EMPTY||(ke._EMPTY=new ke(new it),Sd(ke._EMPTY),Sd(ke._EMPTY.baseTexture)),ke._EMPTY}static get WHITE(){if(!ke._WHITE){const e=Be.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ke._WHITE=new ke(it.from(e)),Sd(ke._WHITE),Sd(ke._WHITE.baseTexture)}return ke._WHITE}}class Bl extends ke{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,c=Math.round(t*s)/s;this.valid=a>0&&c>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(a,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Bl(new D_(e))}}class O_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=yr.NONE){const s=new D_(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new Bl(s)}getOptimalTexture(e,t,r=1,s=yr.NONE){let a;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=qd(e),t=qd(t),a=((e&65535)<<16|t&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let c=this.texturePool[a].pop();return c||(c=this.createTexture(e,t,s)),c.filterPoolKey=a,c.setResolution(r),c}getFilterTexture(e,t,r){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||yr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let s=0;s<r.length;s++)r[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}O_.SCREEN_KEY=-1;class _E extends xa{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class F_ extends xa{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new dr(this.vertices),this.uvBuffer=new dr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class xE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yr.NONE,this.sourceFrame=new ot,this.destinationFrame=new ot,this.bindingSourceFrame=new ot,this.bindingDestinationFrame=new ot,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const bd=[new dt,new dt,new dt,new dt],Sm=new Ht;class B_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new O_,this.statePool=[],this.quad=new _E,this.quadUv=new F_,this.tempRect=new ot,this.activeState={},this.globalUniforms=new qi({outputFrame:new ot,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new xE,c=r.renderTexture;let d,m;if(c.current){const P=c.current;d=P.resolution,m=P.multisample}else d=r.resolution,m=r.multisample;let g=t[0].resolution||d,_=t[0].multisample??m,w=t[0].padding,S=t[0].autoFit,b=t[0].legacy??!0;for(let P=1;P<t.length;P++){const k=t[P];g=Math.min(g,k.resolution||d),_=Math.min(_,k.multisample??m),w=this.useMaxPadding?Math.max(w,k.padding):w+k.padding,S=S&&k.autoFit,b=b||(k.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),s.push(a),a.resolution=g,a.multisample=_,a.legacy=b,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(w);const A=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(Sm.copyFrom(r.projection.transform).invert(),A),S?(a.sourceFrame.fit(A),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(A)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,g,_),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const I=this.tempRect;I.x=0,I.y=0,I.width=a.sourceFrame.width,I.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(c.sourceFrame),a.bindingDestinationFrame.copyFrom(c.destinationFrame),a.transform=r.projection.transform,r.projection.transform=null,c.bind(a.renderTexture,a.sourceFrame,I),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const a=s.inputSize,c=s.inputPixel,d=s.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],c[0]=Math.round(a[0]*t.resolution),c[1]=Math.round(a[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*a[2]-.5*c[2],d[3]=t.sourceFrame.height*a[3]-.5*c[3],t.legacy){const g=s.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const m=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,m.renderTexture,Ts.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,_=this.getOptimalFilterTexture(g.width,g.height,t.resolution);_.filterFrame=g.filterFrame;let w=0;for(w=0;w<r.length-1;++w){w===1&&t.multisample>1&&(_=this.getOptimalFilterTexture(g.width,g.height,t.resolution),_.filterFrame=g.filterFrame),r[w].apply(this,g,_,Ts.CLEAR,t);const S=g;g=_,_=S}r[w].apply(this,g,m.renderTexture,Ts.BLEND,t),w>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(_)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Ts.CLEAR){const{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(t===Ts.CLEAR||t===Ts.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Vi.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Vi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:a}=t._texture,c=e.set(s.width,0,0,s.height,r.x,r.y),d=t.worldTransform.copyTo(Ht.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/a.width,1/a.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=yr.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||yr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=bd[0],s=bd[1],a=bd[2],c=bd[3];r.set(t.left,t.top),s.set(t.left,t.bottom),a.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(a,a),e.apply(c,c);const d=Math.min(r.x,s.x,a.x,c.x),m=Math.min(r.y,s.y,a.y,c.y),g=Math.max(r.x,s.x,a.x,c.x),_=Math.max(r.y,s.y,a.y,c.y);t.x=d,t.y=m,t.width=g-d,t.height=_-m}roundFrame(e,t,r,s,a){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(a){const{a:c,b:d,c:m,d:g}=a;if((Math.abs(d)>1e-4||Math.abs(m)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}a=a?Sm.copyFrom(a):Sm.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}B_.extension={type:De.RendererSystem,name:"filter"};Xe.add(B_);class wE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const EE=new ot;class L_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new og(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ot,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Be.PREFER_ENV===Fl.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=r),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,m=c/t.width;this.setViewport(t.x*m,t.y*m,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){const a=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(a.width!==r||a.height!==s||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=r,a.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,a=Vm.COLOR|Vm.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,s),c.clear(a)}initFramebuffer(e){const{gl:t}=this,r=new wE(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const s=e.colorTextures;let a=s.length;t.drawBuffers||(a=Math.min(a,1));for(let c=0;c<a;c++){const d=s[c],m=d.parentTextureArray||d;this.renderer.texture.bind(m,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,m._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let c=a.length;r.drawBuffers||(c=Math.min(c,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const d=[];for(let m=0;m<c;m++){const g=a[m],_=g.parentTextureArray||g;this.renderer.texture.bind(_,0),m===0&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,_._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+m,g.target,_._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+m))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const m=e.depthTexture;this.renderer.texture.bind(m,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,m._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||r.createRenderbuffer();let m,g;this.renderer.context.webGLVersion===1?(m=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(m=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(m=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(m=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,m,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=yr.NONE;if(e<=1||t===null)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return r===1&&(r=yr.NONE),r}blit(e,t,r){const{current:s,renderer:a,gl:c,CONTEXT_UID:d}=this;if(a.context.webGLVersion!==2||!s)return;const m=s.glFramebuffers[d];if(!m)return;if(!e){if(!m.msaaBuffer)return;const _=s.colorTextures[0];if(!_)return;m.blitFramebuffer||(m.blitFramebuffer=new og(s.width,s.height),m.blitFramebuffer.addColorTexture(0,_)),e=m.blitFramebuffer,e.colorTextures[0]!==_&&(e.colorTextures[0]=_,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=EE,t.width=s.width,t.height=s.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,m.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,s=e.height,a=this.gl,c=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,c);let d,m;this.renderer.context.webGLVersion===1?(d=a.DEPTH_STENCIL_ATTACHMENT,m=a.DEPTH_STENCIL):e.depth?(d=a.DEPTH_STENCIL_ATTACHMENT,m=a.DEPTH24_STENCIL8):(d=a.STENCIL_ATTACHMENT,m=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,m,r,s):a.renderbufferStorage(a.RENDERBUFFER,m,r,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,d,a.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ot}destroy(){this.renderer=null}}L_.extension={type:De.RendererSystem,name:"framebuffer"};Xe.add(L_);const bm={5126:4,5123:2,5121:1};class U_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Be.PREFER_ENV===Fl.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=s=>r.bindVertexArrayOES(s),e.deleteVertexArray=s=>r.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(s,a)=>r.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,c,d,m)=>r.drawElementsInstancedANGLE(s,a,c,d,m),e.drawArraysInstanced=(s,a,c,d)=>r.drawArraysInstancedANGLE(s,a,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const c=s[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){const r=e.attributes,s=t.attributeData;for(const a in s)if(!r[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const r=e.attributes,s=t.attributeData,a=["g",e.id];for(const c in r)s[c]&&a.push(c,s[c].location);return a.join("-")}initGeometryVao(e,t,r=!0){const s=this.gl,a=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const m=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let _=g[m];if(_)return g[d.id]=_,_;const w=e.buffers,S=e.attributes,b={},A={};for(const I in w)b[I]=0,A[I]=0;for(const I in S)!S[I].size&&d.attributeData[I]?S[I].size=d.attributeData[I].size:S[I].size||console.warn(`PIXI Geometry attribute '${I}' size cannot be determined (likely the bound shader does not have the attribute)`),b[S[I].buffer]+=S[I].size*bm[S[I].type];for(const I in S){const P=S[I],k=P.size;P.stride===void 0&&(b[P.buffer]===k*bm[P.type]?P.stride=0:P.stride=b[P.buffer]),P.start===void 0&&(P.start=A[P.buffer],A[P.buffer]+=k*bm[P.type])}_=s.createVertexArray(),s.bindVertexArray(_);for(let I=0;I<w.length;I++){const P=w[I];c.bind(P),r&&P._glBuffers[a].refCount++}return this.activateVao(e,d),g[d.id]=_,g[m]=_,s.bindVertexArray(null),c.unbind(Ps.ARRAY_BUFFER),_}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,c=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let m=0;m<a.length;m++){const g=a[m]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&c.dispose(a[m],t))}if(!t){for(const m in r)if(m[0]==="g"){const g=r[m];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let m=null;for(const g in d){const _=d[g],w=c[_.buffer],S=w._glBuffers[s];if(t.attributeData[g]){m!==S&&(a.bind(w),m=S);const b=t.attributeData[g].location;if(r.enableVertexAttribArray(b),r.vertexAttribPointer(b,_.size,_.type||r.FLOAT,_.normalized,_.stride,_.start),_.instance)if(this.hasInstance)r.vertexAttribDivisor(b,_.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,s){const{gl:a}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,m=d===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?a.drawElementsInstanced(e,t||c.indexBuffer.data.length,m,(r||0)*d,s||1):a.drawElements(e,t||c.indexBuffer.data.length,m,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?a.drawArraysInstanced(e,r,t||c.getSize(),s||1):a.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}U_.extension={type:De.RendererSystem,name:"geometry"};Xe.add(U_);const d0=new Ht;class Gg{constructor(e,t){this._texture=e,this.mapCoord=new Ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],c=e[s+1];t[s]=a*r.a+c*r.c+r.tx,t[s+1]=a*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const s=t.orig,a=t.trim;a&&(d0.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(d0));const c=t.baseTexture,d=this.uClampFrame,m=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+m+g)/c.width,d[1]=(t._frame.y+m+g)/c.height,d[2]=(t._frame.x+t._frame.width-m+g)/c.width,d[3]=(t._frame.y+t._frame.height-m+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var SE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,bE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class TE extends fn{constructor(e,t,r){let s=null;typeof e!="string"&&t===void 0&&r===void 0&&(s=e,e=void 0,t=void 0,r=void 0),super(e||bE,t||SE,r),this.maskSprite=s,this.maskMatrix=new Ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){const a=this._maskSprite,c=a._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new Gg(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}class AE{constructor(e=null){this.type=br.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=br.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class z_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const a=this.maskDataPool.pop()||new AE;a.pooled=!0,a.maskObject=t,r=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==br.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case br.SCISSOR:this.renderer.scissor.push(r);break;case br.STENCIL:this.renderer.stencil.push(r);break;case br.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case br.COLOR:this.pushColorMask(r);break}r.type===br.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case br.SCISSOR:this.renderer.scissor.pop(t);break;case br.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case br.SPRITE:this.popSpriteMask(t);break;case br.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===br.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=br.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=br.SCISSOR:e.type=br.STENCIL:e.type=br.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new TE])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const a=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}z_.extension={type:De.RendererSystem,name:"mask"};Xe.add(z_);class G_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==r&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const f0=new Ht,p0=[],H_=class Gd extends G_{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,a=s.renderTexture,c=r.getBounds(!0,p0.pop()??new ot);this.roundFrameToPixels(c,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:s,d:a}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Gd.isMatrixRotated(t.worldTransform)||Gd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,s,a){Gd.isMatrixRotated(a)||(a=a?f0.copyFrom(a):f0.identity(),a.translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&p0.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};H_.extension={type:De.RendererSystem,name:"scissor"};let CE=H_;Xe.add(CE);class j_ extends G_{constructor(e){super(e),this.glConst=Be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,r.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;s!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(r._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}j_.extension={type:De.RendererSystem,name:"stencil"};Xe.add(j_);class W_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ct("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}W_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_plugin"};Xe.add(W_);class $_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ht,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){const a=this.projectionMatrix,c=s?-1:1;a.identity(),a.a=1/t.width*2,a.d=c*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-c-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}$_.extension={type:De.RendererSystem,name:"projection"};Xe.add($_);const PE=new xf,m0=new ot;class V_{constructor(e){this.renderer=e,this._tempMatrix=new Ht}generateTexture(e,t){const{region:r,...s}=t||{},a=(r==null?void 0:r.copyTo(m0))||e.getLocalBounds(m0,!0),c=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/c),a.height=Math.max(a.height,1/c),s.width=a.width,s.height=a.height,s.resolution=c,s.multisample??(s.multisample=this.renderer.multisample);const d=Bl.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const m=e.transform;return e.transform=PE,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=m,d}destroy(){}}V_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"textureGenerator"};Xe.add(V_);const Sl=new ot,nc=new ot;class X_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ot,this.destinationFrame=new ot,this.viewportFrame=new ot}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const s=this.renderer;this.current=e;let a,c,d;e?(a=e.baseTexture,d=a.resolution,t||(Sl.width=e.frame.width,Sl.height=e.frame.height,t=Sl),r||(nc.x=e.frame.x,nc.y=e.frame.y,nc.width=t.width,nc.height=t.height,r=nc),c=a.framebuffer):(d=s.resolution,t||(Sl.width=s._view.screen.width,Sl.height=s._view.screen.height,t=Sl),r||(r=Sl,r.width=t.width,r.height=t.height));const m=this.viewportFrame;m.x=r.x*d,m.y=r.y*d,m.width=r.width*d,m.height=r.height*d,e||(m.y=s.view.height-(m.y+m.height)),m.ceil(),this.renderer.framebuffer.bind(c,m),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=Ut.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=a.width!==c.width||a.height!==c.height;if(d){let{x:m,y:g,width:_,height:w}=this.viewportFrame;m=Math.round(m),g=Math.round(g),_=Math.round(_),w=Math.round(w),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(m,g,_,w)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}X_.extension={type:De.RendererSystem,name:"renderTexture"};Xe.add(X_);class RE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function IE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=e.getActiveAttrib(i,s);if(a.name.startsWith("gl_"))continue;const c=M_(e,a.type),d={type:c,name:a.name,size:I_(c),location:e.getAttribLocation(i,a.name)};t[a.name]=d}return t}function ME(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let s=0;s<r;s++){const a=e.getActiveUniform(i,s),c=a.name.replace(/\[.*?\]$/,""),d=!!a.name.match(/\[.*?\]$/),m=M_(e,a.type);t[c]={name:c,index:s,type:m,size:a.size,isArray:d,value:P_(m,a.size)}}return t}function kE(i,e){var d;const t=o0(i,i.VERTEX_SHADER,e.vertexSrc),r=o0(i,i.FRAGMENT_SHADER,e.fragmentSrc),s=i.createProgram();i.attachShader(s,t),i.attachShader(s,r);const a=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(a&&(typeof i.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)||aE(i,s,t,r),e.attributeData=IE(s,i),e.uniformData=ME(s,i),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const m=Object.keys(e.attributeData);m.sort((g,_)=>g>_?1:-1);for(let g=0;g<m.length;g++)e.attributeData[m[g]].location=g,i.bindAttribLocation(s,g,m[g]);i.linkProgram(s)}i.deleteShader(t),i.deleteShader(r);const c={};for(const m in e.uniformData){const g=e.uniformData[m];c[m]={location:i.getUniformLocation(s,m),value:P_(g.type,g.size)}}return new RE(s,c)}function DE(i,e,t,r,s){t.buffer.update(s)}const NE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Y_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function OE(i){const e=i.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,r=0,s=0;for(let a=0;a<e.length;a++){const c=e[a];if(t=Y_[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,s+=d}r+t>16?(s=Math.ceil(s/16)*16,c.offset=s,s+=t,r=t):(c.offset=s,r+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function FE(i,e){const t=[];for(const r in i)e[r]&&t.push(e[r]);return t.sort((r,s)=>r.index-s.index),t}function BE(i,e){if(!i.autoManage)return{size:0,syncFunc:DE};const t=FE(i.uniforms,e),{uboElements:r,size:s}=OE(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],m=i.uniforms[d.data.name],g=d.data.name;let _=!1;for(let w=0;w<Yu.length;w++){const S=Yu[w];if(S.codeUbo&&S.test(d.data,m)){a.push(`offset = ${d.offset/4};`,Yu[w].codeUbo(d.data.name,m)),_=!0;break}}if(!_)if(d.data.size>1){const w=I_(d.data.type),S=Math.max(Y_[d.data.type]/16,1),b=w/S,A=(4-b%4)%4;a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*S}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${A};
                }

                `)}else{const w=NE[d.data.type];a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${w};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let LE=0;const Td={textureCount:0,uboCount:0};class q_{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=LE++}systemCheck(){if(!uE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(Td.textureCount=0,Td.uboCount=0,this.syncUniformGroup(e.uniformGroup,Td)),s}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=iE(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,Td,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=BE(e,this.shader.program.uniformData)),e.autoManage){const m=new Float32Array(d.size/4);e.buffer.update(m)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const s=e.uniforms,a=[`${r}-`];for(const c in s)a.push(c),t[c]&&a.push(t[c].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,s=kE(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}q_.extension={type:De.RendererSystem,name:"shader"};Xe.add(q_);class ef{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}ef.defaultOptions={hello:!1},ef.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"startup"};Xe.add(ef);function UE(i,e=[]){return e[et.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD]=[i.ONE,i.ONE],e[et.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.NONE]=[0,0],e[et.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],e[et.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SRC_IN]=[i.DST_ALPHA,i.ZERO],e[et.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],e[et.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],e[et.DST_IN]=[i.ZERO,i.SRC_ALPHA],e[et.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],e[et.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],e[et.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],e}const zE=0,GE=1,HE=2,jE=3,WE=4,$E=5,Q_=class ag{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=et.NONE,this._blendEq=!1,this.map=[],this.map[zE]=this.setBlend,this.map[GE]=this.setOffset,this.map[HE]=this.setCullFace,this.map[jE]=this.setDepthTest,this.map[WE]=this.setFrontFace,this.map[$E]=this.setDepthMask,this.checks=[],this.defaultState=new Ds,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=UE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(ag.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(ag.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};Q_.extension={type:De.RendererSystem,name:"state"};let VE=Q_;Xe.add(VE);class XE extends Tc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),r=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Yi(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const s in this.runners)this.runners[s].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=r.find(c=>this._systemsHash[c]===s);s[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const uc=class Hd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Hd.defaultMaxIdle,this.checkCountMax=Hd.defaultCheckCountMax,this.mode=Hd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Fg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let s=0;s<t.length;s++){const a=t[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[s]=null,r=!0)}if(r){let s=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[s++]=t[a]);t.length=s}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};uc.defaultMode=Fg.AUTO,uc.defaultMaxIdle=60*60,uc.defaultCheckCountMax=60*10,uc.extension={type:De.RendererSystem,name:"textureGC"};let Ml=uc;Xe.add(Ml);class Tm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ke.UNSIGNED_BYTE,this.internalFormat=Ae.RGBA,this.samplerType=0}}function YE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[i.RGB]:Fe.FLOAT,[i.RGBA]:Fe.FLOAT,[i.ALPHA]:Fe.FLOAT,[i.LUMINANCE]:Fe.FLOAT,[i.LUMINANCE_ALPHA]:Fe.FLOAT,[i.R8]:Fe.FLOAT,[i.R8_SNORM]:Fe.FLOAT,[i.RG8]:Fe.FLOAT,[i.RG8_SNORM]:Fe.FLOAT,[i.RGB8]:Fe.FLOAT,[i.RGB8_SNORM]:Fe.FLOAT,[i.RGB565]:Fe.FLOAT,[i.RGBA4]:Fe.FLOAT,[i.RGB5_A1]:Fe.FLOAT,[i.RGBA8]:Fe.FLOAT,[i.RGBA8_SNORM]:Fe.FLOAT,[i.RGB10_A2]:Fe.FLOAT,[i.RGB10_A2UI]:Fe.FLOAT,[i.SRGB8]:Fe.FLOAT,[i.SRGB8_ALPHA8]:Fe.FLOAT,[i.R16F]:Fe.FLOAT,[i.RG16F]:Fe.FLOAT,[i.RGB16F]:Fe.FLOAT,[i.RGBA16F]:Fe.FLOAT,[i.R32F]:Fe.FLOAT,[i.RG32F]:Fe.FLOAT,[i.RGB32F]:Fe.FLOAT,[i.RGBA32F]:Fe.FLOAT,[i.R11F_G11F_B10F]:Fe.FLOAT,[i.RGB9_E5]:Fe.FLOAT,[i.R8I]:Fe.INT,[i.R8UI]:Fe.UINT,[i.R16I]:Fe.INT,[i.R16UI]:Fe.UINT,[i.R32I]:Fe.INT,[i.R32UI]:Fe.UINT,[i.RG8I]:Fe.INT,[i.RG8UI]:Fe.UINT,[i.RG16I]:Fe.INT,[i.RG16UI]:Fe.UINT,[i.RG32I]:Fe.INT,[i.RG32UI]:Fe.UINT,[i.RGB8I]:Fe.INT,[i.RGB8UI]:Fe.UINT,[i.RGB16I]:Fe.INT,[i.RGB16UI]:Fe.UINT,[i.RGB32I]:Fe.INT,[i.RGB32UI]:Fe.UINT,[i.RGBA8I]:Fe.INT,[i.RGBA8UI]:Fe.UINT,[i.RGBA16I]:Fe.INT,[i.RGBA16UI]:Fe.UINT,[i.RGBA32I]:Fe.INT,[i.RGBA32UI]:Fe.UINT,[i.DEPTH_COMPONENT16]:Fe.FLOAT,[i.DEPTH_COMPONENT24]:Fe.FLOAT,[i.DEPTH_COMPONENT32F]:Fe.FLOAT,[i.DEPTH_STENCIL]:Fe.FLOAT,[i.DEPTH24_STENCIL8]:Fe.FLOAT,[i.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[i.RGB]:Fe.FLOAT,[i.RGBA]:Fe.FLOAT,[i.ALPHA]:Fe.FLOAT,[i.LUMINANCE]:Fe.FLOAT,[i.LUMINANCE_ALPHA]:Fe.FLOAT,[i.DEPTH_STENCIL]:Fe.FLOAT},e}function qE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:i.RGBA8,[Ae.RGB]:i.RGB8,[Ae.RG]:i.RG8,[Ae.RED]:i.R8,[Ae.RGBA_INTEGER]:i.RGBA8UI,[Ae.RGB_INTEGER]:i.RGB8UI,[Ae.RG_INTEGER]:i.RG8UI,[Ae.RED_INTEGER]:i.R8UI,[Ae.ALPHA]:i.ALPHA,[Ae.LUMINANCE]:i.LUMINANCE,[Ae.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.BYTE]:{[Ae.RGBA]:i.RGBA8_SNORM,[Ae.RGB]:i.RGB8_SNORM,[Ae.RG]:i.RG8_SNORM,[Ae.RED]:i.R8_SNORM,[Ae.RGBA_INTEGER]:i.RGBA8I,[Ae.RGB_INTEGER]:i.RGB8I,[Ae.RG_INTEGER]:i.RG8I,[Ae.RED_INTEGER]:i.R8I},[Ke.UNSIGNED_SHORT]:{[Ae.RGBA_INTEGER]:i.RGBA16UI,[Ae.RGB_INTEGER]:i.RGB16UI,[Ae.RG_INTEGER]:i.RG16UI,[Ae.RED_INTEGER]:i.R16UI,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT16},[Ke.SHORT]:{[Ae.RGBA_INTEGER]:i.RGBA16I,[Ae.RGB_INTEGER]:i.RGB16I,[Ae.RG_INTEGER]:i.RG16I,[Ae.RED_INTEGER]:i.R16I},[Ke.UNSIGNED_INT]:{[Ae.RGBA_INTEGER]:i.RGBA32UI,[Ae.RGB_INTEGER]:i.RGB32UI,[Ae.RG_INTEGER]:i.RG32UI,[Ae.RED_INTEGER]:i.R32UI,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT24},[Ke.INT]:{[Ae.RGBA_INTEGER]:i.RGBA32I,[Ae.RGB_INTEGER]:i.RGB32I,[Ae.RG_INTEGER]:i.RG32I,[Ae.RED_INTEGER]:i.R32I},[Ke.FLOAT]:{[Ae.RGBA]:i.RGBA32F,[Ae.RGB]:i.RGB32F,[Ae.RG]:i.RG32F,[Ae.RED]:i.R32F,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT32F},[Ke.HALF_FLOAT]:{[Ae.RGBA]:i.RGBA16F,[Ae.RGB]:i.RGB16F,[Ae.RG]:i.RG16F,[Ae.RED]:i.R16F},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:i.RGB565},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:i.RGBA4},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:i.RGB5_A1},[Ke.UNSIGNED_INT_2_10_10_10_REV]:{[Ae.RGBA]:i.RGB10_A2,[Ae.RGBA_INTEGER]:i.RGB10_A2UI},[Ke.UNSIGNED_INT_10F_11F_11F_REV]:{[Ae.RGB]:i.R11F_G11F_B10F},[Ke.UNSIGNED_INT_5_9_9_9_REV]:{[Ae.RGB]:i.RGB9_E5},[Ke.UNSIGNED_INT_24_8]:{[Ae.DEPTH_STENCIL]:i.DEPTH24_STENCIL8},[Ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ae.DEPTH_STENCIL]:i.DEPTH32F_STENCIL8}}:e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:i.RGBA,[Ae.RGB]:i.RGB,[Ae.ALPHA]:i.ALPHA,[Ae.LUMINANCE]:i.LUMINANCE,[Ae.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:i.RGB},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:i.RGBA},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:i.RGBA}},e}class K_{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new it,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=qE(e),this.samplerTypes=YE(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const r=new Tm(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Tm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let a=e-1;a>=0;--a){const c=t[a];c&&c._glTextures[s].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new Tm(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===Ke.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(r,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,c=e.realHeight,d=r.gl;(t.width!==a||t.height!==c||t.dirtyId<0)&&(t.width=a,t.height=c,d.texImage2D(e.target,0,t.internalFormat,a,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&Xu(this.managedTextures,s,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Is.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=fo.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Is.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===uo.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===uo.LINEAR){const a=Math.min(e.anisotropicLevel,r.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===uo.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===uo.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}K_.extension={type:De.RendererSystem,name:"texture"};Xe.add(K_);class Z_{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:s}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[s]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const m=d._glBuffers[this.CONTEXT_UID];m&&(m.refCount--,m.refCount===0&&!t&&a.dispose(d,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Z_.extension={type:De.RendererSystem,name:"transformFeedback"};Xe.add(Z_);class tf{constructor(e){this.renderer=e}init(e){this.screen=new ot(0,0,e.width,e.height),this.element=e.view||Be.ADAPTER.createCanvas(),this.resolution=e.resolution||Be.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}tf.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},tf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_view"};Xe.add(tf);Be.PREFER_ENV=Fl.WEBGL2;Be.STRICT_TEXTURE_CACHE=!1;Be.RENDER_OPTIONS={...Jd.defaultOptions,...Zd.defaultOptions,...tf.defaultOptions,...ef.defaultOptions};Object.defineProperties(Be,{WRAP_MODE:{get(){return it.defaultOptions.wrapMode},set(i){ct("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),it.defaultOptions.wrapMode=i}},SCALE_MODE:{get(){return it.defaultOptions.scaleMode},set(i){ct("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),it.defaultOptions.scaleMode=i}},MIPMAP_TEXTURES:{get(){return it.defaultOptions.mipmap},set(i){ct("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),it.defaultOptions.mipmap=i}},ANISOTROPIC_LEVEL:{get(){return it.defaultOptions.anisotropicLevel},set(i){ct("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),it.defaultOptions.anisotropicLevel=i}},FILTER_RESOLUTION:{get(){return ct("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fn.defaultResolution},set(i){fn.defaultResolution=i}},FILTER_MULTISAMPLE:{get(){return ct("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fn.defaultMultisample},set(i){fn.defaultMultisample=i}},SPRITE_MAX_TEXTURES:{get(){return Il.defaultMaxTextures},set(i){ct("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Il.defaultMaxTextures=i}},SPRITE_BATCH_SIZE:{get(){return Il.defaultBatchSize},set(i){ct("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Il.defaultBatchSize=i}},CAN_UPLOAD_SAME_BUFFER:{get(){return Il.canUploadSameBuffer},set(i){ct("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Il.canUploadSameBuffer=i}},GC_MODE:{get(){return Ml.defaultMode},set(i){ct("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ml.defaultMode=i}},GC_MAX_IDLE:{get(){return Ml.defaultMaxIdle},set(i){ct("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ml.defaultMaxIdle=i}},GC_MAX_CHECK_COUNT:{get(){return Ml.defaultCheckCountMax},set(i){ct("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ml.defaultCheckCountMax=i}},PRECISION_VERTEX:{get(){return co.defaultVertexPrecision},set(i){ct("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),co.defaultVertexPrecision=i}},PRECISION_FRAGMENT:{get(){return co.defaultFragmentPrecision},set(i){ct("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),co.defaultFragmentPrecision=i}}});var wa=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(wa||{});class Am{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const J_=class Zn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Am(null,null,1/0),this.deltaMS=1/Zn.targetFPMS,this.elapsedMS=1/Zn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=wa.NORMAL){return this._addListener(new Am(e,t,r))}addOnce(e,t,r=wa.NORMAL){return this._addListener(new Am(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Zn.targetFPMS;const r=this._head;let s=r.next;for(;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Zn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Zn._shared){const e=Zn._shared=new Zn;e.autoStart=!0,e._protected=!0}return Zn._shared}static get system(){if(!Zn._system){const e=Zn._system=new Zn;e.autoStart=!0,e._protected=!0}return Zn._system}};J_.targetFPMS=.06;let Nr=J_;Object.defineProperties(Be,{TARGET_FPMS:{get(){return Nr.targetFPMS},set(i){ct("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Nr.targetFPMS=i}}});class ex{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,wa.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Nr.shared:new Nr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}ex.extension=De.Application;Xe.add(ex);const tx=[];Xe.handleByList(De.Renderer,tx);function QE(i){for(const e of tx)if(e.test(i))return new e(i);throw new Error("Unable to auto-detect a suitable renderer.")}var KE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ZE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const JE=KE,rx=ZE;class nx{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=yr.HIGH?this.multisample=yr.HIGH:t>=yr.MEDIUM?this.multisample=yr.MEDIUM:t>=yr.LOW?this.multisample=yr.LOW:this.multisample=yr.NONE}destroy(){}}nx.extension={type:De.RendererSystem,name:"_multisample"};Xe.add(nx);class eS{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ix{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,r){const{gl:s,CONTEXT_UID:a}=this;r=r||0;const c=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new eS(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}ix.extension={type:De.RendererSystem,name:"buffer"};Xe.add(ix);class sx{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let s,a,c,d;if(t&&(s=t.renderTexture,a=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!s,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(s||(this.lastObjectRendered=e),!d){const m=e.enableTempParent();e.updateTransform(),e.disableTempParent(m)}r.renderTexture.bind(s),r.batch.currentRenderer.start(),(a??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),s&&(t.blit&&r.framebuffer.blit(),s.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}sx.extension={type:De.RendererSystem,name:"objectRenderer"};Xe.add(sx);const jd=class lg extends XE{constructor(e){super(),this.type=u_.WEBGL,e=Object.assign({},Be.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new qi({projectionMatrix:new Ht},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:lg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(ct("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=lg.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Sw()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ct("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ct("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ct("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){ct("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){ct("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return ct("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};jd.extension={type:De.Renderer,priority:1},jd.__plugins={},jd.__systems={};let Hg=jd;Xe.handleByMap(De.RendererPlugin,Hg.__plugins);Xe.handleByMap(De.RendererSystem,Hg.__systems);Xe.add(Hg);class ox extends _c{constructor(e,t){const{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const c=new it;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof _c?this.addResourceAt(e[r],r):this.addResourceAt(T_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class tS extends ox{constructor(e,t){const{width:r,height:s}=t||{};let a,c;Array.isArray(e)?(a=e,c=e.length):c=e,super(c,{width:r,height:s}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Vu.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:s,itemDirtyIds:a,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let m=0;m<s;m++){const g=c[m];a[m]<g.dirtyId&&(a[m]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,m,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class rS extends mo{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const ax=class hc extends ox{constructor(e,t){const{width:r,height:s,autoLoad:a,linkBaseTexture:c}=t||{};if(e&&e.length!==hc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:s});for(let d=0;d<hc.SIDES;d++)this.items[d].target=Vu.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=Vu.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Vu.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const s=this.itemDirtyIds;for(let a=0;a<hc.SIDES;a++){const c=this.items[a];(s[a]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),s[a]=c.dirtyId):s[a]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===hc.SIDES}};ax.SIDES=6;let nS=ax;class Wu extends mo{constructor(e,t){t=t||{};let r,s,a;typeof e=="string"?(r=Wu.EMPTY,s=e,a=!0):(r=e,s=null,a=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await r.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Bn.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Wu._EMPTY=Wu._EMPTY??Be.ADAPTER.createCanvas(0,0),Wu._EMPTY}}const ug=class Wd extends mo{constructor(e,t){t=t||{},super(Be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Wd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;mo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,a=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,a=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),a=Math.round(a);const c=this.source;c.width=s,c.height=a,c._pixiId=`canvas_${Ol()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const t=Wd.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Wd.SVG_XML.test(e)}};ug.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,ug.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let hg=ug;class iS extends mo{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const cg=class dg extends mo{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];mo.crossOrigin(r,s,t.crossorigin);for(let a=0;a<e.length;++a){const c=document.createElement("source");let{src:d,mime:m}=e[a];if(d=d||e[a],d.startsWith("data:"))m=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),_=g.slice(g.lastIndexOf(".")+1);m=m||dg.MIME_TYPES[_]||`video/${_}`}c.src=d,m&&(c.type=m),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=Nr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||dg.TYPES.includes(t)}};cg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],cg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let lx=cg;Zm.push(Wu,N_,rS,lx,iS,hg,gf,nS,tS);class rf{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ot.EMPTY:(e=e||new ot(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:s,c:a,d:c,tx:d,ty:m}=e,g=r*t.x+a*t.y+d,_=s*t.x+c*t.y+m;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,_),this.maxY=Math.max(this.maxY,_)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,a=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,s=c>s?c:s,a=d>a?d:a,this.minX=t,this.minY=r,this.maxX=s,this.maxY=a}addFrame(e,t,r,s,a){this.addFrameMatrix(e.worldTransform,t,r,s,a)}addFrameMatrix(e,t,r,s,a){const c=e.a,d=e.b,m=e.c,g=e.d,_=e.tx,w=e.ty;let S=this.minX,b=this.minY,A=this.maxX,I=this.maxY,P=c*t+m*r+_,k=d*t+g*r+w;S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,P=c*s+m*r+_,k=d*s+g*r+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,P=c*t+m*a+_,k=d*t+g*a+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,P=c*s+m*a+_,k=d*s+g*a+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,I=k>I?k:I,this.minX=S,this.minY=b,this.maxX=A,this.maxY=I}addVertexData(e,t,r){let s=this.minX,a=this.minY,c=this.maxX,d=this.maxY;for(let m=t;m<r;m+=2){const g=e[m],_=e[m+1];s=g<s?g:s,a=_<a?_:a,c=g>c?g:c,d=_>d?_:d}this.minX=s,this.minY=a,this.maxX=c,this.maxY=d}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,a=0,c=a){const d=e.a,m=e.b,g=e.c,_=e.d,w=e.tx,S=e.ty;let b=this.minX,A=this.minY,I=this.maxX,P=this.maxY;for(let k=r;k<s;k+=2){const z=t[k],F=t[k+1],W=d*z+g*F+w,L=_*F+m*z+S;b=Math.min(b,W-a),I=Math.max(I,W+a),A=Math.min(A,L-c),P=Math.max(P,L+c)}this.minX=b,this.minY=A,this.maxX=I,this.maxY=P}addBounds(e){const t=this.minX,r=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=a&&s<=c){const d=this.minX,m=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=s<m?s:m,this.maxX=a>g?a:g,this.maxY=c>_?c:_}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=a&&s<=c){const d=this.minX,m=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=s<m?s:m,this.maxX=a>g?a:g,this.maxY=c>_?c:_}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,a,c){e-=a,t-=c,r+=a,s+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class Xt extends Tc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new xf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new rf,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const s=t[r];Object.defineProperty(Xt.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new ot),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._localBounds||(this._localBounds=new rf);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-a,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,a=0,c=0,d=0,m=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=a,this.skew.x=c,this.skew.y=d,this.pivot.x=m,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new sS),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Kw}set angle(e){this.transform.rotation=e*Zw}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class sS extends Xt{constructor(){super(...arguments),this.sortDirty=null}}Xt.prototype.displayObjectUpdateTransform=Xt.prototype.updateTransform;const oS=new Ht;function aS(i,e){return i.zIndex===e.zIndex?i._lastSortedIndex-e._lastSortedIndex:i.zIndex-e.zIndex}const ux=class fg extends Xt{constructor(){super(),this.children=[],this.sortableChildren=fg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);Xu(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,Xu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Xu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,s=t,a=s-r;let c;if(a>0&&a<=s){c=this.children.splice(r,a);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(aS),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let s=0,a=this.children.length;s<a;++s){const c=this.children[s];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,s;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==fg.prototype._render&&(r=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=oS.copyFrom(s),s.prepend(a)):s=a),r&&t.intersects(r,s))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const m=this.children[c],g=m.cullable;m.cullable=g||!this.cullArea,m.render(e),m.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,s=this.children.length;r<s;++r)this.children[r].render(e)}}renderAdvanced(e){var a,c,d;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let m=0;m<t.length;m++)t[m].enabled&&this._enabledFilters.push(t[m])}const s=t&&((a=this._enabledFilters)==null?void 0:a.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==br.NONE));if(s&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let m=0,g=this.children.length;m<g;++m)this.children[m].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<r.length;++s)r[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};ux.defaultSortableChildren=!1;let pn=ux;pn.prototype.containerUpdateTransform=pn.prototype.updateTransform;Object.defineProperties(Be,{SORTABLE_CHILDREN:{get(){return pn.defaultSortableChildren},set(i){ct("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),pn.defaultSortableChildren=i}}});var Ef=(i=>(i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i))(Ef||{});const ic=new dt,lS=new Uint16Array([0,1,2,0,2,3]);class Ns extends pn{constructor(e){super(),this._anchor=new As(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ut(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=et.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ke.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=lS,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ya(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ya(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,d=t.tx,m=t.ty,g=this.vertexData,_=e.trim,w=e.orig,S=this._anchor;let b=0,A=0,I=0,P=0;if(_?(A=_.x-S._x*w.width,b=A+_.width,P=_.y-S._y*w.height,I=P+_.height):(A=-S._x*w.width,b=A+w.width,P=-S._y*w.height,I=P+w.height),g[0]=r*A+a*P+d,g[1]=c*P+s*A+m,g[2]=r*b+a*P+d,g[3]=c*P+s*b+m,g[4]=r*b+a*I+d,g[5]=c*I+s*b+m,g[6]=r*A+a*I+d,g[7]=c*I+s*A+m,this._roundPixels){const k=Be.RESOLUTION;for(let z=0;z<g.length;++z)g[z]=Math.round(g[z]*k)/k}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,a=this.transform.worldTransform,c=a.a,d=a.b,m=a.c,g=a.d,_=a.tx,w=a.ty,S=-s._x*r.width,b=S+r.width,A=-s._y*r.height,I=A+r.height;if(t[0]=c*S+m*A+_,t[1]=g*A+d*S+w,t[2]=c*b+m*A+_,t[3]=g*A+d*b+w,t[4]=c*b+m*I+_,t[5]=g*I+d*b+w,t[6]=c*S+m*I+_,t[7]=g*I+d*S+w,this._roundPixels){const P=Be.RESOLUTION;for(let k=0;k<t.length;++k)t[k]=Math.round(t[k]*P)/P}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new rf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ic);const t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x;let a=0;return ic.x>=s&&ic.x<s+t&&(a=-r*this.anchor.y,ic.y>=a&&ic.y<a+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Ns(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=ya(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=ya(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ke.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Ad={willReadFrequently:!0},Es=class qe{static get experimentalLetterSpacingSupported(){let e=qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Be.ADAPTER.getCanvasRenderingContext2D().prototype;e=qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,s,a,c,d,m,g){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=a,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=m,this.fontProperties=g}static measureText(e,t,r,s=qe._canvas){r=r??t.wordWrap;const a=t.toFontString(),c=qe.measureFont(a);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=s.getContext("2d",Ad);d.font=a;const m=(r?qe.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),g=new Array(m.length);let _=0;for(let A=0;A<m.length;A++){const I=qe._measureText(m[A],t.letterSpacing,d);g[A]=I,_=Math.max(_,I)}let w=_+t.strokeThickness;t.dropShadow&&(w+=t.dropShadowDistance);const S=t.lineHeight||c.fontSize+t.strokeThickness;let b=Math.max(S,c.fontSize+t.strokeThickness*2)+t.leading+(m.length-1)*(S+t.leading);return t.dropShadow&&(b+=t.dropShadowDistance),new qe(e,t,w,b,m,g,S+t.leading,_,c)}static _measureText(e,t,r){let s=!1;qe.experimentalLetterSpacingSupported&&(qe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,s=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let a=r.measureText(e).width;return a>0&&(s?a-=t:a+=(qe.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,r=qe._canvas){const s=r.getContext("2d",Ad);let a=0,c="",d="";const m=Object.create(null),{letterSpacing:g,whiteSpace:_}=t,w=qe.collapseSpaces(_),S=qe.collapseNewlines(_);let b=!w;const A=t.wordWrapWidth+g,I=qe.tokenize(e);for(let P=0;P<I.length;P++){let k=I[P];if(qe.isNewline(k)){if(!S){d+=qe.addLine(c),b=!w,c="",a=0;continue}k=" "}if(w){const F=qe.isBreakingSpace(k),W=qe.isBreakingSpace(c[c.length-1]);if(F&&W)continue}const z=qe.getFromCache(k,g,m,s);if(z>A)if(c!==""&&(d+=qe.addLine(c),c="",a=0),qe.canBreakWords(k,t.breakWords)){const F=qe.wordWrapSplit(k);for(let W=0;W<F.length;W++){let L=F[W],K=L,N=1;for(;F[W+N];){const ce=F[W+N];if(!qe.canBreakChars(K,ce,k,W,t.breakWords))L+=ce;else break;K=ce,N++}W+=N-1;const J=qe.getFromCache(L,g,m,s);J+a>A&&(d+=qe.addLine(c),b=!1,c="",a=0),c+=L,a+=J}}else{c.length>0&&(d+=qe.addLine(c),c="",a=0);const F=P===I.length-1;d+=qe.addLine(k,!F),b=!1,c="",a=0}else z+a>A&&(b=!1,d+=qe.addLine(c),c="",a=0),(c.length>0||!qe.isBreakingSpace(k)||b)&&(c+=k,a+=z)}return d+=qe.addLine(c,!1),d}static addLine(e,t=!0){return e=qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,s){let a=r[e];return typeof a!="number"&&(a=qe._measureText(e,t,s)+t,r[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!qe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const a=e[s],c=e[s+1];if(qe.isBreakingSpace(a,c)||qe.isNewline(a)){r!==""&&(t.push(r),r=""),t.push(a);continue}r+=a}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,a){return!0}static wordWrapSplit(e){return qe.graphemeSegmenter(e)}static measureFont(e){if(qe._fonts[e])return qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=qe._canvas,s=qe._context;s.font=e;const a=qe.METRICS_STRING+qe.BASELINE_SYMBOL,c=Math.ceil(s.measureText(a).width);let d=Math.ceil(s.measureText(qe.BASELINE_SYMBOL).width);const m=Math.ceil(qe.HEIGHT_MULTIPLIER*d);if(d=d*qe.BASELINE_MULTIPLIER|0,c===0||m===0)return qe._fonts[e]=t,t;r.width=c,r.height=m,s.fillStyle="#f00",s.fillRect(0,0,c,m),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,d);const g=s.getImageData(0,0,c,m).data,_=g.length,w=c*4;let S=0,b=0,A=!1;for(S=0;S<d;++S){for(let I=0;I<w;I+=4)if(g[b+I]!==255){A=!0;break}if(!A)b+=w;else break}for(t.ascent=d-S,b=_-w,A=!1,S=m;S>d;--S){for(let I=0;I<w;I+=4)if(g[b+I]!==255){A=!0;break}if(!A)b-=w;else break}return t.descent=S-d,t.fontSize=t.ascent+t.descent,qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete qe._fonts[e]:qe._fonts={}}static get _canvas(){var e;if(!qe.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",Ad))!=null&&e.measureText)return qe.__canvas=r,r;t=Be.ADAPTER.createCanvas()}catch{t=Be.ADAPTER.createCanvas()}t.width=t.height=10,qe.__canvas=t}return qe.__canvas}static get _context(){return qe.__context||(qe.__context=qe._canvas.getContext("2d",Ad)),qe.__context}};Es.METRICS_STRING="|q",Es.BASELINE_SYMBOL="M",Es.BASELINE_MULTIPLIER=1.4,Es.HEIGHT_MULTIPLIER=2,Es.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const i=new Intl.Segmenter;return e=>[...i.segment(e)].map(t=>t.segment)}return i=>[...i]})(),Es.experimentalLetterSpacing=!1,Es._fonts={},Es._newlines=[10,13],Es._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ma=Es;const uS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hx=class cc{constructor(e){this.styleID=0,this.reset(),Pm(this,e,e)}clone(){const e={};return Pm(e,this,cc.defaultStyle),new cc(e)}reset(){Pm(this,cc.defaultStyle,cc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Cm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Cm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){hS(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Cm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let s=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!uS.includes(s)&&(s=`"${s}"`),t[r]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};hx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ef.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Jn=hx;function Cm(i){const e=Ut.shared,t=r=>{const s=e.setValue(r);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(i)?i.map(t):t(i)}function hS(i,e){if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}function Pm(i,e,t){for(const r in t)Array.isArray(e[r])?i[r]=e[r].slice():i[r]=e[r]}const cS={texture:!0,children:!1,baseTexture:!0},cx=class pg extends Ns{constructor(e,t,r){let s=!1;r||(r=Be.ADAPTER.createCanvas(),s=!0),r.width=3,r.height=3;const a=ke.from(r);a.orig=new ot,a.trim=new ot,super(a),this._ownCanvas=s,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=pg.defaultResolution??Be.RESOLUTION,this._autoResolution=pg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return ma.experimentalLetterSpacing}static set experimentalLetterSpacing(e){ct("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ma.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,s=ma.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,c=s.height,d=s.lines,m=s.lineHeight,g=s.lineWidths,_=s.maxLineWidth,w=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let S,b;const A=t.dropShadow?2:1;for(let I=0;I<A;++I){const P=t.dropShadow&&I===0,k=P?Math.ceil(Math.max(1,c)+t.padding*2):0,z=k*this._resolution;if(P){r.fillStyle="black",r.strokeStyle="black";const W=t.dropShadowColor,L=t.dropShadowBlur*this._resolution,K=t.dropShadowDistance*this._resolution;r.shadowColor=Ut.shared.setValue(W).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=L,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*K,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*K+z}else r.fillStyle=this._generateFillStyle(t,d,s),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let F=(m-w.fontSize)/2;m-w.fontSize<0&&(F=0);for(let W=0;W<d.length;W++)S=t.strokeThickness/2,b=t.strokeThickness/2+W*m+w.ascent+F,t.align==="right"?S+=_-g[W]:t.align==="center"&&(S+=(_-g[W])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[W],S+t.padding,b+t.padding-k,!0),t.fill&&this.drawLetterSpacing(d[W],S+t.padding,b+t.padding-k)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){const a=this._style.letterSpacing;let c=!1;if(ma.experimentalLetterSpacingSupported&&(ma.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||c){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const m=ma.graphemeSegmenter(e);let g=this.context.measureText(e).width,_=0;for(let w=0;w<m.length;++w){const S=m[w];s?this.context.strokeText(S,d,r):this.context.fillText(S,d,r);let b="";for(let A=w+1;A<m.length;++A)b+=m[A];_=this.context.measureText(b).width,d+=g-_+a,g=_}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=zw(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,s=r.trim?0:r.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,m=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,_=s.slice(),w=e.fillGradientStops.slice();if(!w.length){const S=_.length+1;for(let b=1;b<S;++b)w.push(b/S)}if(_.unshift(s[0]),w.unshift(0),_.push(s[s.length-1]),w.push(1),e.fillGradientType===Ef.LINEAR_VERTICAL){a=this.context.createLinearGradient(m/2,d,m/2,g+d);const S=r.fontProperties.fontSize+e.strokeThickness;for(let b=0;b<t.length;b++){const A=r.lineHeight*(b-1)+S,I=r.lineHeight*b;let P=I;b>0&&A>I&&(P=(I+A)/2);const k=I+S,z=r.lineHeight*(b+1);let F=k;b+1<t.length&&z<k&&(F=(k+z)/2);const W=(F-P)/g;for(let L=0;L<_.length;L++){let K=0;typeof w[L]=="number"?K=w[L]:K=L/_.length;let N=Math.min(1,Math.max(0,P/g+K*W));N=Number(N.toFixed(5)),a.addColorStop(N,_[L])}}}else{a=this.context.createLinearGradient(d,g/2,m+d,g/2);const S=_.length+1;let b=1;for(let A=0;A<_.length;A++){let I;typeof w[A]=="number"?I=w[A]:I=b/S,a.addColorStop(I,_[A]),b++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},cS,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=ya(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=ya(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Jn?this._style=e:this._style=new Jn(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};cx.defaultAutoResolution=!0;let jg=cx;class nf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class $d{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const c=t[a].match(/^[a-z]+/gm)[0],d=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const g in d){const _=d[g].split("="),w=_[0],S=_[1].replace(/"/gm,""),b=parseFloat(S),A=isNaN(b)?S:b;m[w]=A}r[c].push(m)}const s=new nf;return r.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),r.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),r.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),r.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),r.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),r.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class mg{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new nf,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),m=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<s.length;g++)t.common.push({lineHeight:parseInt(s[g].getAttribute("lineHeight"),10)});for(let g=0;g<a.length;g++)t.page.push({id:parseInt(a[g].getAttribute("id"),10)||0,file:a[g].getAttribute("file")});for(let g=0;g<c.length;g++){const _=c[g];t.char.push({id:parseInt(_.getAttribute("id"),10),page:parseInt(_.getAttribute("page"),10)||0,x:parseInt(_.getAttribute("x"),10),y:parseInt(_.getAttribute("y"),10),width:parseInt(_.getAttribute("width"),10),height:parseInt(_.getAttribute("height"),10),xoffset:parseInt(_.getAttribute("xoffset"),10),yoffset:parseInt(_.getAttribute("yoffset"),10),xadvance:parseInt(_.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<m.length;g++)t.distanceField.push({fieldType:m[g].getAttribute("fieldType"),distanceRange:parseInt(m[g].getAttribute("distanceRange"),10)});return t}}class gg{static test(e){return typeof e=="string"&&e.includes("<font>")?mg.test(Be.ADAPTER.parseXML(e)):!1}static parse(e){return mg.parse(Be.ADAPTER.parseXML(e))}}const Rm=[$d,mg,gg];function dS(i){for(let e=0;e<Rm.length;e++)if(Rm[e].test(i))return Rm[e];return null}function fS(i,e,t,r,s,a){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const m=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,_=i.width/r-m-g*2,w=i.height/r-m-g*2,S=c.slice(),b=t.fillGradientStops.slice();if(!b.length){const A=S.length+1;for(let I=1;I<A;++I)b.push(I/A)}if(S.unshift(c[0]),b.unshift(0),S.push(c[c.length-1]),b.push(1),t.fillGradientType===Ef.LINEAR_VERTICAL){d=e.createLinearGradient(_/2,g,_/2,w+g);let A=0;const I=(a.fontProperties.fontSize+t.strokeThickness)/w;for(let P=0;P<s.length;P++){const k=a.lineHeight*P;for(let z=0;z<S.length;z++){let F=0;typeof b[z]=="number"?F=b[z]:F=z/S.length;const W=k/w+F*I;let L=Math.max(A,W);L=Math.min(L,1),d.addColorStop(L,S[z]),A=L}}}else{d=e.createLinearGradient(g,w/2,_+g,w/2);const A=S.length+1;let I=1;for(let P=0;P<S.length;P++){let k;typeof b[P]=="number"?k=b[P]:k=I/A,d.addColorStop(k,S[P]),I++}}return d}function pS(i,e,t,r,s,a,c){const d=t.text,m=t.fontProperties;e.translate(r,s),e.scale(a,a);const g=c.strokeThickness/2,_=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=fS(i,e,c,a,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const w=c.dropShadowColor,S=c.dropShadowBlur*a,b=c.dropShadowDistance*a;e.shadowColor=Ut.shared.setValue(w).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=S,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*b,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*b}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,_+t.lineHeight-m.descent),c.fill&&e.fillText(d,g,_+t.lineHeight-m.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Vd(i){return i.codePointAt?i.codePointAt(0):i.charCodeAt(0)}function dx(i){return Array.from?Array.from(i):i.split("")}function mS(i){typeof i=="string"&&(i=[i]);const e=[];for(let t=0,r=i.length;t<r;t++){const s=i[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const a=s[0].charCodeAt(0),c=s[1].charCodeAt(0);if(c<a)throw new Error("[BitmapFont]: Invalid character range.");for(let d=a,m=c;d<=m;d++)e.push(String.fromCharCode(d))}else e.push(...dx(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const fa=class Ss{constructor(e,t,r){var _;const[s]=e.info,[a]=e.common,[c]=e.page,[d]=e.distanceField,m=po(c.file),g={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/m,this.chars={},this.pageTextures=g;for(let w=0;w<e.page.length;w++){const{id:S,file:b}=e.page[w];g[S]=t instanceof Array?t[w]:t[b],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[S].baseTexture.alphaMode=Bn.NO_PREMULTIPLIED_ALPHA,g[S].baseTexture.mipmap=Is.OFF)}for(let w=0;w<e.char.length;w++){const{id:S,page:b}=e.char[w];let{x:A,y:I,width:P,height:k,xoffset:z,yoffset:F,xadvance:W}=e.char[w];A/=m,I/=m,P/=m,k/=m,z/=m,F/=m,W/=m;const L=new ot(A+g[b].frame.x/m,I+g[b].frame.y/m,P,k);this.chars[S]={xOffset:z,yOffset:F,xAdvance:W,kerning:{},texture:new ke(g[b].baseTexture,L),page:b}}for(let w=0;w<e.kerning.length;w++){let{first:S,second:b,amount:A}=e.kerning[w];S/=m,b/=m,A/=m,this.chars[b]&&(this.chars[b].kerning[S]=A)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((_=d==null?void 0:d.fieldType)==null?void 0:_.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let s;if(e instanceof nf)s=e;else{const c=dS(e);if(!c)throw new Error("Unrecognized data format for font.");s=c.parse(e)}t instanceof ke&&(t=[t]);const a=new Ss(s,t,r);return Ss.available[a.font]=a,a}static uninstall(e){const t=Ss.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Ss.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:c,textureWidth:d,textureHeight:m,...g}=Object.assign({},Ss.defaultOptions,r),_=mS(s),w=t instanceof Jn?t:new Jn(t),S=d,b=new nf;b.info[0]={face:w.fontFamily,size:w.fontSize},b.common[0]={lineHeight:w.fontSize};let A=0,I=0,P,k,z,F=0;const W=[];for(let K=0;K<_.length;K++){P||(P=Be.ADAPTER.createCanvas(),P.width=d,P.height=m,k=P.getContext("2d"),z=new it(P,{resolution:c,...g}),W.push(new ke(z)),b.page.push({id:W.length-1,file:""}));const N=_[K],J=ma.measureText(N,w,!1,P),ce=J.width,fe=Math.ceil(J.height),Pe=Math.ceil((w.fontStyle==="italic"?2:1)*ce);if(I>=m-fe*c){if(I===0)throw new Error(`[BitmapFont] textureHeight ${m}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${N}')`);--K,P=null,k=null,z=null,I=0,A=0,F=0;continue}if(F=Math.max(fe+J.fontProperties.descent,F),Pe*c+A>=S){if(A===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${N}')`);--K,I+=F*c,I=Math.ceil(I),A=0,F=0;continue}pS(P,k,J,A,I,c,w);const Q=Vd(J.text);b.char.push({id:Q,page:W.length-1,x:A/c,y:I/c,width:Pe,height:fe,xoffset:0,yoffset:0,xadvance:ce-(w.dropShadow?w.dropShadowDistance:0)-(w.stroke?w.strokeThickness:0)}),A+=(Pe+2*a)*c,A=Math.ceil(A)}if(!(r!=null&&r.skipKerning))for(let K=0,N=_.length;K<N;K++){const J=_[K];for(let ce=0;ce<N;ce++){const fe=_[ce],Pe=k.measureText(J).width,Q=k.measureText(fe).width,Z=k.measureText(J+fe).width-(Pe+Q);Z&&b.kerning.push({first:Vd(J),second:Vd(fe),amount:Z})}}const L=new Ss(b,W,!0);return Ss.available[e]!==void 0&&Ss.uninstall(e),Ss.available[e]=L,L}};fa.ALPHA=[["a","z"],["A","Z"]," "],fa.NUMERIC=[["0","9"]],fa.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],fa.ASCII=[[" ","~"]],fa.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:fa.ALPHANUMERIC},fa.available={};let pa=fa;class gS{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Im=new dt,g0=new Dl,fx=class px extends pn{constructor(e,t,r,s=Vi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Ds.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Vi.TRIANGLES&&t.length<px.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,a=s.a,c=s.b,d=s.c,m=s.d,g=s.tx,_=s.ty,w=this.vertexData;for(let S=0;S<w.length/2;S++){const b=t[S*2],A=t[S*2+1];w[S*2]=a*b+d*A+g,w[S*2+1]=c*b+m*A+_}if(this._roundPixels){const S=Be.RESOLUTION;for(let b=0;b<w.length;++b)w[b]=Math.round(w[b]*S)/S}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new gS(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Im);const t=this.geometry.getBuffer("aVertexPosition").data,r=g0.points,s=this.geometry.getIndex().data,a=s.length,c=this.drawMode===4?3:1;for(let d=0;d+2<a;d+=c){const m=s[d]*2,g=s[d+1]*2,_=s[d+2]*2;if(r[0]=t[m],r[1]=t[m+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[_],r[5]=t[_+1],g0.contains(Im.x,Im.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};fx.BATCHABLE_SIZE=100;let xc=fx;class Sf extends xa{constructor(e,t,r){super();const s=new dr(e),a=new dr(t,!0),c=new dr(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",a,2,!1,Ke.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var yS=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class wc extends Rs{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:Ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||co.from(vS,yS),r),this._colorDirty=!1,this.uvMatrix=new Gg(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new Ut(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ut.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var _S=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,xS=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const y0=[],v0=[],_0=[],mx=class gx extends pn{constructor(e,t={}){super();const{align:r,tint:s,maxWidth:a,letterSpacing:c,fontName:d,fontSize:m}=Object.assign({},gx.styleDefaults,t);if(!pa.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Ut(s),this._font=void 0,this._fontName=d,this._fontSize=m,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new As(()=>{this.dirty=!0},this,0,0),this._roundPixels=Be.ROUND_PIXELS,this.dirty=!0,this._resolution=Be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Pe;const e=pa.available[this._fontName],t=this.fontSize,r=t/e.size,s=new dt,a=[],c=[],d=[],m=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=dx(m),_=this._maxWidth*e.size/t,w=e.distanceFieldType==="none"?y0:v0;let S=null,b=0,A=0,I=0,P=-1,k=0,z=0,F=0,W=0;for(let Q=0;Q<g.length;Q++){const Z=g[Q],le=Vd(Z);if(/(?:\s)/.test(Z)&&(P=Q,k=b,W++),Z==="\r"||Z===`
`){c.push(b),d.push(-1),A=Math.max(A,b),++I,++z,s.x=0,s.y+=e.lineHeight,S=null,W=0;continue}const Te=e.chars[le];if(!Te)continue;S&&Te.kerning[S]&&(s.x+=Te.kerning[S]);const B=_0.pop()||{texture:ke.EMPTY,line:0,charCode:0,prevSpaces:0,position:new dt};B.texture=Te.texture,B.line=I,B.charCode=le,B.position.x=Math.round(s.x+Te.xOffset+this._letterSpacing/2),B.position.y=Math.round(s.y+Te.yOffset),B.prevSpaces=W,a.push(B),b=B.position.x+Math.max(Te.xAdvance-Te.xOffset,Te.texture.orig.width),s.x+=Te.xAdvance+this._letterSpacing,F=Math.max(F,Te.yOffset+Te.texture.height),S=le,P!==-1&&_>0&&s.x>_&&(++z,Xu(a,1+P-z,1+Q-P),Q=P,P=-1,c.push(k),d.push(a.length>0?a[a.length-1].prevSpaces:0),A=Math.max(A,k),I++,s.x=0,s.y+=e.lineHeight,S=null,W=0)}const L=g[g.length-1];L!=="\r"&&L!==`
`&&(/(?:\s)/.test(L)&&(b=k),c.push(b),A=Math.max(A,b),d.push(-1));const K=[];for(let Q=0;Q<=I;Q++){let Z=0;this._align==="right"?Z=A-c[Q]:this._align==="center"?Z=(A-c[Q])/2:this._align==="justify"&&(Z=d[Q]<0?0:(A-c[Q])/d[Q]),K.push(Z)}const N=a.length,J={},ce=[],fe=this._activePagesMeshData;w.push(...fe);for(let Q=0;Q<N;Q++){const Z=a[Q].texture,le=Z.baseTexture.uid;if(!J[le]){let Te=w.pop();if(!Te){const G=new Sf;let C,H;e.distanceFieldType==="none"?(C=new wc(ke.EMPTY),H=et.NORMAL):(C=new wc(ke.EMPTY,{program:co.from(xS,_S),uniforms:{uFWidth:0}}),H=et.NORMAL_NPM);const D=new xc(G,C);D.blendMode=H,Te={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}Te.index=0,Te.indexCount=0,Te.vertexCount=0,Te.uvsCount=0,Te.total=0;const{_textureCache:B}=this;B[le]=B[le]||new ke(Z.baseTexture),Te.mesh.texture=B[le],Te.mesh.tint=this._tintColor.value,ce.push(Te),J[le]=Te}J[le].total++}for(let Q=0;Q<fe.length;Q++)ce.includes(fe[Q])||this.removeChild(fe[Q].mesh);for(let Q=0;Q<ce.length;Q++)ce[Q].mesh.parent!==this&&this.addChild(ce[Q].mesh);this._activePagesMeshData=ce;for(const Q in J){const Z=J[Q],le=Z.total;if(!(((Pe=Z.indices)==null?void 0:Pe.length)>6*le)||Z.vertices.length<xc.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*le),Z.uvs=new Float32Array(4*2*le),Z.indices=new Uint16Array(6*le);else{const Te=Z.total,B=Z.vertices;for(let G=Te*4*2;G<B.length;G++)B[G]=0}Z.mesh.size=6*le}for(let Q=0;Q<N;Q++){const Z=a[Q];let le=Z.position.x+K[Z.line]*(this._align==="justify"?Z.prevSpaces:1);this._roundPixels&&(le=Math.round(le));const Te=le*r,B=Z.position.y*r,G=Z.texture,C=J[G.baseTexture.uid],H=G.frame,D=G._uvs,R=C.index++;C.indices[R*6+0]=0+R*4,C.indices[R*6+1]=1+R*4,C.indices[R*6+2]=2+R*4,C.indices[R*6+3]=0+R*4,C.indices[R*6+4]=2+R*4,C.indices[R*6+5]=3+R*4,C.vertices[R*8+0]=Te,C.vertices[R*8+1]=B,C.vertices[R*8+2]=Te+H.width*r,C.vertices[R*8+3]=B,C.vertices[R*8+4]=Te+H.width*r,C.vertices[R*8+5]=B+H.height*r,C.vertices[R*8+6]=Te,C.vertices[R*8+7]=B+H.height*r,C.uvs[R*8+0]=D.x0,C.uvs[R*8+1]=D.y0,C.uvs[R*8+2]=D.x1,C.uvs[R*8+3]=D.y1,C.uvs[R*8+4]=D.x2,C.uvs[R*8+5]=D.y2,C.uvs[R*8+6]=D.x3,C.uvs[R*8+7]=D.y3}this._textWidth=A*r,this._textHeight=(s.y+e.lineHeight)*r;for(const Q in J){const Z=J[Q];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const C=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let D=0;D<Z.total;D++)Z.vertices[G++]-=C,Z.vertices[G++]-=H,Z.vertices[G++]-=C,Z.vertices[G++]-=H,Z.vertices[G++]-=C,Z.vertices[G++]-=H,Z.vertices[G++]-=C,Z.vertices[G++]-=H}this._maxLineHeight=F*r;const le=Z.mesh.geometry.getBuffer("aVertexPosition"),Te=Z.mesh.geometry.getBuffer("aTextureCoord"),B=Z.mesh.geometry.getIndex();le.data=Z.vertices,Te.data=Z.uvs,B.data=Z.indices,le.update(),Te.update(),B.update()}for(let Q=0;Q<a.length;Q++)_0.push(a[Q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:s}=pa.available[this._fontName];if(r!=="none"){const{a,b:c,c:d,d:m}=this.worldTransform,g=Math.sqrt(a*a+c*c),_=Math.sqrt(d*d+m*m),w=(Math.abs(g)+Math.abs(_))/2,S=this.fontSize/s,b=e._view.resolution;for(const A of this._activePagesMeshData)A.mesh.shader.uniforms.uFWidth=w*t*S*b}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=pa.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!pa.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??pa.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=pa.available[this._fontName].distanceFieldType==="none"?y0:v0;r.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],r.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=ke.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};mx.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let wS=mx;const x0={loader:De.LoadParser,resolver:De.ResolveParser,cache:De.CacheParser,detection:De.DetectionParser};Xe.handle(De.Asset,i=>{const e=i.ref;Object.entries(x0).filter(([t])=>!!e[t]).forEach(([t,r])=>Xe.add(Object.assign(e[t],{extension:e[t].extension??r})))},i=>{const e=i.ref;Object.keys(x0).filter(t=>!!e[t]).forEach(t=>Xe.remove(e[t]))});class ES{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function eh(i,e){if(Array.isArray(e)){for(const t of e)if(i.startsWith(`data:${t}`))return!0;return!1}return i.startsWith(`data:${e}`)}function Ea(i,e){const t=i.split("?")[0],r=Or.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const $i=(i,e,t=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(r=>typeof r=="string"||t?e(r):r):i),yg=(i,e)=>{const t=e.split("?")[1];return t&&(i+=`?${t}`),i};function yx(i,e,t,r,s){const a=e[t];for(let c=0;c<a.length;c++){const d=a[c];t<e.length-1?yx(i.replace(r[t],d),e,t+1,r,s):s.push(i.replace(r[t],d))}}function SS(i){const e=/\{(.*?)\}/g,t=i.match(e),r=[];if(t){const s=[];t.forEach(a=>{const c=a.substring(1,a.length-1).split(",");s.push(c)}),yx(i,s,0,t,r)}else r.push(i);return r}const sf=i=>!Array.isArray(i);class bS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=$i(e);let s;for(let d=0;d<this.parsers.length;d++){const m=this.parsers[d];if(m.test(t)){s=m.getCacheableAssets(r,t);break}}s||(s={},r.forEach(d=>{s[d]=t}));const a=Object.keys(s),c={cacheKeys:a,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),a.forEach(d=>{const m=s?s[d]:t;this._cache.has(d)&&this._cache.get(d)!==m&&console.warn("[Cache] already has key:",d),this._cache.set(d,s[d])}),t instanceof ke){const d=t;r.forEach(m=>{d.baseTexture!==ke.EMPTY.baseTexture&&it.addToCache(d.baseTexture,m),ke.addToCache(d,m)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const kl=new bS;class TS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,d;let s=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let m=0;m<this.parsers.length;m++){const g=this.parsers[m];if(g.load&&((c=g.test)!=null&&c.call(g,e,t,this))){a=g;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await a.load(e,t,this),r.parser=a;for(let m=0;m<this.parsers.length;m++){const g=this.parsers[m];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,s,t,this))&&(s=await g.parse(s,t,this)||s,r.parser=g)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const s={},a=sf(e),c=$i(e,g=>({alias:[g],src:g})),d=c.length,m=c.map(async g=>{const _=Or.toAbsolute(g.src);if(!s[g.src])try{this.promiseCache[_]||(this.promiseCache[_]=this._getLoadPromiseAndParser(_,g)),s[g.src]=await this.promiseCache[_].promise,t&&t(++r/d)}catch(w){throw delete this.promiseCache[_],delete s[g.src],new Error(`[Loader.load] Failed to load ${_}.
${w}`)}});return await Promise.all(m),a?s[c[0].src]:s}async unload(e){const t=$i(e,r=>({alias:[r],src:r})).map(async r=>{var c,d;const s=Or.toAbsolute(r.src),a=this.promiseCache[s];if(a){const m=await a.promise;delete this.promiseCache[s],(d=(c=a.parser)==null?void 0:c.unload)==null||d.call(c,m,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var Qi=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(Qi||{});const AS=".json",CS="application/json",PS={extension:{type:De.LoadParser,priority:Qi.Low},name:"loadJson",test(i){return eh(i,CS)||Ea(i,AS)},async load(i){return await(await Be.ADAPTER.fetch(i)).json()}};Xe.add(PS);const RS=".txt",IS="text/plain",MS={name:"loadTxt",extension:{type:De.LoadParser,priority:Qi.Low},test(i){return eh(i,IS)||Ea(i,RS)},async load(i){return await(await Be.ADAPTER.fetch(i)).text()}};Xe.add(MS);const kS=["normal","bold","100","200","300","400","500","600","700","800","900"],DS=[".ttf",".otf",".woff",".woff2"],NS=["font/ttf","font/otf","font/woff","font/woff2"],OS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function FS(i){const e=Or.extname(i),t=Or.basename(i,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let r=t.length>0;for(const a of t)if(!a.match(OS)){r=!1;break}let s=t.join(" ");return r||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const BS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function LS(i){return BS.test(i)?i:encodeURI(i)}const US={extension:{type:De.LoadParser,priority:Qi.Low},name:"loadWebFont",test(i){return eh(i,NS)||Ea(i,DS)},async load(i,e){var r,s,a;const t=Be.ADAPTER.getFontFaceSet();if(t){const c=[],d=((r=e.data)==null?void 0:r.family)??FS(i),m=((a=(s=e.data)==null?void 0:s.weights)==null?void 0:a.filter(_=>kS.includes(_)))??["normal"],g=e.data??{};for(let _=0;_<m.length;_++){const w=m[_],S=new FontFace(d,`url(${LS(i)})`,{...g,weight:w});await S.load(),t.add(S),c.push(S)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(e=>Be.ADAPTER.getFontFaceSet().delete(e))}};Xe.add(US);const zS=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let qu=null,vg=class{constructor(){qu||(qu=URL.createObjectURL(new Blob([zS],{type:"application/javascript"}))),this.worker=new Worker(qu)}};vg.revokeObjectURL=function(){qu&&(URL.revokeObjectURL(qu),qu=null)};const GS=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Qu=null;class vx{constructor(){Qu||(Qu=URL.createObjectURL(new Blob([GS],{type:"application/javascript"}))),this.worker=new Worker(Qu)}}vx.revokeObjectURL=function(){Qu&&(URL.revokeObjectURL(Qu),Qu=null)};let w0=0,Mm;class HS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new vg;t.addEventListener("message",r=>{t.terminate(),vg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Mm===void 0&&(Mm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Mm&&(this._createdWorkers++,e=new vx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((s,a)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:a})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[w0]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:w0++,id:r})}}const E0=new HS;function Ac(i,e,t){i.resource.internal=!0;const r=new ke(i),s=()=>{delete e.promiseCache[t],kl.has(t)&&kl.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),r.once("destroyed",()=>{i.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),r}const jS=[".jpeg",".jpg",".png",".webp",".avif"],WS=["image/jpeg","image/png","image/webp","image/avif"];async function $S(i){const e=await Be.ADAPTER.fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const bf={name:"loadTextures",extension:{type:De.LoadParser,priority:Qi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return eh(i,WS)||Ea(i,jS)},async load(i,e,t){var d;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;r?this.config.preferWorkers&&await E0.isImageBitmapSupported()?s=await E0.loadImageBitmap(i):s=await $S(i):s=await new Promise((m,g)=>{const _=new Image;_.crossOrigin=this.config.crossOrigin,_.src=i,_.complete?m(_):(_.onload=()=>m(_),_.onerror=w=>g(w))});const a={...e.data};a.resolution??(a.resolution=po(i)),r&&((d=a.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const c=new it(s,a);return c.resource.src=i,Ac(c,t,i)},unload(i){i.destroy(!0)}};Xe.add(bf);const VS=".svg",XS="image/svg+xml",YS={extension:{type:De.LoadParser,priority:Qi.High},name:"loadSVG",test(i){return eh(i,XS)||Ea(i,VS)},async testParse(i){return hg.test(i)},async parse(i,e,t){var a;const r=new hg(i,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await r.load();const s=new it(r,{resolution:po(i),...e==null?void 0:e.data});return s.resource.src=e.src,Ac(s,t,e.src)},async load(i,e){return(await Be.ADAPTER.fetch(i)).text()},unload:bf.unload};Xe.add(YS);const qS=[".mp4",".m4v",".webm",".ogv"],QS=["video/mp4","video/webm","video/ogg"],KS={name:"loadVideo",extension:{type:De.LoadParser,priority:Qi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(i){return eh(i,QS)||Ea(i,qS)},async load(i,e,t){var c;let r;const s=await(await Be.ADAPTER.fetch(i)).blob(),a=URL.createObjectURL(s);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},m=new lx(a,d);await m.load();const g=new it(m,{alphaMode:await Ew(),resolution:po(i),...e==null?void 0:e.data});g.resource.src=i,r=Ac(g,t,i),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(d){throw URL.revokeObjectURL(a),d}return r},unload(i){i.destroy(!0)}};Xe.add(KS);class ZS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:s,srcs:a}=e;return $i(t||r||s||a,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(s=>{const a=s.src??s.srcs,c=s.alias??s.name;let d;if(typeof c=="string"){const m=this._createBundleAssetId(e,c);r.push(m),d=[c,m]}else{const m=c.map(g=>this._createBundleAssetId(e,g));r.push(...m),d=[...c,...m]}this.add({...s,alias:d,src:a})}):Object.keys(t).forEach(s=>{const a=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:a,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:a,src:t[s]});else{const c=t[s],d=c.src??c.srcs;this.add({...c,alias:a,src:Array.isArray(d)?d:[d]})}r.push(...a)}),this._bundles[e]=r}add(e,t,r,s,a){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(ct("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:s,loadParser:a})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=m=>{this.hasKey(m)&&console.warn(`[Resolver] already has key: ${m} overwriting`)},$i(c).forEach(m=>{const{src:g,srcs:_}=m;let{data:w,format:S,loadParser:b}=m;const A=$i(g||_).map(k=>typeof k=="string"?SS(k):Array.isArray(k)?k:[k]),I=this.getAlias(m);Array.isArray(I)?I.forEach(d):d(I);const P=[];A.forEach(k=>{k.forEach(z=>{let F={};if(typeof z!="object"){F.src=z;for(let W=0;W<this._parsers.length;W++){const L=this._parsers[W];if(L.test(z)){F=L.parse(z);break}}}else w=z.data??w,S=z.format??S,b=z.loadParser??b,F={...F,...z};if(!I)throw new Error(`[Resolver] alias is undefined for this asset: ${F.src}`);F=this.buildResolvedAsset(F,{aliases:I,data:w,format:S,loadParser:b}),P.push(F)})}),I.forEach(k=>{this._assetMap[k]=P})})}resolveBundle(e){const t=sf(e);e=$i(e);const r={};return e.forEach(s=>{const a=this._bundles[s];if(a){const c=this.resolve(a),d={};for(const m in c){const g=c[m];d[this._extractAssetIdFromBundle(s,m)]=g}r[s]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const s in t)r[s]=t[s].src;return r}return t.src}resolve(e){const t=sf(e);e=$i(e);const r={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const c=a[0],d=this._getPreferredOrder(a);d==null||d.priority.forEach(m=>{d.params[m].forEach(g=>{const _=a.filter(w=>w[m]?w[m]===g:!1);_.length&&(a=_)})}),this._resolverHash[s]=a[0]??c}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});r[s]=this._resolverHash[s]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(r.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:s,loadParser:a,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Or.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.format=c??e.format??Or.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class JS{constructor(){this._detections=[],this._initialized=!1,this.resolver=new ZS,this.loader=new TS,this.cache=kl,this._backgroundLoader=new ES(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((a=e.texturePreference)==null?void 0:a.resolution)??1,r=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,a){this.resolver.add(e,t,r,s,a)}async load(e,t){this._initialized||await this.init();const r=sf(e),s=$i(e).map(d=>{if(typeof d!="string"){const m=this.resolver.getAlias(d);return m.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(m)?m[0]:m}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),a=this.resolver.resolve(s),c=await this._mapLoadToResolve(a,t);return r?c[s[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},c=Object.keys(s);let d=0,m=0;const g=()=>{t==null||t(++d/m)},_=c.map(w=>{const S=s[w];return m+=Object.keys(S).length,this._mapLoadToResolve(S,g).then(b=>{a[w]=b})});return await Promise.all(_),r?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return kl.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=kl.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,m)=>{const g=a[d.src],_=[d.src];d.alias&&_.push(...d.alias),c[s[m]]=g,kl.set(_,g)}),c}async unload(e){this._initialized||await this.init();const t=$i(e).map(s=>typeof s!="string"?s.src:s),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=$i(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{kl.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,s)=>t.indexOf(r)===s),t}get detections(){return this._detections}get preferWorkers(){return bf.config.preferWorkers}set preferWorkers(e){ct("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const dc=new JS;Xe.handleByList(De.LoadParser,dc.loader.parsers).handleByList(De.ResolveParser,dc.resolver.parsers).handleByList(De.CacheParser,dc.cache.parsers).handleByList(De.DetectionParser,dc.detections);const eb={extension:De.CacheParser,test:i=>Array.isArray(i)&&i.every(e=>e instanceof ke),getCacheableAssets:(i,e)=>{const t={};return i.forEach(r=>{e.forEach((s,a)=>{t[r+(a===0?"":a+1)]=s})}),t}};Xe.add(eb);async function _x(i){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(i)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const tb={extension:{type:De.DetectionParser,priority:1},test:async()=>_x("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(e=>e!=="avif")};Xe.add(tb);const rb={extension:{type:De.DetectionParser,priority:0},test:async()=>_x("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(e=>e!=="webp")};Xe.add(rb);const S0=["png","jpg","jpeg"],nb={extension:{type:De.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...S0],remove:async i=>i.filter(e=>!S0.includes(e))};Xe.add(nb);const ib="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Wg(i){return ib?!1:document.createElement("video").canPlayType(i)!==""}const sb={extension:{type:De.DetectionParser,priority:0},test:async()=>Wg("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(e=>e!=="webm")};Xe.add(sb);const ob={extension:{type:De.DetectionParser,priority:0},test:async()=>Wg("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(e=>e!=="mp4"&&e!=="m4v")};Xe.add(ob);const ab={extension:{type:De.DetectionParser,priority:0},test:async()=>Wg("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(e=>e!=="ogv")};Xe.add(ab);const lb={extension:De.ResolveParser,test:bf.test,parse:i=>{var e;return{resolution:parseFloat(((e=Be.RETINA_PREFIX.exec(i))==null?void 0:e[1])??"1"),format:Or.extname(i).slice(1),src:i}}};Xe.add(lb);const ub=[".xml",".fnt"],hb={extension:{type:De.LoadParser,priority:Qi.Normal},name:"loadBitmapFont",test(i){return ub.includes(Or.extname(i).toLowerCase())},async testParse(i){return $d.test(i)||gg.test(i)},async parse(i,e,t){const r=$d.test(i)?$d.parse(i):gg.parse(i),{src:s}=e,{page:a}=r,c=[];for(let g=0;g<a.length;++g){const _=a[g].file;let w=Or.join(Or.dirname(s),_);w=yg(w,s),c.push(w)}const d=await t.load(c),m=c.map(g=>d[g]);return pa.install(r,m,!0)},async load(i,e){return(await Be.ADAPTER.fetch(i)).text()},unload(i){i.destroy()}};Xe.add(hb);const of={build(i){const e=i.points;let t,r,s,a,c,d;if(i.type===jr.CIRC){const A=i.shape;t=A.x,r=A.y,c=d=A.radius,s=a=0}else if(i.type===jr.ELIP){const A=i.shape;t=A.x,r=A.y,c=A.width,d=A.height,s=a=0}else{const A=i.shape,I=A.width/2,P=A.height/2;t=A.x+I,r=A.y+P,c=d=Math.max(0,Math.min(A.radius,Math.min(I,P))),s=I-c,a=P-d}if(!(c>=0&&d>=0&&s>=0&&a>=0)){e.length=0;return}const m=Math.ceil(2.3*Math.sqrt(c+d)),g=m*8+(s?4:0)+(a?4:0);if(e.length=g,g===0)return;if(m===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=r+a,e[2]=e[4]=t-s,e[5]=e[7]=r-a;return}let _=0,w=m*4+(s?2:0)+2,S=w,b=g;{const A=s+c,I=a,P=t+A,k=t-A,z=r+I;if(e[_++]=P,e[_++]=z,e[--w]=z,e[--w]=k,a){const F=r-I;e[S++]=k,e[S++]=F,e[--b]=F,e[--b]=P}}for(let A=1;A<m;A++){const I=Math.PI/2*(A/m),P=s+Math.cos(I)*c,k=a+Math.sin(I)*d,z=t+P,F=t-P,W=r+k,L=r-k;e[_++]=z,e[_++]=W,e[--w]=W,e[--w]=F,e[S++]=F,e[S++]=L,e[--b]=L,e[--b]=z}{const A=s,I=a+d,P=t+A,k=t-A,z=r+I,F=r-I;e[_++]=P,e[_++]=z,e[--b]=F,e[--b]=P,s&&(e[_++]=k,e[_++]=z,e[--b]=F,e[--b]=k)}},triangulate(i,e){const t=i.points,r=e.points,s=e.indices;if(t.length===0)return;let a=r.length/2;const c=a;let d,m;if(i.type!==jr.RREC){const _=i.shape;d=_.x,m=_.y}else{const _=i.shape;d=_.x+_.width/2,m=_.y+_.height/2}const g=i.matrix;r.push(i.matrix?g.a*d+g.c*m+g.tx:d,i.matrix?g.b*d+g.d*m+g.ty:m),a++,r.push(t[0],t[1]);for(let _=2;_<t.length;_+=2)r.push(t[_],t[_+1]),s.push(a++,c,a);s.push(c+1,c,a)}};function b0(i,e=!1){const t=i.length;if(t<6)return;let r=0;for(let s=0,a=i[t-2],c=i[t-1];s<t;s+=2){const d=i[s],m=i[s+1];r+=(d-a)*(m+c),a=d,c=m}if(!e&&r>0||e&&r<=0){const s=t/2;for(let a=s+s%2;a<t;a+=2){const c=t-a-2,d=t-a-1,m=a,g=a+1;[i[c],i[m]]=[i[m],i[c]],[i[d],i[g]]=[i[g],i[d]]}}}const xx={build(i){i.points=i.shape.points.slice()},triangulate(i,e){let t=i.points;const r=i.holes,s=e.points,a=e.indices;if(t.length>=6){b0(t,!1);const c=[];for(let g=0;g<r.length;g++){const _=r[g];b0(_.points,!0),c.push(t.length/2),t=t.concat(_.points)}const d=F1(t,c,2);if(!d)return;const m=s.length/2;for(let g=0;g<d.length;g+=3)a.push(d[g]+m),a.push(d[g+1]+m),a.push(d[g+2]+m);for(let g=0;g<t.length;g++)s.push(t[g])}}},cb={build(i){const e=i.shape,t=e.x,r=e.y,s=e.width,a=e.height,c=i.points;c.length=0,s>=0&&a>=0&&c.push(t,r,t+s,r,t+s,r+a,t,r+a)},triangulate(i,e){const t=i.points,r=e.points;if(t.length===0)return;const s=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},db={build(i){of.build(i)},triangulate(i,e){of.triangulate(i,e)}};var pi=(i=>(i.MITER="miter",i.BEVEL="bevel",i.ROUND="round",i))(pi||{}),va=(i=>(i.BUTT="butt",i.ROUND="round",i.SQUARE="square",i))(va||{});const Zu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(i,e=20){if(!this.adaptive||!i||isNaN(i))return e;let t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class T0{static curveTo(e,t,r,s,a,c){const d=c[c.length-2],m=c[c.length-1]-t,g=d-e,_=s-t,w=r-e,S=Math.abs(m*w-g*_);if(S<1e-8||a===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const b=m*m+g*g,A=_*_+w*w,I=m*_+g*w,P=a*Math.sqrt(b)/S,k=a*Math.sqrt(A)/S,z=P*I/b,F=k*I/A,W=P*w+k*g,L=P*_+k*m,K=g*(k+z),N=m*(k+z),J=w*(P+F),ce=_*(P+F),fe=Math.atan2(N-L,K-W),Pe=Math.atan2(ce-L,J-W);return{cx:W+e,cy:L+t,radius:a,startAngle:fe,endAngle:Pe,anticlockwise:g*_>w*m}}static arc(e,t,r,s,a,c,d,m,g){const _=d-c,w=Zu._segmentsCount(Math.abs(_)*a,Math.ceil(Math.abs(_)/Kd)*40),S=_/(w*2),b=S*2,A=Math.cos(S),I=Math.sin(S),P=w-1,k=P%1/P;for(let z=0;z<=P;++z){const F=z+k*z,W=S+c+b*F,L=Math.cos(W),K=-Math.sin(W);g.push((A*L+I*K)*a+r,(A*-K+I*L)*a+s)}}}class fb{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class $g{static curveLength(e,t,r,s,a,c,d,m){let g=0,_=0,w=0,S=0,b=0,A=0,I=0,P=0,k=0,z=0,F=0,W=e,L=t;for(let K=1;K<=10;++K)_=K/10,w=_*_,S=w*_,b=1-_,A=b*b,I=A*b,P=I*e+3*A*_*r+3*b*w*a+S*d,k=I*t+3*A*_*s+3*b*w*c+S*m,z=W-P,F=L-k,W=P,L=k,g+=Math.sqrt(z*z+F*F);return g}static curveTo(e,t,r,s,a,c,d){const m=d[d.length-2],g=d[d.length-1];d.length-=2;const _=Zu._segmentsCount($g.curveLength(m,g,e,t,r,s,a,c));let w=0,S=0,b=0,A=0,I=0;d.push(m,g);for(let P=1,k=0;P<=_;++P)k=P/_,w=1-k,S=w*w,b=S*w,A=k*k,I=A*k,d.push(b*m+3*S*k*e+3*w*A*r+I*a,b*g+3*S*k*t+3*w*A*s+I*c)}}function A0(i,e,t,r,s,a,c,d){const m=i-t*s,g=e-r*s,_=i+t*a,w=e+r*a;let S,b;c?(S=r,b=-t):(S=-r,b=t);const A=m+S,I=g+b,P=_+S,k=w+b;return d.push(A,I,P,k),2}function bl(i,e,t,r,s,a,c,d){const m=t-i,g=r-e;let _=Math.atan2(m,g),w=Math.atan2(s-i,a-e);d&&_<w?_+=Math.PI*2:!d&&_>w&&(w+=Math.PI*2);let S=_;const b=w-_,A=Math.abs(b),I=Math.sqrt(m*m+g*g),P=(15*A*Math.sqrt(I)/Math.PI>>0)+1,k=b/P;if(S+=k,d){c.push(i,e,t,r);for(let z=1,F=S;z<P;z++,F+=k)c.push(i,e,i+Math.sin(F)*I,e+Math.cos(F)*I);c.push(i,e,s,a)}else{c.push(t,r,i,e);for(let z=1,F=S;z<P;z++,F+=k)c.push(i+Math.sin(F)*I,e+Math.cos(F)*I,i,e);c.push(s,a,i,e)}return P*2}function pb(i,e){const t=i.shape;let r=i.points||t.points.slice();const s=e.closePointEps;if(r.length===0)return;const a=i.lineStyle,c=new dt(r[0],r[1]),d=new dt(r[r.length-2],r[r.length-1]),m=t.type!==jr.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<s&&Math.abs(c.y-d.y)<s;if(m){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const G=(c.x+d.x)*.5,C=(d.y+c.y)*.5;r.unshift(G,C),r.push(G,C)}const _=e.points,w=r.length/2;let S=r.length;const b=_.length/2,A=a.width/2,I=A*A,P=a.miterLimit*a.miterLimit;let k=r[0],z=r[1],F=r[2],W=r[3],L=0,K=0,N=-(z-W),J=k-F,ce=0,fe=0,Pe=Math.sqrt(N*N+J*J);N/=Pe,J/=Pe,N*=A,J*=A;const Q=a.alignment,Z=(1-Q)*2,le=Q*2;m||(a.cap===va.ROUND?S+=bl(k-N*(Z-le)*.5,z-J*(Z-le)*.5,k-N*Z,z-J*Z,k+N*le,z+J*le,_,!0)+2:a.cap===va.SQUARE&&(S+=A0(k,z,N,J,Z,le,!0,_))),_.push(k-N*Z,z-J*Z,k+N*le,z+J*le);for(let G=1;G<w-1;++G){k=r[(G-1)*2],z=r[(G-1)*2+1],F=r[G*2],W=r[G*2+1],L=r[(G+1)*2],K=r[(G+1)*2+1],N=-(z-W),J=k-F,Pe=Math.sqrt(N*N+J*J),N/=Pe,J/=Pe,N*=A,J*=A,ce=-(W-K),fe=F-L,Pe=Math.sqrt(ce*ce+fe*fe),ce/=Pe,fe/=Pe,ce*=A,fe*=A;const C=F-k,H=z-W,D=F-L,R=K-W,U=C*D+H*R,X=H*D-R*C,ie=X<0;if(Math.abs(X)<.001*Math.abs(U)){_.push(F-N*Z,W-J*Z,F+N*le,W+J*le),U>=0&&(a.join===pi.ROUND?S+=bl(F,W,F-N*Z,W-J*Z,F-ce*Z,W-fe*Z,_,!1)+4:S+=2,_.push(F-ce*le,W-fe*le,F+ce*Z,W+fe*Z));continue}const ue=(-N+k)*(-J+W)-(-N+F)*(-J+z),pe=(-ce+L)*(-fe+W)-(-ce+F)*(-fe+K),_e=(C*pe-D*ue)/X,be=(R*ue-H*pe)/X,Re=(_e-F)*(_e-F)+(be-W)*(be-W),ye=F+(_e-F)*Z,Me=W+(be-W)*Z,Ue=F-(_e-F)*le,We=W-(be-W)*le,at=Math.min(C*C+H*H,D*D+R*R),He=ie?Z:le,$e=at+He*He*I,Mt=Re<=$e;let jt=a.join;if(jt===pi.MITER&&Re/I>P&&(jt=pi.BEVEL),Mt)switch(jt){case pi.MITER:{_.push(ye,Me,Ue,We);break}case pi.BEVEL:{ie?_.push(ye,Me,F+N*le,W+J*le,ye,Me,F+ce*le,W+fe*le):_.push(F-N*Z,W-J*Z,Ue,We,F-ce*Z,W-fe*Z,Ue,We),S+=2;break}case pi.ROUND:{ie?(_.push(ye,Me,F+N*le,W+J*le),S+=bl(F,W,F+N*le,W+J*le,F+ce*le,W+fe*le,_,!0)+4,_.push(ye,Me,F+ce*le,W+fe*le)):(_.push(F-N*Z,W-J*Z,Ue,We),S+=bl(F,W,F-N*Z,W-J*Z,F-ce*Z,W-fe*Z,_,!1)+4,_.push(F-ce*Z,W-fe*Z,Ue,We));break}}else{switch(_.push(F-N*Z,W-J*Z,F+N*le,W+J*le),jt){case pi.MITER:{ie?_.push(Ue,We,Ue,We):_.push(ye,Me,ye,Me),S+=2;break}case pi.ROUND:{ie?S+=bl(F,W,F+N*le,W+J*le,F+ce*le,W+fe*le,_,!0)+2:S+=bl(F,W,F-N*Z,W-J*Z,F-ce*Z,W-fe*Z,_,!1)+2;break}}_.push(F-ce*Z,W-fe*Z,F+ce*le,W+fe*le),S+=2}}k=r[(w-2)*2],z=r[(w-2)*2+1],F=r[(w-1)*2],W=r[(w-1)*2+1],N=-(z-W),J=k-F,Pe=Math.sqrt(N*N+J*J),N/=Pe,J/=Pe,N*=A,J*=A,_.push(F-N*Z,W-J*Z,F+N*le,W+J*le),m||(a.cap===va.ROUND?S+=bl(F-N*(Z-le)*.5,W-J*(Z-le)*.5,F-N*Z,W-J*Z,F+N*le,W+J*le,_,!1)+2:a.cap===va.SQUARE&&(S+=A0(F,W,N,J,Z,le,!1,_)));const Te=e.indices,B=Zu.epsilon*Zu.epsilon;for(let G=b;G<S+b-2;++G)k=_[G*2],z=_[G*2+1],F=_[(G+1)*2],W=_[(G+1)*2+1],L=_[(G+2)*2],K=_[(G+2)*2+1],!(Math.abs(k*(W-K)+F*(K-z)+L*(z-W))<B)&&Te.push(G,G+1,G+2)}function mb(i,e){let t=0;const r=i.shape,s=i.points||r.points,a=r.type!==jr.POLY||r.closeStroke;if(s.length===0)return;const c=e.points,d=e.indices,m=s.length/2,g=c.length/2;let _=g;for(c.push(s[0],s[1]),t=1;t<m;t++)c.push(s[t*2],s[t*2+1]),d.push(_,_+1),_++;a&&d.push(_,g)}function C0(i,e){i.lineStyle.native?mb(i,e):pb(i,e)}class Vg{static curveLength(e,t,r,s,a,c){const d=e-2*r+a,m=t-2*s+c,g=2*r-2*e,_=2*s-2*t,w=4*(d*d+m*m),S=4*(d*g+m*_),b=g*g+_*_,A=2*Math.sqrt(w+S+b),I=Math.sqrt(w),P=2*w*I,k=2*Math.sqrt(b),z=S/I;return(P*A+I*S*(A-k)+(4*b*w-S*S)*Math.log((2*I+z+A)/(z+k)))/(4*P)}static curveTo(e,t,r,s,a){const c=a[a.length-2],d=a[a.length-1],m=Zu._segmentsCount(Vg.curveLength(c,d,e,t,r,s));let g=0,_=0;for(let w=1;w<=m;++w){const S=w/m;g=c+(e-c)*S,_=d+(t-d)*S,a.push(g+(e+(r-e)*S-g)*S,_+(t+(s-t)*S-_)*S)}}}const km={[jr.POLY]:xx,[jr.CIRC]:of,[jr.ELIP]:of,[jr.RECT]:cb,[jr.RREC]:db},P0=[],Cd=[];class af{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new af(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Fu=new dt,wx=class Ex extends A_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new rf,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Cd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),P0.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){const a=new af(e,t,r,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new af(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Fu):Fu.copyFrom(e),s.shape.contains(Fu.x,Fu.y))){let a=!1;if(s.holes){for(let c=0;c<s.holes.length;c++)if(s.holes[c].shape.contains(Fu.x,Fu.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,s=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],s=r.style);for(let m=this.shapeIndex;m<t.length;m++){this.shapeIndex++;const g=t[m],_=g.fillStyle,w=g.lineStyle;km[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(_.visible||w.visible)&&this.processHoles(g.holes);for(let S=0;S<2;S++){const b=S===0?_:w;if(!b.visible)continue;const A=b.texture.baseTexture,I=this.indices.length,P=this.points.length/2;A.wrapMode=fo.REPEAT,S===0?this.processFill(g):this.processLine(g);const k=this.points.length/2-P;k!==0&&(r&&!this._compareStyles(s,b)&&(r.end(I,P),r=null),r||(r=P0.pop()||new fb,r.begin(b,I,P),this.batches.push(r),s=b),this.addUvs(this.points,e,b.texture,P,k,b.matrix))}}const a=this.indices.length,c=this.points.length/2;if(r&&r.end(a,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],s=r.fillStyle,a=r.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const s=e[t];for(let a=0;a<s.size;a++){const c=s.start+a;this.indicesUint16[c]=this.indicesUint16[c]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<Ex.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++it._globalBatch;for(let w=0;w<this.drawCalls.length;w++)this.drawCalls[w].texArray.clear(),Cd.push(this.drawCalls[w]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let s=Cd.pop();s||(s=new eg,s.texArray=new ig),s.texArray.count=0,s.start=0,s.size=0,s.type=Vi.TRIANGLES;let a=0,c=null,d=0,m=!1,g=Vi.TRIANGLES,_=0;this.drawCalls.push(s);for(let w=0;w<this.batches.length;w++){const S=this.batches[w],b=8,A=S.style,I=A.texture.baseTexture;m!==!!A.native&&(m=!!A.native,g=m?Vi.LINES:Vi.TRIANGLES,c=null,a=b,e++),c!==I&&(c=I,I._batchEnabled!==e&&(a===b&&(e++,a=0,s.size>0&&(s=Cd.pop(),s||(s=new eg,s.texArray=new ig),this.drawCalls.push(s)),s.start=_,s.size=0,s.texArray.count=0,s.type=g),I.touched=1,I._batchEnabled=e,I._batchLocation=a,I.wrapMode=fo.REPEAT,s.texArray.elements[s.texArray.count++]=I,a++)),s.size+=S.size,_+=S.size,d=I._batchLocation,this.addColors(t,A.color,A.alpha,S.attribSize,S.attribStart),this.addTextureIds(r,d,S.attribSize,S.attribStart)}it._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),c=new Float32Array(a),d=new Uint32Array(a);let m=0;for(let g=0;g<e.length/2;g++)c[m++]=e[g*2],c[m++]=e[g*2+1],c[m++]=t[g*2],c[m++]=t[g*2+1],d[m++]=r[g],c[m++]=s[g];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?xx.triangulate(e,this):km[e.type].triangulate(e,this)}processLine(e){C0(e,this);for(let t=0;t<e.holes.length;t++)C0(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];km[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const s=e[r*2],a=e[r*2+1];e[r*2]=t.a*s+t.c*a+t.tx,e[r*2+1]=t.b*s+t.d*a+t.ty}}addColors(e,t,r,s,a=0){const c=Ut.shared.setValue(t).toLittleEndianNumber(),d=Ut.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,a+s);for(let m=0;m<s;m++)e[a+m]=d}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let a=0;a<r;a++)e[s+a]=t}addUvs(e,t,r,s,a,c=null){let d=0;const m=t.length,g=r.frame;for(;d<a;){let w=e[(s+d)*2],S=e[(s+d)*2+1];if(c){const b=c.a*w+c.c*S+c.tx;S=c.b*w+c.d*S+c.ty,w=b}d++,t.push(w/g.width,S/g.height)}const _=r.baseTexture;(g.width<_.width||g.height<_.height)&&this.adjustUvs(t,r,m,a)}adjustUvs(e,t,r,s){const a=t.baseTexture,c=1e-6,d=r+s*2,m=t.frame,g=m.width/a.width,_=m.height/a.height;let w=m.x/m.width,S=m.y/m.height,b=Math.floor(e[r]+c),A=Math.floor(e[r+1]+c);for(let I=r+2;I<d;I+=2)b=Math.min(b,Math.floor(e[I]+c)),A=Math.min(A,Math.floor(e[I+1]+c));w-=b,S-=A;for(let I=r;I<d;I+=2)e[I]=(e[I]+w)*g,e[I+1]=(e[I+1]+S)*_}};wx.BATCHABLE_SIZE=100;let gb=wx;class Tf{constructor(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Tf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Xg extends Tf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=va.BUTT,this.join=pi.MITER,this.miterLimit=10}clone(){const e=new Xg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=va.BUTT,this.join=pi.MITER,this.miterLimit=10}}const Dm={},_g=class Xd extends pn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Tf,this._lineStyle=new Xg,this._matrix=null,this._holeMode=!1,this.state=Ds.for2d(),this._geometry=e||new gb,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ut(16777215),this.blendMode=et.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Xd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ke.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:va.BUTT,join:pi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Dl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Dl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,s=r[r.length-2],a=r[r.length-1];return(s!==e||a!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),Vg.curveTo(e,t,r,s,a),this}bezierCurveTo(e,t,r,s,a,c){return this._initCurve(),$g.curveTo(e,t,r,s,a,c,this.currentPath.points),this}arcTo(e,t,r,s,a){this._initCurve(e,t);const c=this.currentPath.points,d=T0.curveTo(e,t,r,s,a,c);if(d){const{cx:m,cy:g,radius:_,startAngle:w,endAngle:S,anticlockwise:b}=d;this.arc(m,g,_,w,S,b)}return this}arc(e,t,r,s,a,c=!1){if(s===a)return this;if(!c&&a<=s?a+=Kd:c&&s<=a&&(s+=Kd),a-s===0)return this;const d=e+Math.cos(s)*r,m=t+Math.sin(s)*r,g=this._geometry.closePointEps;let _=this.currentPath?this.currentPath.points:null;if(_){const w=Math.abs(_[_.length-2]-d),S=Math.abs(_[_.length-1]-m);w<g&&S<g||_.push(d,m)}else this.moveTo(d,m),_=this.currentPath.points;return T0.arc(d,m,e,t,r,s,a,c,_),this}beginFill(e=0,t){return this.beginTextureFill({texture:ke.WHITE,color:e,alpha:t})}normalizeColor(e){const t=Ut.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ke.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new ot(e,t,r,s))}drawRoundedRect(e,t,r,s,a){return this.drawShape(new _f(e,t,r,s,a))}drawCircle(e,t,r){return this.drawShape(new yf(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new vf(e,t,r,s))}drawPolygon(...e){let t,r=!0;const s=e[0];s.points?(r=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new Dl(t);return a.closeStroke=r,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===jr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){const a=e.batches[s],c=a.style.color,d=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),m=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),_={vertexData:d,blendMode:t,indices:g,uvs:m,_batchRGB:Ut.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=_}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,a=t.uniforms,c=r.drawCalls;a.translationMatrix=this.transform.worldTransform,Ut.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,m=c.length;d<m;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:s,size:a,start:c}=t,d=r.count;for(let m=0;m<d;m++)e.texture.bind(r.elements[m],m);e.geometry.draw(s,a,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Dm[r]){const{maxTextures:s}=e.plugins[r],a=new Int32Array(s);for(let m=0;m<s;m++)a[m]=m;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ht,default:qi.from({uSamplers:a},!0)},d=e.plugins[r]._shader.program;Dm[r]=new Rs(d,c)}t=Dm[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,Xd._TEMP_POINT),this._geometry.containsPoint(Xd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=Ut.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,c=t.d,d=t.tx,m=t.ty,g=this._geometry.points,_=this.vertexData;let w=0;for(let S=0;S<g.length;S+=2){const b=g[S],A=g[S+1];_[w++]=r*b+a*A+d,_[w++]=c*A+s*b+m}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};_g.curves=Zu,_g._TEMP_POINT=new dt;let vc=_g;class yb extends Sf{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],s=[],a=this.segWidth-1,c=this.segHeight-1,d=this.width/a,m=this.height/c;for(let _=0;_<e;_++){const w=_%this.segWidth,S=_/this.segWidth|0;t.push(w*d,S*m),r.push(w/a,S/c)}const g=a*c;for(let _=0;_<g;_++){const w=_%a,S=_/a|0,b=S*this.segWidth+w,A=S*this.segWidth+w+1,I=(S+1)*this.segWidth+w,P=(S+1)*this.segWidth+w+1;s.push(b,A,I,A,P,I)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class vb extends Sf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=r.data,c=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let d=0,m=e[0];const g=this._width*this.textureScale,_=e.length;for(let S=0;S<_;S++){const b=S*4;if(this.textureScale>0){const A=m.x-e[S].x,I=m.y-e[S].y,P=Math.sqrt(A*A+I*I);m=e[S],d+=P/g}else d=S/(_-1);a[b]=d,a[b+1]=0,a[b+2]=d,a[b+3]=1}let w=0;for(let S=0;S<_-1;S++){const b=S*2;c[w++]=b,c[w++]=b+1,c[w++]=b+2,c[w++]=b+2,c[w++]=b+1,c[w++]=b+3}r.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,s=0,a=0;const c=this.buffers[0].data,d=e.length,m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const _=e[g],w=g*4;g<e.length-1?r=e[g+1]:r=_,a=-(r.x-t.x),s=r.y-t.y;const S=Math.sqrt(s*s+a*a);S<1e-6?(s=0,a=0):(s/=S,a/=S,s*=m,a*=m),c[w]=_.x+s,c[w+1]=_.y+a,c[w+2]=_.x-s,c[w+3]=_.y-a,t=_}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class _b extends xc{constructor(e,t,r){const s=new yb(e.width,e.height,t,r),a=new wc(ke.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Pd=10;class xb extends _b{constructor(e,t,r,s,a){var c,d,m,g;super(ke.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Pd,this._rightWidth=s??((d=e.defaultBorders)==null?void 0:d.right)??Pd,this._topHeight=r??((m=e.defaultBorders)==null?void 0:m.top)??Pd,this._bottomHeight=a??((g=e.defaultBorders)==null?void 0:g.bottom)??Pd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,s=this._height>r?1:this._height/r;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class wb extends xc{constructor(e=ke.EMPTY,t,r,s,a){const c=new Sf(t,r,s);c.getBuffer("aVertexPosition").static=!1;const d=new wc(e);super(c,d,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Eb extends xc{constructor(e,t,r=0){const s=new vb(e.height,t,r),a=new wc(e);r>0&&(e.baseTexture.wrapMode=fo.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class Sb extends pn{constructor(e=1500,t,r=16384,s=!1){super();const a=16384;r>a&&(r=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=et.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new Ut(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class R0{constructor(e,t,r){this.geometry=new xa,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||Ke.FLOAT,offset:a.offset},t[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new dr(Fw(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new dr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=s,s+=d.size,this.staticStride+=d.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new dr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,t,r,a.type===Ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,t,r,a.type===Ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var bb=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Tb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Sx extends wf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Rs.from(Tb,bb,{}),this.state=Ds.for2d()}render(e){const t=e.children,r=e._maxSize,s=e._batchSize,a=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const m=t[0]._texture.baseTexture,g=m.alphaMode>0;this.state.blendMode=S_(e.blendMode,g),a.state.set(this.state);const _=a.gl,w=e.worldTransform.copyTo(this.tempMatrix);w.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=Ut.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=m,this.renderer.shader.bind(this.shader);let S=!1;for(let b=0,A=0;b<c;b+=s,A+=1){let I=c-b;I>s&&(I=s),A>=d.length&&d.push(this._generateOneMoreBuffer(e));const P=d[A];P.uploadDynamic(t,b,I);const k=e._bufferUpdateIDs[A]||0;S=S||P._updateID<k,S&&(P._updateID=e._updateID,P.uploadStatic(t,b,I)),a.geometry.bind(P.geometry),_.drawElements(_.TRIANGLES,I*6,_.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,s=e._batchSize,a=e._properties;for(let c=0;c<r;c+=s)t.push(new R0(this.properties,a,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new R0(this.properties,r,t)}uploadVertices(e,t,r,s,a,c){let d=0,m=0,g=0,_=0;for(let w=0;w<r;++w){const S=e[t+w],b=S._texture,A=S.scale.x,I=S.scale.y,P=b.trim,k=b.orig;P?(m=P.x-S.anchor.x*k.width,d=m+P.width,_=P.y-S.anchor.y*k.height,g=_+P.height):(d=k.width*(1-S.anchor.x),m=k.width*-S.anchor.x,g=k.height*(1-S.anchor.y),_=k.height*-S.anchor.y),s[c]=m*A,s[c+1]=_*I,s[c+a]=d*A,s[c+a+1]=_*I,s[c+a*2]=d*A,s[c+a*2+1]=g*I,s[c+a*3]=m*A,s[c+a*3+1]=g*I,c+=a*4}}uploadPosition(e,t,r,s,a,c){for(let d=0;d<r;d++){const m=e[t+d].position;s[c]=m.x,s[c+1]=m.y,s[c+a]=m.x,s[c+a+1]=m.y,s[c+a*2]=m.x,s[c+a*2+1]=m.y,s[c+a*3]=m.x,s[c+a*3+1]=m.y,c+=a*4}}uploadRotation(e,t,r,s,a,c){for(let d=0;d<r;d++){const m=e[t+d].rotation;s[c]=m,s[c+a]=m,s[c+a*2]=m,s[c+a*3]=m,c+=a*4}}uploadUvs(e,t,r,s,a,c){for(let d=0;d<r;++d){const m=e[t+d]._texture._uvs;m?(s[c]=m.x0,s[c+1]=m.y0,s[c+a]=m.x1,s[c+a+1]=m.y1,s[c+a*2]=m.x2,s[c+a*2+1]=m.y2,s[c+a*3]=m.x3,s[c+a*3+1]=m.y3,c+=a*4):(s[c]=0,s[c+1]=0,s[c+a]=0,s[c+a+1]=0,s[c+a*2]=0,s[c+a*2+1]=0,s[c+a*3]=0,s[c+a*3+1]=0,c+=a*4)}}uploadTint(e,t,r,s,a,c){for(let d=0;d<r;++d){const m=e[t+d],g=Ut.shared.setValue(m._tintRGB).toPremultiplied(m.alpha,m.texture.baseTexture.alphaMode>0);s[c]=g,s[c+a]=g,s[c+a*2]=g,s[c+a*3]=g,c+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Sx.extension={name:"particle",type:De.RendererPlugin};Xe.add(Sx);class Ec extends Ns{constructor(e,t=!0){super(e[0]instanceof ke?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Nr.shared.add(this.update,this,wa.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new Ec(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new Ec(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ke)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Nr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Nr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const sc=new dt;class Yg extends Ns{constructor(e,t=100,r=100){super(e),this.tileTransform=new xf,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Gg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ot),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,sc);const t=this._width,r=this._height,s=-t*this.anchor._x;if(sc.x>=s&&sc.x<s+t){const a=-r*this.anchor._y;if(sc.y>=a&&sc.y<a+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Yg(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Ab=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Cb=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Pb=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,I0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Rb=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Rd=new Ht;class bx extends wf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new F_,this.state=Ds.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Rs.from(I0,Rb,t),this.shader=e.context.webGLVersion>1?Rs.from(Cb,Ab,t):Rs.from(I0,Pb,t)}render(e){const t=this.renderer,r=this.quad;let s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;s=r.uvs,s[0]=s[6]=-a,s[1]=s[3]=-c,s[2]=s[4]=1-a,s[5]=s[7]=1-c,r.invalidate();const d=e._texture,m=d.baseTexture,g=m.alphaMode>0,_=e.tileTransform.localTransform,w=e.uvMatrix;let S=m.isPowerOfTwo&&d.frame.width===m.width&&d.frame.height===m.height;S&&(m._glTextures[t.CONTEXT_UID]?S=m.wrapMode!==fo.CLAMP:m.wrapMode===fo.CLAMP&&(m.wrapMode=fo.REPEAT));const b=S?this.simpleShader:this.shader,A=d.width,I=d.height,P=e._width,k=e._height;Rd.set(_.a*A/P,_.b*A/k,_.c*I/P,_.d*I/k,_.tx/P,_.ty/k),Rd.invert(),S?Rd.prepend(w.mapCoord):(b.uniforms.uMapCoord=w.mapCoord.toArray(!0),b.uniforms.uClampFrame=w.uClampFrame,b.uniforms.uClampOffset=w.uClampOffset),b.uniforms.uTransform=Rd.toArray(!0),b.uniforms.uColor=Ut.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),b.uniforms.uSampler=d,t.shader.bind(b),t.geometry.bind(r),this.state.blendMode=S_(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}bx.extension={name:"tilingSprite",type:De.RendererPlugin};Xe.add(bx);const Tx=class xg{constructor(e){this.stage=new pn,e=Object.assign({forceCanvas:!1},e),this.renderer=QE(e),xg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=xg._plugins.slice(0);r.reverse(),r.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Tx._plugins=[];let Af=Tx;Xe.handleByList(De.Application,Af._plugins);class Ax{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;t=s,r=a}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Ax.extension=De.Application;Xe.add(Ax);var Nm={exports:{}},Om,M0;function Ib(){if(M0)return Om;M0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Om=i,Om}var Fm,k0;function Mb(){if(k0)return Fm;k0=1;var i=Ib();function e(){}function t(){}return t.resetWarningCache=e,Fm=function(){function r(c,d,m,g,_,w){if(w!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Fm}var D0;function kb(){return D0||(D0=1,Nm.exports=Mb()()),Nm.exports}var Db=kb();const zt=bc(Db);function ei(i){return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(i)}function Cx(i){var e=function(t,r){if(ei(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(ei(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return ei(e)==="symbol"?e:String(e)}function cr(i,e,t){return(e=Cx(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Bm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function go(i){return function(e){if(Array.isArray(e))return Bm(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||function(e,t){if(e){if(typeof e=="string")return Bm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bm(e,t):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sr(i,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s]}var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ob(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fb=function(i){return i==null};function fc(i){var e=[];if(i===void 0)return e;if(typeof i=="string")e=i.split(",");else if(typeof i=="number")e=[i];else if(Array.isArray(i))e=go(i);else{if(i===null||ei(i)!=="object")return e;e=[i&&(i==null?void 0:i.x)||0,i&&(i==null?void 0:i.y)||0]}return e.filter(function(t){return!Fb(t)&&!isNaN(t)}).map(Number)}function N0(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function Lm(i){return i instanceof dt||i instanceof As}var lf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Um(i,e,t){if(Lm(i[e])&&Lm(t))i[e].copyFrom(t);else if(Lm(i[e])){var r=fc(t);sr(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),ei(t)),i[e].set(r.shift(),r.shift())}else i[e]=t}var Bu,Px=function(i){var e,t=i;if(!Array.isArray(t)){if(e=i,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(i)}var r={};return t.forEach(function(s){r[s]=!0}),function(s){return r[s]!==void 0}},Rx=function(i){return function(){return!i.apply(void 0,arguments)}},wg="children",Bb=(cr(Bu={},wg,!0),cr(Bu,"parent",!0),cr(Bu,"worldAlpha",!0),cr(Bu,"worldTransform",!0),cr(Bu,"worldVisible",!0),Bu),Eg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ms=function(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame(function(){var m,g;d==null||(m=d.__reactpixi)===null||m===void 0||(g=m.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(d,m){if(t.hasOwnProperty(d))return sr(m.typeofs.some(function(g){return ei(t[d])===g})||m.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(i," ").concat(d," prop is invalid")),t[d]};if(t.texture)return sr(t.texture instanceof ke,"".concat(i," texture needs to be typeof `Texture`")),t.texture;var a=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ke]});sr(!!a,"".concat(i," could not get texture from props"));var c=ke.from(a);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},Lb=Rx(Px([].concat(go(Object.keys(Bb)),go(lf))));function ks(i,e,t){var r=!1;if(sr(Xt.prototype.isPrototypeOf(i),"instance needs to be typeof `DisplayObject`, got `%s`",ei(i)),!t.ignoreEvents)for(var s=typeof i.removeListener=="function",a=typeof i.on=="function",c=0;c<lf.length;c++){var d=lf[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&s&&i.removeListener(d,e[d]),typeof t[d]=="function"&&a&&i.on(d,t[d]))}var m=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<m.length;g++){var _=m[g];e[_]!==t[_]&&(r=!0,Um(i,_,t[_]))}return r}for(var w=m.filter(Lb),S=0;S<w.length;S++){var b=w[S],A=t[b];t[b]!==e[b]&&(r=!0),A!==void 0?Um(i,b,A):b in Eg?(console.warn("setting default value: ".concat(b,", from: ").concat(i[b]," to: ").concat(A," for"),i),r=!0,Um(i,b,Eg[b])):console.warn("ignoring prop: ".concat(b,", from ").concat(i[b]," to ").concat(A," for"),i)}return r}var Ub=function(i,e){var t=e.text,r=e.style;return new wS(t,r)},zb=function(){return new pn};function Sa(i,e){if(i==null)return{};var t,r,s=function(c,d){if(c==null)return{};var m,g,_={},w=Object.keys(c);for(g=0;g<w.length;g++)m=w[g],d.indexOf(m)>=0||(_[m]=c[m]);return _}(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(s[t]=i[t])}return s}var Gb=["draw","geometry"],Hb=function(i,e){var t=e.geometry;sr(!t||t instanceof vc,"Graphics geometry needs to be a `Graphics`");var r=t?new vc(t.geometry):new vc;return r.applyProps=function(s,a,c){var d=c.draw;c.geometry;var m=ks(s,a,Sa(c,Gb));return a.draw!==d&&typeof d=="function"&&(m=!0,d.call(r,r)),m},r},jb=["image","texture"],Wb=function(i,e){var t=e.leftWidth,r=t===void 0?10:t,s=e.topHeight,a=s===void 0?10:s,c=e.rightWidth,d=c===void 0?10:c,m=e.bottomHeight,g=m===void 0?10:m,_=Ms("NineSlicePlane",i,e),w=new xb(_,r,a,d,g);return w.applyProps=function(S,b,A){var I=A.image,P=A.texture,k=ks(S,b,Sa(A,jb));return(I||P)&&(P!==b.texture&&(k=!0),S.texture=Ms("NineSlicePlane",i,A)),k},w};function O0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Id(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(t),!0).forEach(function(r){cr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):O0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var $b=function(i,e){var t=e.maxSize,r=t===void 0?1500:t,s=e.batchSize,a=s===void 0?16384:s,c=e.autoResize,d=c!==void 0&&c,m=Id(Id({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Id(Id({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),_=new Sb(r,m,a,d);return _.willUnmount=function(w,S,b){w.destroy(g)},_},Vb=["image","texture"],Xb=function(i,e){var t=new Ns(Ms("Sprite",i,e));return t.applyProps=function(r,s,a){var c=a.image,d=a.texture,m=ks(r,s,Sa(a,Vb));return(d&&s.texture!==a.texture||c&&s.image!==a.image)&&(s.texture!==a.texture&&(m=!0),r.texture=Ms("Sprite",i,a)),m},t},Yb=["textures","isPlaying","initialFrame","images"],qb=function(i,e){var t=e.textures,r=e.images,s=e.isPlaying,a=s===void 0||s,c=e.initialFrame,d=function(g){return g.map(function(_){return sr(_ instanceof ke||(_==null?void 0:_.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),_})},m=r?Ec.fromImages(r):new Ec(d(t));return m[a?"gotoAndPlay":"gotoAndStop"](c||0),m.applyProps=function(g,_,w){var S=w.textures,b=w.isPlaying,A=w.initialFrame,I=w.images,P=ks(g,_,Sa(w,Yb));if(I&&_.images!==I){for(var k=[],z=0;z<I.length;++z)k.push(ke.from(I[z]));g.textures=k,P=!0}if(S&&_.textures!==S&&(g.textures=d(S),P=!0),b!==_.isPlaying||A!==_.initialFrame){var F=typeof A=="number"?A:m.currentFrame||0;m[b?"gotoAndPlay":"gotoAndStop"](F),P=!0}return P},m},Qb=function(i,e){var t=e.text,r=t===void 0?"":t,s=e.style,a=s===void 0?{}:s,c=e.isSprite,d=new jg(r,a);return c?(d.updateText(),new Ns(d.texture)):d},Kb=["tileScale","tilePosition","image","texture"],Zb=function(i,e){var t=e.width,r=t===void 0?100:t,s=e.height,a=s===void 0?100:s,c=Ms("TilingSprite",i,e),d=new Yg(c,r,a);return d.applyProps=function(m,g,_){var w=_.tileScale,S=_.tilePosition,b=_.image,A=_.texture,I=ks(m,g,Sa(_,Kb));if(S){var P,k=fc(S);(P=m.tilePosition).set.apply(P,go(k)),I=!N0(fc(g.tilePosition),k)||I}if(w){var z,F=fc(w);(z=m.tileScale).set.apply(z,go(F)),I=!N0(fc(g.tileScale),F)||I}return(b||A)&&(A!==g.texture&&(I=!0),m.texture=Ms("Sprite",i,_)),I},d},Jb=["image","texture"],eT=function(i,e){var t=Ms("Mesh",i,e),r=e.vertices,s=e.uvs,a=e.indices,c=e.drawMode,d=c===void 0?Vi.TRIANGLES:c,m=new wb(t,r,s,a,d);return m.applyProps=function(g,_,w){var S=w.image,b=w.texture,A=ks(g,_,Sa(w,Jb));return(S||b)&&(b!==_.texture&&(A=!0),g.texture=Ms("Mesh",i,w)),A},m},tT=["image","texture"],rT=function(i,e){var t=Ms("SimpleRope",i,e),r=e.points,s=new Eb(t,r);return s.applyProps=function(a,c,d){var m=d.image,g=d.texture,_=Sa(d,tT);sr(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var w=ks(a,c,_);return(m||g)&&(g!==c.texture&&(w=!0),a.texture=Ms("SimpleRope",i,d)),w},s},nT=Object.freeze({__proto__:null,BitmapText:Ub,Container:zb,Graphics:Hb,NineSlicePlane:Wb,ParticleContainer:$b,Sprite:Xb,Text:Qb,TilingSprite:Zb,SimpleMesh:eT,SimpleRope:rT,AnimatedSprite:qb});function F0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function B0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F0(Object(t),!0).forEach(function(r){cr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):F0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ln={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},iT=Object.keys(Ln).reduce(function(i,e){return B0(B0({},i),{},cr({},e,nT[e]))},{}),Ix={};function sT(i,e){return sr(!!i,"Expect type to be defined, got `%s`",i),sr(!Ln[i],"Component `%s` could not be created, already exists in default components.",i),Ix[i]=e,i}var L0,U0,z0,G0,Sg={},bg={},oT={get exports(){return bg},set exports(i){bg=i}},H0={};function aT(){return U0||(U0=1,oT.exports=(L0||(L0=1,function(i){function e(C,H){var D=C.length;C.push(H);e:for(;0<D;){var R=D-1>>>1,U=C[R];if(!(0<s(U,H)))break e;C[R]=H,C[D]=U,D=R}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],D=C.pop();if(D!==H){C[0]=D;e:for(var R=0,U=C.length,X=U>>>1;R<X;){var ie=2*(R+1)-1,ue=C[ie],pe=ie+1,_e=C[pe];if(0>s(ue,D))pe<U&&0>s(_e,ue)?(C[R]=_e,C[pe]=D,R=pe):(C[R]=ue,C[ie]=D,R=ie);else{if(!(pe<U&&0>s(_e,D)))break e;C[R]=_e,C[pe]=D,R=pe}}}return H}function s(C,H){var D=C.sortIndex-H.sortIndex;return D!==0?D:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,S=3,b=!1,A=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else{if(!(H.startTime<=C))break;r(g),H.sortIndex=H.expirationTime,e(m,H)}H=t(g)}}function W(C){if(I=!1,F(C),!A)if(t(m)!==null)A=!0,B(L);else{var H=t(g);H!==null&&G(W,H.startTime-C)}}function L(C,H){A=!1,I&&(I=!1,k(ce),ce=-1),b=!0;var D=S;try{for(F(H),w=t(m);w!==null&&(!(w.expirationTime>H)||C&&!Q());){var R=w.callback;if(typeof R=="function"){w.callback=null,S=w.priorityLevel;var U=R(w.expirationTime<=H);H=i.unstable_now(),typeof U=="function"?w.callback=U:w===t(m)&&r(m),F(H)}else r(m);w=t(m)}if(w!==null)var X=!0;else{var ie=t(g);ie!==null&&G(W,ie.startTime-H),X=!1}return X}finally{w=null,S=D,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var K,N=!1,J=null,ce=-1,fe=5,Pe=-1;function Q(){return!(i.unstable_now()-Pe<fe)}function Z(){if(J!==null){var C=i.unstable_now();Pe=C;var H=!0;try{H=J(!0,C)}finally{H?K():(N=!1,J=null)}}else N=!1}if(typeof z=="function")K=function(){z(Z)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=Z,K=function(){Te.postMessage(null)}}else K=function(){P(Z,0)};function B(C){J=C,N||(N=!0,K())}function G(C,H){ce=P(function(){C(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){A||b||(A=!0,B(L))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var D=S;S=H;try{return C()}finally{S=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=S;S=C;try{return H()}finally{S=D}},i.unstable_scheduleCallback=function(C,H,D){var R=i.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?R+D:R,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return C={id:_++,callback:H,priorityLevel:C,startTime:D,expirationTime:U=D+U,sortIndex:-1},D>R?(C.sortIndex=D,e(g,C),t(m)===null&&C===t(g)&&(I?(k(ce),ce=-1):I=!0,G(W,D-R))):(C.sortIndex=U,e(m,C),A||b||(A=!0,B(L))),C},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(C){var H=S;return function(){var D=S;S=H;try{return C.apply(this,arguments)}finally{S=D}}}}(H0)),H0)),bg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lT(){return G0||(G0=1,z0=function(i){var e={},t=Cs,r=aT(),s=Object.assign;function a(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),W=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:typeof(l=W&&l[W]||l["@@iterator"])=="function"?l:null}function K(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case m:return"Portal";case w:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Consumer";case S:return(l._context.displayName||"Context")+".Provider";case A:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return(u=l.displayName||null)!==null?u:K(l.type)||"Memo";case z:u=l._payload,l=l._init;try{return K(l(u))}catch{}}return null}function N(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(u);case 8:return u===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function J(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do(4098&(u=l).flags)!=0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function ce(l){if(J(l)!==l)throw Error(a(188))}function fe(l){var u=l.alternate;if(!u){if((u=J(l))===null)throw Error(a(188));return u!==l?null:l}for(var p=l,v=u;;){var x=p.return;if(x===null)break;var T=x.alternate;if(T===null){if((v=x.return)!==null){p=v;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===p)return ce(x),l;if(T===v)return ce(x),u;T=T.sibling}throw Error(a(188))}if(p.return!==v.return)p=x,v=T;else{for(var O=!1,V=x.child;V;){if(V===p){O=!0,p=x,v=T;break}if(V===v){O=!0,v=x,p=T;break}V=V.sibling}if(!O){for(V=T.child;V;){if(V===p){O=!0,p=T,v=x;break}if(V===v){O=!0,v=T,p=x;break}V=V.sibling}if(!O)throw Error(a(189))}}if(p.alternate!==v)throw Error(a(190))}if(p.tag!==3)throw Error(a(188));return p.stateNode.current===p?l:u}function Pe(l){return(l=fe(l))!==null?Q(l):null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Q(l);if(u!==null)return u;l=l.sibling}return null}function Z(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=Z(l);if(u!==null)return u}l=l.sibling}return null}var le,Te=Array.isArray,B=i.getPublicInstance,G=i.getRootHostContext,C=i.getChildHostContext,H=i.prepareForCommit,D=i.resetAfterCommit,R=i.createInstance,U=i.appendInitialChild,X=i.finalizeInitialChildren,ie=i.prepareUpdate,ue=i.shouldSetTextContent,pe=i.createTextInstance,_e=i.scheduleTimeout,be=i.cancelTimeout,Re=i.noTimeout,ye=i.isPrimaryRenderer,Me=i.supportsMutation,Ue=i.supportsPersistence,We=i.supportsHydration,at=i.getInstanceFromNode,He=i.preparePortalMount,$e=i.getCurrentEventPriority,Mt=i.detachDeletedInstance,jt=i.supportsMicrotasks,ti=i.scheduleMicrotask,fr=i.supportsTestSelectors,pr=i.findFiberRoot,ri=i.getBoundingRect,yi=i.getTextContent,tn=i.isHiddenSubtree,Ll=i.matchAccessibilityRole,Ul=i.setFocusIfFocusable,yo=i.setupIntersectionObserver,vo=i.appendChild,Ki=i.appendChildToContainer,vi=i.commitTextUpdate,Zi=i.commitMount,th=i.commitUpdate,zl=i.insertBefore,_o=i.insertInContainerBefore,xo=i.removeChild,re=i.removeChildFromContainer,se=i.resetTextContent,ut=i.hideInstance,_t=i.hideTextInstance,Et=i.unhideInstance,tt=i.unhideTextInstance,Fr=i.clearContainer,ni=i.cloneInstance,vr=i.createContainerChildSet,mn=i.appendChildToContainerChildSet,wo=i.finalizeContainerChildren,Un=i.replaceContainerChildren,Tr=i.cloneHiddenInstance,Eo=i.cloneHiddenTextInstance,Ji=i.canHydrateInstance,So=i.canHydrateTextInstance,zn=i.canHydrateSuspenseInstance,bo=i.isSuspenseInstancePending,gn=i.isSuspenseInstanceFallback,es=i.getSuspenseInstanceFallbackErrorDetails,ts=i.registerSuspenseInstanceRetry,_i=i.getNextHydratableSibling,Gl=i.getFirstHydratableChild,ba=i.getFirstHydratableChildWithinContainer,Hl=i.getFirstHydratableChildWithinSuspenseInstance,Gn=i.hydrateInstance,Ta=i.hydrateTextInstance,jl=i.hydrateSuspenseInstance,Aa=i.getNextHydratableInstanceAfterSuspenseInstance,xi=i.commitHydratedContainer,Os=i.commitHydratedSuspenseInstance,Wl=i.clearSuspenseBoundary,Ca=i.clearSuspenseBoundaryFromContainer,Pf=i.shouldDeleteUnhydratedTailInstances,Rf=i.didNotMatchHydratedContainerTextInstance,Yt=i.didNotMatchHydratedTextInstance;function Pa(l){if(le===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||""}return`
`+le+l}var Ra=!1;function $l(l,u){if(!l||Ra)return"";Ra=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var v=he}Reflect.construct(l,[],u)}else{try{u.call()}catch(he){v=he}l.call(u.prototype)}else{try{throw Error()}catch(he){v=he}l()}}catch(he){if(he&&v&&typeof he.stack=="string"){for(var x=he.stack.split(`
`),T=v.stack.split(`
`),O=x.length-1,V=T.length-1;1<=O&&0<=V&&x[O]!==T[V];)V--;for(;1<=O&&0<=V;O--,V--)if(x[O]!==T[V]){if(O!==1||V!==1)do if(O--,0>--V||x[O]!==T[V]){var te=`
`+x[O].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=O&&0<=V);break}}}finally{Ra=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?Pa(l):""}var Vl=Object.prototype.hasOwnProperty,rh=[],Fs=-1;function Hn(l){return{current:l}}function ft(l){0>Fs||(l.current=rh[Fs],rh[Fs]=null,Fs--)}function At(l,u){Fs++,rh[Fs]=l.current,l.current=u}var mr={},Ar=Hn(mr),Wr=Hn(!1),Bs=mr;function wi(l,u){var p=l.type.contextTypes;if(!p)return mr;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x,T={};for(x in p)T[x]=u[x];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Cr(l){return(l=l.childContextTypes)!=null}function Ls(){ft(Wr),ft(Ar)}function Ia(l,u,p){if(Ar.current!==mr)throw Error(a(168));At(Ar,u),At(Wr,p)}function Pc(l,u,p){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return p;for(var x in v=v.getChildContext())if(!(x in u))throw Error(a(108,N(l)||"Unknown",x));return s({},p,v)}function Xl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||mr,Bs=Ar.current,At(Ar,l),At(Wr,Wr.current),!0}function Yl(l,u,p){var v=l.stateNode;if(!v)throw Error(a(169));p?(l=Pc(l,u,Bs),v.__reactInternalMemoizedMergedChildContext=l,ft(Wr),ft(Ar),At(Ar,l)):ft(Wr),At(Wr,p)}var yn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(nh(l)/Ma|0)|0},nh=Math.log,Ma=Math.LN2,ih=64,ka=4194304;function pt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Da(l,u){var p=l.pendingLanes;if(p===0)return 0;var v=0,x=l.suspendedLanes,T=l.pingedLanes,O=268435455&p;if(O!==0){var V=O&~x;V!==0?v=pt(V):(T&=O)!==0&&(v=pt(T))}else(O=p&~x)!==0?v=pt(O):T!==0&&(v=pt(T));if(v===0)return 0;if(u!==0&&u!==v&&(u&x)==0&&((x=v&-v)>=(T=u&-u)||x===16&&(4194240&T)!=0))return u;if((4&v)!=0&&(v|=16&p),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)x=1<<(p=31-yn(u)),v|=l[p],u&=~x;return v}function Rc(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Na(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function sh(){var l=ih;return(4194240&(ih<<=1))==0&&(ih=64),l}function ql(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function To(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-yn(u)]=p}function Oa(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var v=31-yn(p),x=1<<v;x&u|l[v]&u&&(l[v]|=u),p&=~x}}var ht=0;function Ei(l){return 1<(l&=-l)?4<l?(268435455&l)!=0?16:536870912:4:1}var ii=r.unstable_scheduleCallback,Si=r.unstable_cancelCallback,Fa=r.unstable_shouldYield,Ba=r.unstable_requestPaint,kt=r.unstable_now,oh=r.unstable_ImmediatePriority,Ic=r.unstable_UserBlockingPriority,Ao=r.unstable_NormalPriority,If=r.unstable_IdlePriority,La=null,rn=null,vn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},bi=null,rs=!1,Us=!1;function zs(l){bi===null?bi=[l]:bi.push(l)}function nn(){if(!Us&&bi!==null){Us=!0;var l=0,u=ht;try{var p=bi;for(ht=1;l<p.length;l++){var v=p[l];do v=v(!0);while(v!==null)}bi=null,rs=!1}catch(x){throw bi!==null&&(bi=bi.slice(l+1)),ii(oh,nn),x}finally{ht=u,Us=!1}}return null}var Co=[],Po=0,Ro=null,Gs=0,$r=[],sn=0,Vr=null,_n=1,xn="";function ns(l,u){Co[Po++]=Gs,Co[Po++]=Ro,Ro=l,Gs=u}function Ua(l,u,p){$r[sn++]=_n,$r[sn++]=xn,$r[sn++]=Vr,Vr=l;var v=_n;l=xn;var x=32-yn(v)-1;v&=~(1<<x),p+=1;var T=32-yn(u)+x;if(30<T){var O=x-x%5;T=(v&(1<<O)-1).toString(32),v>>=O,x-=O,_n=1<<32-yn(u)+x|p<<x|v,xn=T+l}else _n=1<<T|p<<x|v,xn=l}function Io(l){l.return!==null&&(ns(l,1),Ua(l,1,0))}function Ql(l){for(;l===Ro;)Ro=Co[--Po],Co[Po]=null,Gs=Co[--Po],Co[Po]=null;for(;l===Vr;)Vr=$r[--sn],$r[sn]=null,xn=$r[--sn],$r[sn]=null,_n=$r[--sn],$r[sn]=null}var Dt=null,_r=null,Ct=!1,Ti=!1,jn=null;function Kl(l,u){var p=cn(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,(u=l.deletions)===null?(l.deletions=[p],l.flags|=16):u.push(p)}function Zl(l,u){switch(l.tag){case 5:return(u=Ji(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Dt=l,_r=Gl(u),!0);case 6:return(u=So(u,l.pendingProps))!==null&&(l.stateNode=u,Dt=l,_r=null,!0);case 13:if((u=zn(u))!==null){var p=Vr!==null?{id:_n,overflow:xn}:null;return l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},(p=cn(18,null,null,0)).stateNode=u,p.return=l,l.child=p,Dt=l,_r=null,!0}return!1;default:return!1}}function Hs(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Mo(l){if(Ct){var u=_r;if(u){var p=u;if(!Zl(l,u)){if(Hs(l))throw Error(a(418));u=_i(p);var v=Dt;u&&Zl(l,u)?Kl(v,p):(l.flags=-4097&l.flags|2,Ct=!1,Dt=l)}}else{if(Hs(l))throw Error(a(418));l.flags=-4097&l.flags|2,Ct=!1,Dt=l}}}function ah(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Dt=l}function Jl(l){if(!We||l!==Dt)return!1;if(!Ct)return ah(l),Ct=!0,!1;if(l.tag!==3&&(l.tag!==5||Pf(l.type)&&!ue(l.type,l.memoizedProps))){var u=_r;if(u){if(Hs(l))throw Mc(),Error(a(418));for(;u;)Kl(l,u),u=_i(u)}}if(ah(l),l.tag===13){if(!We)throw Error(a(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(a(317));_r=Aa(l)}else _r=Dt?_i(l.stateNode):null;return!0}function Mc(){for(var l=_r;l;)l=_i(l)}function ko(){We&&(_r=Dt=null,Ti=Ct=!1)}function za(l){jn===null?jn=[l]:jn.push(l)}var Mf=c.ReactCurrentBatchConfig;function eu(l,u){if(vn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var x=p[v];if(!Vl.call(u,x)||!vn(l[x],u[x]))return!1}return!0}function kf(l){switch(l.tag){case 5:return Pa(l.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return l=$l(l.type,!1);case 11:return l=$l(l.type.render,!1);case 1:return l=$l(l.type,!0);default:return""}}function Wn(l,u){if(l&&l.defaultProps){for(var p in u=s({},u),l=l.defaultProps)u[p]===void 0&&(u[p]=l[p]);return u}return u}var tu=Hn(null),Ga=null,Do=null,lh=null;function uh(){lh=Do=Ga=null}function kc(l,u,p){ye?(At(tu,u._currentValue),u._currentValue=p):(At(tu,u._currentValue2),u._currentValue2=p)}function Ha(l){var u=tu.current;ft(tu),ye?l._currentValue=u:l._currentValue2=u}function hh(l,u,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===p)break;l=l.return}}function No(l,u){Ga=l,lh=Do=null,(l=l.dependencies)!==null&&l.firstContext!==null&&((l.lanes&u)!=0&&($t=!0),l.firstContext=null)}function wn(l){var u=ye?l._currentValue:l._currentValue2;if(lh!==l)if(l={context:l,memoizedValue:u,next:null},Do===null){if(Ga===null)throw Error(a(308));Do=l,Ga.dependencies={lanes:0,firstContext:l}}else Do=Do.next=l;return u}var is=null;function ch(l){is===null?is=[l]:is.push(l)}function Dc(l,u,p,v){var x=u.interleaved;return x===null?(p.next=p,ch(u)):(p.next=x.next,x.next=p),u.interleaved=p,si(l,v)}function si(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,(p=l.alternate)!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var ss=!1;function dh(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ai(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function oi(l,u,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&nt)!=0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,si(l,p)}return(x=v.interleaved)===null?(u.next=u,ch(v)):(u.next=x.next,x.next=u),v.interleaved=u,si(l,p)}function os(l,u,p){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&p)!=0)){var v=u.lanes;p|=v&=l.pendingLanes,u.lanes=p,Oa(l,p)}}function Oc(l,u){var p=l.updateQueue,v=l.alternate;if(v!==null&&p===(v=v.updateQueue)){var x=null,T=null;if((p=p.firstBaseUpdate)!==null){do{var O={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?x=T=O:T=T.next=O,p=p.next}while(p!==null);T===null?x=T=u:T=T.next=u}else x=T=u;return p={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:v.shared,effects:v.effects},void(l.updateQueue=p)}(l=p.lastBaseUpdate)===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function ja(l,u,p,v){var x=l.updateQueue;ss=!1;var T=x.firstBaseUpdate,O=x.lastBaseUpdate,V=x.shared.pending;if(V!==null){x.shared.pending=null;var te=V,he=te.next;te.next=null,O===null?T=he:O.next=he,O=te;var me=l.alternate;me!==null&&(V=(me=me.updateQueue).lastBaseUpdate)!==O&&(V===null?me.firstBaseUpdate=he:V.next=he,me.lastBaseUpdate=te)}if(T!==null){var Ie=x.baseState;for(O=0,me=he=te=null,V=T;;){var de=V.lane,Se=V.eventTime;if((v&de)===de){me!==null&&(me=me.next={eventTime:Se,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ze=l,st=V;switch(de=u,Se=p,st.tag){case 1:if(typeof(ze=st.payload)=="function"){Ie=ze.call(Se,Ie,de);break e}Ie=ze;break e;case 3:ze.flags=-65537&ze.flags|128;case 0:if((de=typeof(ze=st.payload)=="function"?ze.call(Se,Ie,de):ze)==null)break e;Ie=s({},Ie,de);break e;case 2:ss=!0}}V.callback!==null&&V.lane!==0&&(l.flags|=64,(de=x.effects)===null?x.effects=[V]:de.push(V))}else Se={eventTime:Se,lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},me===null?(he=me=Se,te=Ie):me=me.next=Se,O|=de;if((V=V.next)===null){if((V=x.shared.pending)===null)break;V=(de=V).next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}if(me===null&&(te=Ie),x.baseState=te,x.firstBaseUpdate=he,x.lastBaseUpdate=me,(u=x.shared.interleaved)!==null){x=u;do O|=x.lane,x=x.next;while(x!==u)}else T===null&&(x.shared.lanes=0);gs|=O,l.lanes=O,l.memoizedState=Ie}}function fh(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=p,typeof x!="function")throw Error(a(191,x));x.call(v)}}}var ph=new t.Component().refs;function ru(l,u,p,v){p=(p=p(v,u=l.memoizedState))==null?u:s({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Wa={isMounted:function(l){return!!(l=l._reactInternals)&&J(l)===l},enqueueSetState:function(l,u,p){l=l._reactInternals;var v=lr(),x=Dn(l),T=Ai(v,x);T.payload=u,p!=null&&(T.callback=p),(u=oi(l,T,x))!==null&&(Ir(u,l,x,v),os(u,l,x))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var v=lr(),x=Dn(l),T=Ai(v,x);T.tag=1,T.payload=u,p!=null&&(T.callback=p),(u=oi(l,T,x))!==null&&(Ir(u,l,x,v),os(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=lr(),v=Dn(l),x=Ai(p,v);x.tag=2,u!=null&&(x.callback=u),(u=oi(l,x,v))!==null&&(Ir(u,l,v,p),os(u,l,v))}};function js(l,u,p,v,x,T,O){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,O):!u.prototype||!u.prototype.isPureReactComponent||!eu(p,v)||!eu(x,T)}function Fc(l,u,p){var v=!1,x=mr,T=u.contextType;return typeof T=="object"&&T!==null?T=wn(T):(x=Cr(u)?Bs:Ar.current,T=(v=(v=u.contextTypes)!=null)?wi(l,x):mr),u=new u(p,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Wa,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=T),u}function Bc(l,u,p,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==l&&Wa.enqueueReplaceState(u,u.state,null)}function mh(l,u,p,v){var x=l.stateNode;x.props=p,x.state=l.memoizedState,x.refs=ph,dh(l);var T=u.contextType;typeof T=="object"&&T!==null?x.context=wn(T):(T=Cr(u)?Bs:Ar.current,x.context=wi(l,T)),x.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(ru(l,u,T,p),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Wa.enqueueReplaceState(x,x.state,null),ja(l,p,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function Oo(l,u,p){if((l=p.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner){if(p.tag!==1)throw Error(a(309));var v=p.stateNode}if(!v)throw Error(a(147,l));var x=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(O){var V=x.refs;V===ph&&(V=x.refs={}),O===null?delete V[T]:V[T]=O},u._stringRef=T,u)}if(typeof l!="string")throw Error(a(284));if(!p._owner)throw Error(a(290,l))}return l}function $a(l,u){throw l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Fo(l){return(0,l._init)(l._payload)}function Bo(l){function u(ge,q){if(l){var ae=ge.deletions;ae===null?(ge.deletions=[q],ge.flags|=16):ae.push(q)}}function p(ge,q){if(!l)return null;for(;q!==null;)u(ge,q),q=q.sibling;return null}function v(ge,q){for(ge=new Map;q!==null;)q.key!==null?ge.set(q.key,q):ge.set(q.index,q),q=q.sibling;return ge}function x(ge,q){return(ge=Bi(ge,q)).index=0,ge.sibling=null,ge}function T(ge,q,ae){return ge.index=ae,l?(ae=ge.alternate)!==null?(ae=ae.index)<q?(ge.flags|=2,q):ae:(ge.flags|=2,q):(ge.flags|=1048576,q)}function O(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function V(ge,q,ae,we){return q===null||q.tag!==6?((q=Pu(ae,ge.mode,we)).return=ge,q):((q=x(q,ae)).return=ge,q)}function te(ge,q,ae,we){var Qe=ae.type;return Qe===g?me(ge,q,ae.props.children,we,ae.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===z&&Fo(Qe)===q.type)?((we=x(q,ae.props)).ref=Oo(ge,q,ae),we.return=ge,we):((we=ml(ae.type,ae.key,ae.props,null,ge.mode,we)).ref=Oo(ge,q,ae),we.return=ge,we)}function he(ge,q,ae,we){return q===null||q.tag!==4||q.stateNode.containerInfo!==ae.containerInfo||q.stateNode.implementation!==ae.implementation?((q=Wh(ae,ge.mode,we)).return=ge,q):((q=x(q,ae.children||[])).return=ge,q)}function me(ge,q,ae,we,Qe){return q===null||q.tag!==7?((q=vs(ae,ge.mode,we,Qe)).return=ge,q):((q=x(q,ae)).return=ge,q)}function Ie(ge,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number")return(q=Pu(""+q,ge.mode,ae)).return=ge,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case d:return(ae=ml(q.type,q.key,q.props,null,ge.mode,ae)).ref=Oo(ge,null,q),ae.return=ge,ae;case m:return(q=Wh(q,ge.mode,ae)).return=ge,q;case z:return Ie(ge,(0,q._init)(q._payload),ae)}if(Te(q)||L(q))return(q=vs(q,ge.mode,ae,null)).return=ge,q;$a(ge,q)}return null}function de(ge,q,ae,we){var Qe=q!==null?q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Qe!==null?null:V(ge,q,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case d:return ae.key===Qe?te(ge,q,ae,we):null;case m:return ae.key===Qe?he(ge,q,ae,we):null;case z:return de(ge,q,(Qe=ae._init)(ae._payload),we)}if(Te(ae)||L(ae))return Qe!==null?null:me(ge,q,ae,we,null);$a(ge,ae)}return null}function Se(ge,q,ae,we,Qe){if(typeof we=="string"&&we!==""||typeof we=="number")return V(q,ge=ge.get(ae)||null,""+we,Qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return te(q,ge=ge.get(we.key===null?ae:we.key)||null,we,Qe);case m:return he(q,ge=ge.get(we.key===null?ae:we.key)||null,we,Qe);case z:return Se(ge,q,ae,(0,we._init)(we._payload),Qe)}if(Te(we)||L(we))return me(q,ge=ge.get(ae)||null,we,Qe,null);$a(q,we)}return null}function ze(ge,q,ae,we){for(var Qe=null,gt=null,je=q,mt=q=0,ur=null;je!==null&&mt<ae.length;mt++){je.index>mt?(ur=je,je=null):ur=je.sibling;var yt=de(ge,je,ae[mt],we);if(yt===null){je===null&&(je=ur);break}l&&je&&yt.alternate===null&&u(ge,je),q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt,je=ur}if(mt===ae.length)return p(ge,je),Ct&&ns(ge,mt),Qe;if(je===null){for(;mt<ae.length;mt++)(je=Ie(ge,ae[mt],we))!==null&&(q=T(je,q,mt),gt===null?Qe=je:gt.sibling=je,gt=je);return Ct&&ns(ge,mt),Qe}for(je=v(ge,je);mt<ae.length;mt++)(ur=Se(je,ge,mt,ae[mt],we))!==null&&(l&&ur.alternate!==null&&je.delete(ur.key===null?mt:ur.key),q=T(ur,q,mt),gt===null?Qe=ur:gt.sibling=ur,gt=ur);return l&&je.forEach(function(ci){return u(ge,ci)}),Ct&&ns(ge,mt),Qe}function st(ge,q,ae,we){var Qe=L(ae);if(typeof Qe!="function")throw Error(a(150));if((ae=Qe.call(ae))==null)throw Error(a(151));for(var gt=Qe=null,je=q,mt=q=0,ur=null,yt=ae.next();je!==null&&!yt.done;mt++,yt=ae.next()){je.index>mt?(ur=je,je=null):ur=je.sibling;var ci=de(ge,je,yt.value,we);if(ci===null){je===null&&(je=ur);break}l&&je&&ci.alternate===null&&u(ge,je),q=T(ci,q,mt),gt===null?Qe=ci:gt.sibling=ci,gt=ci,je=ur}if(yt.done)return p(ge,je),Ct&&ns(ge,mt),Qe;if(je===null){for(;!yt.done;mt++,yt=ae.next())(yt=Ie(ge,yt.value,we))!==null&&(q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt);return Ct&&ns(ge,mt),Qe}for(je=v(ge,je);!yt.done;mt++,yt=ae.next())(yt=Se(je,ge,mt,yt.value,we))!==null&&(l&&yt.alternate!==null&&je.delete(yt.key===null?mt:yt.key),q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt);return l&&je.forEach(function(Xc){return u(ge,Xc)}),Ct&&ns(ge,mt),Qe}return function ge(q,ae,we,Qe){if(typeof we=="object"&&we!==null&&we.type===g&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var gt=we.key,je=ae;je!==null;){if(je.key===gt){if((gt=we.type)===g){if(je.tag===7){p(q,je.sibling),(ae=x(je,we.props.children)).return=q,q=ae;break e}}else if(je.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&Fo(gt)===je.type){p(q,je.sibling),(ae=x(je,we.props)).ref=Oo(q,je,we),ae.return=q,q=ae;break e}p(q,je);break}u(q,je),je=je.sibling}we.type===g?((ae=vs(we.props.children,q.mode,Qe,we.key)).return=q,q=ae):((Qe=ml(we.type,we.key,we.props,null,q.mode,Qe)).ref=Oo(q,ae,we),Qe.return=q,q=Qe)}return O(q);case m:e:{for(je=we.key;ae!==null;){if(ae.key===je){if(ae.tag===4&&ae.stateNode.containerInfo===we.containerInfo&&ae.stateNode.implementation===we.implementation){p(q,ae.sibling),(ae=x(ae,we.children||[])).return=q,q=ae;break e}p(q,ae);break}u(q,ae),ae=ae.sibling}(ae=Wh(we,q.mode,Qe)).return=q,q=ae}return O(q);case z:return ge(q,ae,(je=we._init)(we._payload),Qe)}if(Te(we))return ze(q,ae,we,Qe);if(L(we))return st(q,ae,we,Qe);$a(q,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ae!==null&&ae.tag===6?(p(q,ae.sibling),(ae=x(ae,we)).return=q,q=ae):(p(q,ae),(ae=Pu(we,q.mode,Qe)).return=q,q=ae),O(q)):p(q,ae)}}var Lo=Bo(!0),Va=Bo(!1),Xa={},on=Hn(Xa),Ws=Hn(Xa),as=Hn(Xa);function $n(l){if(l===Xa)throw Error(a(174));return l}function nu(l,u){At(as,u),At(Ws,l),At(on,Xa),l=G(u),ft(on),At(on,l)}function $s(){ft(on),ft(Ws),ft(as)}function Lc(l){var u=$n(as.current),p=$n(on.current);p!==(u=C(p,l.type,u))&&(At(Ws,l),At(on,u))}function gh(l){Ws.current===l&&(ft(on),ft(Ws))}var Wt=Hn(0);function iu(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&((p=p.dehydrated)===null||bo(p)||gn(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((128&u.flags)!=0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var yh=[];function an(){for(var l=0;l<yh.length;l++){var u=yh[l];ye?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}yh.length=0}var ls=c.ReactCurrentDispatcher,su=c.ReactCurrentBatchConfig,us=0,Bt=null,or=null,Zt=null,ou=!1,Ya=!1,ai=0,vh=0;function Jt(){throw Error(a(321))}function qa(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!vn(l[p],u[p]))return!1;return!0}function au(l,u,p,v,x,T){if(us=T,Bt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ls.current=l===null||l.memoizedState===null?Ch:Ph,l=p(v,x),Ya){T=0;do{if(Ya=!1,ai=0,25<=T)throw Error(a(301));T+=1,Zt=or=null,u.updateQueue=null,ls.current=Rh,l=p(v,x)}while(Ya)}if(ls.current=$o,u=or!==null&&or.next!==null,us=0,Zt=or=Bt=null,ou=!1,u)throw Error(a(300));return l}function Uo(){var l=ai!==0;return ai=0,l}function Br(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Bt.memoizedState=Zt=l:Zt=Zt.next=l,Zt}function Xr(){if(or===null){var l=Bt.alternate;l=l!==null?l.memoizedState:null}else l=or.next;var u=Zt===null?Bt.memoizedState:Zt.next;if(u!==null)Zt=u,or=l;else{if(l===null)throw Error(a(310));l={memoizedState:(or=l).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},Zt===null?Bt.memoizedState=Zt=l:Zt=Zt.next=l}return Zt}function zo(l,u){return typeof u=="function"?u(l):u}function Go(l){var u=Xr(),p=u.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=l;var v=or,x=v.baseQueue,T=p.pending;if(T!==null){if(x!==null){var O=x.next;x.next=T.next,T.next=O}v.baseQueue=x=T,p.pending=null}if(x!==null){T=x.next,v=v.baseState;var V=O=null,te=null,he=T;do{var me=he.lane;if((us&me)===me)te!==null&&(te=te.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),v=he.hasEagerState?he.eagerState:l(v,he.action);else{var Ie={lane:me,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};te===null?(V=te=Ie,O=v):te=te.next=Ie,Bt.lanes|=me,gs|=me}he=he.next}while(he!==null&&he!==T);te===null?O=v:te.next=V,vn(v,u.memoizedState)||($t=!0),u.memoizedState=v,u.baseState=O,u.baseQueue=te,p.lastRenderedState=v}if((l=p.interleaved)!==null){x=l;do T=x.lane,Bt.lanes|=T,gs|=T,x=x.next;while(x!==l)}else x===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function lu(l){var u=Xr(),p=u.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=l;var v=p.dispatch,x=p.pending,T=u.memoizedState;if(x!==null){p.pending=null;var O=x=x.next;do T=l(T,O.action),O=O.next;while(O!==x);vn(T,u.memoizedState)||($t=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),p.lastRenderedState=T}return[T,v]}function _h(){}function xh(l,u){var p=Bt,v=Xr(),x=u(),T=!vn(v.memoizedState,x);if(T&&(v.memoizedState=x,$t=!0),v=v.queue,du(Sh.bind(null,p,v,l),[l]),v.getSnapshot!==u||T||Zt!==null&&1&Zt.memoizedState.tag){if(p.flags|=2048,Qa(9,Eh.bind(null,p,v,x,u),void 0,null),tr===null)throw Error(a(349));(30&us)!=0||wh(p,u,x)}return x}function wh(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},(u=Bt.updateQueue)===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.stores=[l]):(p=u.stores)===null?u.stores=[l]:p.push(l)}function Eh(l,u,p,v){u.value=p,u.getSnapshot=v,Ci(u)&&uu(l)}function Sh(l,u,p){return p(function(){Ci(u)&&uu(l)})}function Ci(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!vn(l,p)}catch{return!0}}function uu(l){var u=si(l,1);u!==null&&Ir(u,l,1,-1)}function hu(l){var u=Br();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:l},u.queue=l,l=l.dispatch=Nf.bind(null,Bt,l),[u.memoizedState,l]}function Qa(l,u,p,v){return l={tag:l,create:u,destroy:p,deps:v,next:null},(u=Bt.updateQueue)===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect)===null?u.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,u.lastEffect=l),l}function Uc(){return Xr().memoizedState}function hs(l,u,p,v){var x=Br();Bt.flags|=l,x.memoizedState=Qa(1|u,p,void 0,v===void 0?null:v)}function cu(l,u,p,v){var x=Xr();v=v===void 0?null:v;var T=void 0;if(or!==null){var O=or.memoizedState;if(T=O.destroy,v!==null&&qa(v,O.deps))return void(x.memoizedState=Qa(u,p,T,v))}Bt.flags|=l,x.memoizedState=Qa(1|u,p,T,v)}function bh(l,u){return hs(8390656,8,l,u)}function du(l,u){return cu(2048,8,l,u)}function Pt(l,u){return cu(4,2,l,u)}function fu(l,u){return cu(4,4,l,u)}function Ka(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function Ho(l,u,p){return p=p!=null?p.concat([l]):null,cu(4,4,Ka.bind(null,u,l),p)}function pu(){}function mu(l,u){var p=Xr();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&qa(u,v[1])?v[0]:(p.memoizedState=[l,u],l)}function jo(l,u){var p=Xr();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&qa(u,v[1])?v[0]:(l=l(),p.memoizedState=[l,u],l)}function Za(l,u,p){return(21&us)==0?(l.baseState&&(l.baseState=!1,$t=!0),l.memoizedState=p):(vn(p,u)||(p=sh(),Bt.lanes|=p,gs|=p,l.baseState=!0),u)}function Wo(l,u){var p=ht;ht=p!==0&&4>p?p:4,l(!0);var v=su.transition;su.transition={};try{l(!1),u()}finally{ht=p,su.transition=v}}function Th(){return Xr().memoizedState}function Df(l,u,p){var v=Dn(l);p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},Ah(l)?Ja(u,p):(p=Dc(l,u,p,v))!==null&&(Ir(p,l,v,lr()),el(p,u,v))}function Nf(l,u,p){var v=Dn(l),x={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ah(l))Ja(u,x);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var O=u.lastRenderedState,V=T(O,p);if(x.hasEagerState=!0,x.eagerState=V,vn(V,O)){var te=u.interleaved;return te===null?(x.next=x,ch(u)):(x.next=te.next,te.next=x),void(u.interleaved=x)}}catch{}(p=Dc(l,u,x,v))!==null&&(Ir(p,l,v,x=lr()),el(p,u,v))}}function Ah(l){var u=l.alternate;return l===Bt||u!==null&&u===Bt}function Ja(l,u){Ya=ou=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function el(l,u,p){if((4194240&p)!=0){var v=u.lanes;p|=v&=l.pendingLanes,u.lanes=p,Oa(l,p)}}var $o={readContext:wn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Ch={readContext:wn,useCallback:function(l,u){return Br().memoizedState=[l,u===void 0?null:u],l},useContext:wn,useEffect:bh,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,hs(4194308,4,Ka.bind(null,u,l),p)},useLayoutEffect:function(l,u){return hs(4194308,4,l,u)},useInsertionEffect:function(l,u){return hs(4,2,l,u)},useMemo:function(l,u){var p=Br();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var v=Br();return u=p!==void 0?p(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=Df.bind(null,Bt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Br().memoizedState=l},useState:hu,useDebugValue:pu,useDeferredValue:function(l){return Br().memoizedState=l},useTransition:function(){var l=hu(!1),u=l[0];return l=Wo.bind(null,l[1]),Br().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var v=Bt,x=Br();if(Ct){if(p===void 0)throw Error(a(407));p=p()}else{if(p=u(),tr===null)throw Error(a(349));(30&us)!=0||wh(v,u,p)}x.memoizedState=p;var T={value:p,getSnapshot:u};return x.queue=T,bh(Sh.bind(null,v,T,l),[l]),v.flags|=2048,Qa(9,Eh.bind(null,v,T,p,u),void 0,null),p},useId:function(){var l=Br(),u=tr.identifierPrefix;if(Ct){var p=xn;u=":"+u+"R"+(p=(_n&~(1<<32-yn(_n)-1)).toString(32)+p),0<(p=ai++)&&(u+="H"+p.toString(32)),u+=":"}else u=":"+u+"r"+(p=vh++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Ph={readContext:wn,useCallback:mu,useContext:wn,useEffect:du,useImperativeHandle:Ho,useInsertionEffect:Pt,useLayoutEffect:fu,useMemo:jo,useReducer:Go,useRef:Uc,useState:function(){return Go(zo)},useDebugValue:pu,useDeferredValue:function(l){return Za(Xr(),or.memoizedState,l)},useTransition:function(){return[Go(zo)[0],Xr().memoizedState]},useMutableSource:_h,useSyncExternalStore:xh,useId:Th,unstable_isNewReconciler:!1},Rh={readContext:wn,useCallback:mu,useContext:wn,useEffect:du,useImperativeHandle:Ho,useInsertionEffect:Pt,useLayoutEffect:fu,useMemo:jo,useReducer:lu,useRef:Uc,useState:function(){return lu(zo)},useDebugValue:pu,useDeferredValue:function(l){var u=Xr();return or===null?u.memoizedState=l:Za(u,or.memoizedState,l)},useTransition:function(){return[lu(zo)[0],Xr().memoizedState]},useMutableSource:_h,useSyncExternalStore:xh,useId:Th,unstable_isNewReconciler:!1};function Vo(l,u){try{var p="",v=u;do p+=kf(v),v=v.return;while(v);var x=p}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:x,digest:null}}function gu(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function Ih(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var Of=typeof WeakMap=="function"?WeakMap:Map;function yu(l,u,p){(p=Ai(-1,p)).tag=3,p.payload={element:null};var v=u.value;return p.callback=function(){It||(It=!0,ra=v),Ih(0,u)},p}function Pi(l,u,p){(p=Ai(-1,p)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;p.payload=function(){return v(x)},p.callback=function(){Ih(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Ih(0,u),typeof v!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})}),p}function Mh(l,u,p){var v=l.pingCache;if(v===null){v=l.pingCache=new Of;var x=new Set;v.set(u,x)}else(x=v.get(u))===void 0&&(x=new Set,v.set(u,x));x.has(p)||(x.add(p),l=Au.bind(null,l,u,p),u.then(l,l))}function Vs(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Vn(l,u,p,v,x){return(1&l.mode)==0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:((u=Ai(-1,1)).tag=2,oi(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=x,l)}var tl=c.ReactCurrentOwner,$t=!1;function Pr(l,u,p,v){u.child=l===null?Va(u,null,p,v):Lo(u,l.child,p,v)}function zc(l,u,p,v,x){p=p.render;var T=u.ref;return No(u,x),v=au(l,u,p,v,T,x),p=Uo(),l===null||$t?(Ct&&p&&Io(u),u.flags|=1,Pr(l,u,v,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,bn(l,u,x))}function Gc(l,u,p,v,x){if(l===null){var T=p.type;return typeof T!="function"||pl(T)||T.defaultProps!==void 0||p.compare!==null||p.defaultProps!==void 0?((l=ml(p.type,null,v,u,u.mode,x)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,cs(l,u,T,v,x))}if(T=l.child,(l.lanes&x)==0){var O=T.memoizedProps;if((p=(p=p.compare)!==null?p:eu)(O,v)&&l.ref===u.ref)return bn(l,u,x)}return u.flags|=1,(l=Bi(T,v)).ref=u.ref,l.return=u,u.child=l}function cs(l,u,p,v,x){if(l!==null){var T=l.memoizedProps;if(eu(T,v)&&l.ref===u.ref){if($t=!1,u.pendingProps=v=T,(l.lanes&x)==0)return u.lanes=l.lanes,bn(l,u,x);(131072&l.flags)!=0&&($t=!0)}}return Yo(l,u,p,v,x)}function Xo(l,u,p){var v=u.pendingProps,x=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((1&u.mode)==0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Di,rr),rr|=p;else{if((1073741824&p)==0)return l=T!==null?T.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,At(Di,rr),rr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:p,At(Di,rr),rr|=v}else T!==null?(v=T.baseLanes|p,u.memoizedState=null):v=p,At(Di,rr),rr|=v;return Pr(l,u,x,p),u.child}function Xs(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Yo(l,u,p,v,x){var T=Cr(p)?Bs:Ar.current;return T=wi(u,T),No(u,x),p=au(l,u,p,v,T,x),v=Uo(),l===null||$t?(Ct&&v&&Io(u),u.flags|=1,Pr(l,u,p,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,bn(l,u,x))}function vu(l,u,p,v,x){if(Cr(p)){var T=!0;Xl(u)}else T=!1;if(No(u,x),u.stateNode===null)Sn(l,u),Fc(u,p,v),mh(u,p,v,x),v=!0;else if(l===null){var O=u.stateNode,V=u.memoizedProps;O.props=V;var te=O.context,he=p.contextType;typeof he=="object"&&he!==null?he=wn(he):he=wi(u,he=Cr(p)?Bs:Ar.current);var me=p.getDerivedStateFromProps,Ie=typeof me=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ie||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==v||te!==he)&&Bc(u,O,v,he),ss=!1;var de=u.memoizedState;O.state=de,ja(u,v,O,x),te=u.memoizedState,V!==v||de!==te||Wr.current||ss?(typeof me=="function"&&(ru(u,p,me,v),te=u.memoizedState),(V=ss||js(u,p,V,v,de,te,he))?(Ie||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=te),O.props=v,O.state=te,O.context=he,v=V):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{O=u.stateNode,Nc(l,u),V=u.memoizedProps,he=u.type===u.elementType?V:Wn(u.type,V),O.props=he,Ie=u.pendingProps,de=O.context,typeof(te=p.contextType)=="object"&&te!==null?te=wn(te):te=wi(u,te=Cr(p)?Bs:Ar.current);var Se=p.getDerivedStateFromProps;(me=typeof Se=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==Ie||de!==te)&&Bc(u,O,v,te),ss=!1,de=u.memoizedState,O.state=de,ja(u,v,O,x);var ze=u.memoizedState;V!==Ie||de!==ze||Wr.current||ss?(typeof Se=="function"&&(ru(u,p,Se,v),ze=u.memoizedState),(he=ss||js(u,p,he,v,de,ze,te)||!1)?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,ze,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,ze,te)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ze),O.props=v,O.state=ze,O.context=te,v=he):(typeof O.componentDidUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),v=!1)}return ds(l,u,p,v,T,x)}function ds(l,u,p,v,x,T){Xs(l,u);var O=(128&u.flags)!=0;if(!v&&!O)return x&&Yl(u,p,!1),bn(l,u,T);v=u.stateNode,tl.current=u;var V=O&&typeof p.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&O?(u.child=Lo(u,l.child,null,T),u.child=Lo(u,null,V,T)):Pr(l,u,V,T),u.memoizedState=v.state,x&&Yl(u,p,!0),u.child}function Ri(l){var u=l.stateNode;u.pendingContext?Ia(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Ia(0,u.context,!1),nu(l,u.containerInfo)}function Rt(l,u,p,v,x){return ko(),za(x),u.flags|=256,Pr(l,u,p,v),u.child}var xt,En,ar,xr,Ii={dehydrated:null,treeContext:null,retryLane:0};function fs(l){return{baseLanes:l,cachePool:null,transitions:null}}function Lr(l,u,p){var v,x=u.pendingProps,T=Wt.current,O=!1,V=(128&u.flags)!=0;if((v=V)||(v=(l===null||l.memoizedState!==null)&&(2&T)!=0),v?(O=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),At(Wt,1&T),l===null)return Mo(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?((1&u.mode)==0?u.lanes=1:gn(l)?u.lanes=8:u.lanes=1073741824,null):(V=x.children,l=x.fallback,O?(x=u.mode,O=u.child,V={mode:"hidden",children:V},(1&x)==0&&O!==null?(O.childLanes=0,O.pendingProps=V):O=Cu(V,x,0,null),l=vs(l,x,p,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=fs(p),u.memoizedState=Ii,l):qo(u,V));if((T=l.memoizedState)!==null&&(v=T.dehydrated)!==null)return function(he,me,Ie,de,Se,ze,st){if(Ie)return 256&me.flags?(me.flags&=-257,rl(he,me,st,de=gu(Error(a(422))))):me.memoizedState!==null?(me.child=he.child,me.flags|=128,null):(ze=de.fallback,Se=me.mode,de=Cu({mode:"visible",children:de.children},Se,0,null),(ze=vs(ze,Se,st,null)).flags|=2,de.return=me,ze.return=me,de.sibling=ze,me.child=de,(1&me.mode)!=0&&Lo(me,he.child,null,st),me.child.memoizedState=fs(st),me.memoizedState=Ii,ze);if((1&me.mode)==0)return rl(he,me,st,null);if(gn(Se))return de=es(Se).digest,ze=Error(a(419)),de=gu(ze,de,void 0),rl(he,me,st,de);if(Ie=(st&he.childLanes)!=0,$t||Ie){if((de=tr)!==null){switch(st&-st){case 4:Se=2;break;case 16:Se=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Se=32;break;case 536870912:Se=268435456;break;default:Se=0}(Se=(Se&(de.suspendedLanes|st))!=0?0:Se)!==0&&Se!==ze.retryLane&&(ze.retryLane=Se,si(he,Se),Ir(de,he,Se,-1))}return Tu(),rl(he,me,st,de=gu(Error(a(421))))}return bo(Se)?(me.flags|=128,me.child=he.child,me=Hh.bind(null,he),ts(Se,me),null):(he=ze.treeContext,We&&(_r=Hl(Se),Dt=me,Ct=!0,jn=null,Ti=!1,he!==null&&($r[sn++]=_n,$r[sn++]=xn,$r[sn++]=Vr,_n=he.id,xn=he.overflow,Vr=me)),me=qo(me,de.children),me.flags|=4096,me)}(l,u,V,x,v,T,p);if(O){O=x.fallback,V=u.mode,v=(T=l.child).sibling;var te={mode:"hidden",children:x.children};return(1&V)==0&&u.child!==T?((x=u.child).childLanes=0,x.pendingProps=te,u.deletions=null):(x=Bi(T,te)).subtreeFlags=14680064&T.subtreeFlags,v!==null?O=Bi(v,O):(O=vs(O,V,p,null)).flags|=2,O.return=u,x.return=u,x.sibling=O,u.child=x,x=O,O=u.child,V=(V=l.child.memoizedState)===null?fs(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},O.memoizedState=V,O.childLanes=l.childLanes&~p,u.memoizedState=Ii,x}return l=(O=l.child).sibling,x=Bi(O,{mode:"visible",children:x.children}),(1&u.mode)==0&&(x.lanes=p),x.return=u,x.sibling=null,l!==null&&((p=u.deletions)===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=x,u.memoizedState=null,x}function qo(l,u){return(u=Cu({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function rl(l,u,p,v){return v!==null&&za(v),Lo(u,l.child,null,p),(l=qo(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function kh(l,u,p){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),hh(l.return,u,p)}function Qo(l,u,p,v,x){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:x}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=p,T.tailMode=x)}function Dh(l,u,p){var v=u.pendingProps,x=v.revealOrder,T=v.tail;if(Pr(l,u,v.children,p),(2&(v=Wt.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&(128&l.flags)!=0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&kh(l,p,u);else if(l.tag===19)kh(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(At(Wt,v),(1&u.mode)==0)u.memoizedState=null;else switch(x){case"forwards":for(p=u.child,x=null;p!==null;)(l=p.alternate)!==null&&iu(l)===null&&(x=p),p=p.sibling;(p=x)===null?(x=u.child,u.child=null):(x=p.sibling,p.sibling=null),Qo(u,!1,x,p,T);break;case"backwards":for(p=null,x=u.child,u.child=null;x!==null;){if((l=x.alternate)!==null&&iu(l)===null){u.child=x;break}l=x.sibling,x.sibling=p,p=x,x=l}Qo(u,!0,p,null,T);break;case"together":Qo(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Sn(l,u){(1&u.mode)==0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function bn(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),gs|=u.lanes,(p&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(p=Bi(l=u.child,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,(p=p.sibling=Bi(l,l.pendingProps)).return=u;p.sibling=null}return u.child}function Tn(l){l.flags|=4}function Nh(l,u){if(l!==null&&l.child===u.child)return!0;if((16&u.flags)!=0)return!1;for(l=u.child;l!==null;){if((12854&l.flags)!=0||(12854&l.subtreeFlags)!=0)return!1;l=l.sibling}return!0}if(Me)xt=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)U(l,p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},En=function(){},ar=function(l,u,p,v,x){if((l=l.memoizedProps)!==v){var T=u.stateNode,O=$n(on.current);p=ie(T,p,l,v,x,O),(u.updateQueue=p)&&Tn(u)}},xr=function(l,u,p,v){p!==v&&Tn(u)};else if(Ue){xt=function(l,u,p,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;p&&v&&(T=Tr(T,x.type,x.memoizedProps,x)),U(l,T)}else if(x.tag===6)T=x.stateNode,p&&v&&(T=Eo(T,x.memoizedProps,x)),U(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),xt(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var Hc=function(l,u,p,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;p&&v&&(T=Tr(T,x.type,x.memoizedProps,x)),mn(l,T)}else if(x.tag===6)T=x.stateNode,p&&v&&(T=Eo(T,x.memoizedProps,x)),mn(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Hc(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};En=function(l,u){var p=u.stateNode;if(!Nh(l,u)){l=p.containerInfo;var v=vr(l);Hc(v,u,!1,!1),p.pendingChildren=v,Tn(u),wo(l,v)}},ar=function(l,u,p,v,x){var T=l.stateNode,O=l.memoizedProps;if((l=Nh(l,u))&&O===v)u.stateNode=T;else{var V=u.stateNode,te=$n(on.current),he=null;O!==v&&(he=ie(V,p,O,v,x,te)),l&&he===null?u.stateNode=T:(T=ni(T,he,p,O,v,u,l,V),X(T,p,v,x,te)&&Tn(u),u.stateNode=T,l?Tn(u):xt(T,u,!1,!1))}},xr=function(l,u,p,v){p!==v?(l=$n(as.current),p=$n(on.current),u.stateNode=pe(v,l,p,u),Tn(u)):u.stateNode=l.stateNode}}else En=function(){},ar=function(){},xr=function(){};function An(l,u){if(!Ct)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function er(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(u)for(var x=l.child;x!==null;)p|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)p|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=p,u}function Ko(l,u,p){var v=u.pendingProps;switch(Ql(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return Cr(u.type)&&Ls(),er(u),null;case 3:return p=u.stateNode,$s(),ft(Wr),ft(Ar),an(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),l!==null&&l.child!==null||(Jl(u)?Tn(u):l===null||l.memoizedState.isDehydrated&&(256&u.flags)==0||(u.flags|=1024,jn!==null&&(dl(jn),jn=null))),En(l,u),er(u),null;case 5:gh(u),p=$n(as.current);var x=u.type;if(l!==null&&u.stateNode!=null)ar(l,u,x,v,p),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(a(166));return er(u),null}if(l=$n(on.current),Jl(u)){if(!We)throw Error(a(175));l=Gn(u.stateNode,u.type,u.memoizedProps,p,l,u,!Ti),u.updateQueue=l,l!==null&&Tn(u)}else{var T=R(x,v,p,l,u);xt(T,u,!1,!1),u.stateNode=T,X(T,x,v,p,l)&&Tn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(l&&u.stateNode!=null)xr(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(a(166));if(l=$n(as.current),p=$n(on.current),Jl(u)){if(!We)throw Error(a(176));if(l=u.stateNode,p=u.memoizedProps,(v=Ta(l,p,u,!Ti))&&(x=Dt)!==null)switch(x.tag){case 3:Rf(x.stateNode.containerInfo,l,p,(1&x.mode)!=0);break;case 5:Yt(x.type,x.memoizedProps,x.stateNode,l,p,(1&x.mode)!=0)}v&&Tn(u)}else u.stateNode=pe(v,l,p,u)}return er(u),null;case 13:if(ft(Wt),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ct&&_r!==null&&(1&u.mode)!=0&&(128&u.flags)==0)Mc(),ko(),u.flags|=98560,x=!1;else if(x=Jl(u),v!==null&&v.dehydrated!==null){if(l===null){if(!x)throw Error(a(318));if(!We)throw Error(a(344));if(!(x=(x=u.memoizedState)!==null?x.dehydrated:null))throw Error(a(317));jl(x,u)}else ko(),(128&u.flags)==0&&(u.memoizedState=null),u.flags|=4;er(u),x=!1}else jn!==null&&(dl(jn),jn=null),x=!0;if(!x)return 65536&u.flags?u:null}return(128&u.flags)!=0?(u.lanes=p,u):((p=v!==null)!=(l!==null&&l.memoizedState!==null)&&p&&(u.child.flags|=8192,(1&u.mode)!=0&&(l===null||(1&Wt.current)!=0?nr===0&&(nr=3):Tu())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return $s(),En(l,u),l===null&&He(u.stateNode.containerInfo),er(u),null;case 10:return Ha(u.type._context),er(u),null;case 19:if(ft(Wt),(x=u.memoizedState)===null)return er(u),null;if(v=(128&u.flags)!=0,(T=x.rendering)===null)if(v)An(x,!1);else{if(nr!==0||l!==null&&(128&l.flags)!=0)for(l=u.child;l!==null;){if((T=iu(l))!==null){for(u.flags|=128,An(x,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=p,p=u.child;p!==null;)x=l,(v=p).flags&=14680066,(T=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,x=T.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),p=p.sibling;return At(Wt,1&Wt.current|2),u.child}l=l.sibling}x.tail!==null&&kt()>hl&&(u.flags|=128,v=!0,An(x,!1),u.lanes=4194304)}else{if(!v)if((l=iu(T))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),An(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!Ct)return er(u),null}else 2*kt()-x.renderingStartTime>hl&&p!==1073741824&&(u.flags|=128,v=!0,An(x,!1),u.lanes=4194304);x.isBackwards?(T.sibling=u.child,u.child=T):((l=x.last)!==null?l.sibling=T:u.child=T,x.last=T)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=kt(),u.sibling=null,l=Wt.current,At(Wt,v?1&l|2:1&l),u):(er(u),null);case 22:case 23:return ro(),p=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==p&&(u.flags|=8192),p&&(1&u.mode)!=0?(1073741824&rr)!=0&&(er(u),Me&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(a(156,u.tag))}function _u(l,u){switch(Ql(u),u.tag){case 1:return Cr(u.type)&&Ls(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return $s(),ft(Wr),ft(Ar),an(),(65536&(l=u.flags))!=0&&(128&l)==0?(u.flags=-65537&l|128,u):null;case 5:return gh(u),null;case 13:if(ft(Wt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));ko()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ft(Wt),null;case 4:return $s(),null;case 10:return Ha(u.type._context),null;case 22:case 23:return ro(),null;default:return null}}var Ys=!1,bt=!1,Cn=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Yr(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){Tt(l,u,v)}else p.current=null}function li(l,u,p){try{p()}catch(v){Tt(l,u,v)}}var ps=!1;function Zo(l,u,p){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&l)===l){var T=x.destroy;x.destroy=void 0,T!==void 0&&li(u,p,T)}x=x.next}while(x!==v)}}function Jo(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var p=u=u.next;do{if((p.tag&l)===l){var v=p.create;p.destroy=v()}p=p.next}while(p!==u)}}function nl(l){var u=l.ref;if(u!==null){var p=l.stateNode;l.tag===5?l=B(p):l=p,typeof u=="function"?u(l):u.current=l}}function qr(l){var u=l.alternate;u!==null&&(l.alternate=null,qr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Mt(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Qr(l){return l.tag===5||l.tag===3||l.tag===4}function Nt(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Qr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function ln(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?_o(p,l,u):Ki(p,l);else if(v!==4&&(l=l.child)!==null)for(ln(l,u,p),l=l.sibling;l!==null;)ln(l,u,p),l=l.sibling}function xu(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?zl(p,l,u):vo(p,l);else if(v!==4&&(l=l.child)!==null)for(xu(l,u,p),l=l.sibling;l!==null;)xu(l,u,p),l=l.sibling}var Rr=null,Pn=!1;function Rn(l,u,p){for(p=p.child;p!==null;)wu(l,u,p),p=p.sibling}function wu(l,u,p){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(La,p)}catch{}switch(p.tag){case 5:bt||Yr(p,u);case 6:if(Me){var v=Rr,x=Pn;Rr=null,Rn(l,u,p),Pn=x,(Rr=v)!==null&&(Pn?re(Rr,p.stateNode):xo(Rr,p.stateNode))}else Rn(l,u,p);break;case 18:Me&&Rr!==null&&(Pn?Ca(Rr,p.stateNode):Wl(Rr,p.stateNode));break;case 4:Me?(v=Rr,x=Pn,Rr=p.stateNode.containerInfo,Pn=!0,Rn(l,u,p),Rr=v,Pn=x):(Ue&&(v=p.stateNode.containerInfo,x=vr(v),Un(v,x)),Rn(l,u,p));break;case 0:case 11:case 14:case 15:if(!bt&&(v=p.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var T=x,O=T.destroy;T=T.tag,O!==void 0&&((2&T)!=0||(4&T)!=0)&&li(p,u,O),x=x.next}while(x!==v)}Rn(l,u,p);break;case 1:if(!bt&&(Yr(p,u),typeof(v=p.stateNode).componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(V){Tt(p,u,V)}Rn(l,u,p);break;case 21:Rn(l,u,p);break;case 22:1&p.mode?(bt=(v=bt)||p.memoizedState!==null,Rn(l,u,p),bt=v):Rn(l,u,p);break;default:Rn(l,u,p)}}function il(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new Cn),u.forEach(function(v){var x=$c.bind(null,l,v);p.has(v)||(p.add(v),v.then(x,x))})}}function In(l,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var x=p[v];try{var T=l,O=u;if(Me){var V=O;e:for(;V!==null;){switch(V.tag){case 5:Rr=V.stateNode,Pn=!1;break e;case 3:case 4:Rr=V.stateNode.containerInfo,Pn=!0;break e}V=V.return}if(Rr===null)throw Error(a(160));wu(T,O,x),Rr=null,Pn=!1}else wu(T,O,x);var te=x.alternate;te!==null&&(te.return=null),x.return=null}catch(he){Tt(x,u,he)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)qs(u,l),u=u.sibling}function qs(l,u){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(In(u,l),Mn(l),4&v){try{Zo(3,l,l.return),Jo(3,l)}catch(de){Tt(l,l.return,de)}try{Zo(5,l,l.return)}catch(de){Tt(l,l.return,de)}}break;case 1:In(u,l),Mn(l),512&v&&p!==null&&Yr(p,p.return);break;case 5:if(In(u,l),Mn(l),512&v&&p!==null&&Yr(p,p.return),Me){if(32&l.flags){var x=l.stateNode;try{se(x)}catch(de){Tt(l,l.return,de)}}if(4&v&&(x=l.stateNode)!=null){var T=l.memoizedProps;if(p=p!==null?p.memoizedProps:T,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{th(x,u,v,p,T,l)}catch(de){Tt(l,l.return,de)}}}break;case 6:if(In(u,l),Mn(l),4&v&&Me){if(l.stateNode===null)throw Error(a(162));x=l.stateNode,T=l.memoizedProps,p=p!==null?p.memoizedProps:T;try{vi(x,p,T)}catch(de){Tt(l,l.return,de)}}break;case 3:if(In(u,l),Mn(l),4&v){if(Me&&We&&p!==null&&p.memoizedState.isDehydrated)try{xi(u.containerInfo)}catch(de){Tt(l,l.return,de)}if(Ue){x=u.containerInfo,T=u.pendingChildren;try{Un(x,T)}catch(de){Tt(l,l.return,de)}}}break;case 4:if(In(u,l),Mn(l),4&v&&Ue){x=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Un(x,T)}catch(de){Tt(l,l.return,de)}}break;case 13:In(u,l),Mn(l),8192&(x=l.child).flags&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(Oi=kt())),4&v&&il(l);break;case 22:var O=p!==null&&p.memoizedState!==null;if(1&l.mode?(bt=(p=bt)||O,In(u,l),bt=p):In(u,l),Mn(l),8192&v){if(p=l.memoizedState!==null,(l.stateNode.isHidden=p)&&!O&&(1&l.mode)!=0)for(Ne=l,v=l.child;v!==null;){for(u=Ne=v;Ne!==null;){var V=(O=Ne).child;switch(O.tag){case 0:case 11:case 14:case 15:Zo(4,O,O.return);break;case 1:Yr(O,O.return);var te=O.stateNode;if(typeof te.componentWillUnmount=="function"){var he=O,me=O.return;try{var Ie=he;te.props=Ie.memoizedProps,te.state=Ie.memoizedState,te.componentWillUnmount()}catch(de){Tt(he,me,de)}}break;case 5:Yr(O,O.return);break;case 22:if(O.memoizedState!==null){Oh(u);continue}}V!==null?(V.return=O,Ne=V):Oh(u)}v=v.sibling}if(Me){e:if(v=null,Me)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{x=u.stateNode,p?ut(x):Et(u.stateNode,u.memoizedProps)}catch(de){Tt(l,l.return,de)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,p?_t(T):tt(T,u.memoizedProps)}catch(de){Tt(l,l.return,de)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:In(u,l),Mn(l),4&v&&il(l);break;case 21:break;default:In(u,l),Mn(l)}}function Mn(l){var u=l.flags;if(2&u){try{if(Me){e:{for(var p=l.return;p!==null;){if(Qr(p)){var v=p;break e}p=p.return}throw Error(a(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(se(x),v.flags&=-33),xu(l,Nt(l),x);break;case 3:case 4:var T=v.stateNode.containerInfo;ln(l,Nt(l),T);break;default:throw Error(a(161))}}}catch(O){Tt(l,l.return,O)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Ff(l,u,p){Ne=l,ea(l)}function ea(l,u,p){for(var v=(1&l.mode)!=0;Ne!==null;){var x=Ne,T=x.child;if(x.tag===22&&v){var O=x.memoizedState!==null||Ys;if(!O){var V=x.alternate,te=V!==null&&V.memoizedState!==null||bt;V=Ys;var he=bt;if(Ys=O,(bt=te)&&!he)for(Ne=x;Ne!==null;)te=(O=Ne).child,O.tag===22&&O.memoizedState!==null?Fh(x):te!==null?(te.return=O,Ne=te):Fh(x);for(;T!==null;)Ne=T,ea(T),T=T.sibling;Ne=x,Ys=V,bt=he}sl(l)}else(8772&x.subtreeFlags)!=0&&T!==null?(T.return=x,Ne=T):sl(l)}}function sl(l){for(;Ne!==null;){var u=Ne;if((8772&u.flags)!=0){var p=u.alternate;try{if((8772&u.flags)!=0)switch(u.tag){case 0:case 11:case 15:bt||Jo(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!bt)if(p===null)v.componentDidMount();else{var x=u.elementType===u.type?p.memoizedProps:Wn(u.type,p.memoizedProps);v.componentDidUpdate(x,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&fh(u,T,v);break;case 3:var O=u.updateQueue;if(O!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=B(u.child.stateNode);break;case 1:p=u.child.stateNode}fh(u,O,p)}break;case 5:var V=u.stateNode;p===null&&4&u.flags&&Zi(V,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(We&&u.memoizedState===null){var te=u.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Os(me)}}}break;default:throw Error(a(163))}bt||512&u.flags&&nl(u)}catch(Ie){Tt(u,u.return,Ie)}}if(u===l){Ne=null;break}if((p=u.sibling)!==null){p.return=u.return,Ne=p;break}Ne=u.return}}function Oh(l){for(;Ne!==null;){var u=Ne;if(u===l){Ne=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ne=p;break}Ne=u.return}}function Fh(l){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Jo(4,u)}catch(te){Tt(u,p,te)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(te){Tt(u,x,te)}}var T=u.return;try{nl(u)}catch(te){Tt(u,T,te)}break;case 5:var O=u.return;try{nl(u)}catch(te){Tt(u,O,te)}}}catch(te){Tt(u,u.return,te)}if(u===l){Ne=null;break}var V=u.sibling;if(V!==null){V.return=u.return,Ne=V;break}Ne=u.return}}var Mi=0,ol=1,Qs=2,Ks=3,ki=4;if(typeof Symbol=="function"&&Symbol.for){var Zs=Symbol.for;Mi=Zs("selector.component"),ol=Zs("selector.has_pseudo_class"),Qs=Zs("selector.role"),Ks=Zs("selector.test_id"),ki=Zs("selector.text")}function al(l){var u=at(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if((l=pr(l))===null)throw Error(a(362));return l.stateNode.current}function ll(l,u){switch(u.$$typeof){case Mi:if(l.type===u.value)return!0;break;case ol:e:{u=u.value,l=[l,0];for(var p=0;p<l.length;){var v=l[p++],x=l[p++],T=u[x];if(v.tag!==5||!tn(v)){for(;T!=null&&ll(v,T);)T=u[++x];if(x===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,x),v=v.sibling}}u=!1}return u;case Qs:if(l.tag===5&&Ll(l.stateNode,u.value))return!0;break;case ki:if((l.tag===5||l.tag===6)&&(l=yi(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Ks:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function ul(l){switch(l.$$typeof){case Mi:return"<"+(K(l.value)||"Unknown")+">";case ol:return":has("+(ul(l)||"")+")";case Qs:return'[role="'+l.value+'"]';case ki:return'"'+l.value+'"';case Ks:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function Js(l,u){var p=[];l=[l,0];for(var v=0;v<l.length;){var x=l[v++],T=l[v++],O=u[T];if(x.tag!==5||!tn(x)){for(;O!=null&&ll(x,O);)O=u[++T];if(T===u.length)p.push(x);else for(x=x.child;x!==null;)l.push(x,T),x=x.sibling}}return p}function Kr(l,u){if(!fr)throw Error(a(363));l=Js(l=al(l),u),u=[],l=Array.from(l);for(var p=0;p<l.length;){var v=l[p++];if(v.tag===5)tn(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var eo=Math.ceil,ta=c.ReactCurrentDispatcher,Eu=c.ReactCurrentOwner,St=c.ReactCurrentBatchConfig,nt=0,tr=null,qt=null,Ot=0,rr=0,Di=Hn(0),nr=0,ms=null,gs=0,ys=0,kn=0,Ni=null,wr=null,Oi=0,hl=1/0,un=null;function to(){hl=kt()+500}var Su,It=!1,ra=null,ui=null,na=!1,Xn=null,ia=0,Yn=0,Ft=null,Vt=-1,Qt=0;function lr(){return(6&nt)!=0?kt():Vt!==-1?Vt:Vt=kt()}function Dn(l){return(1&l.mode)==0?1:(2&nt)!=0&&Ot!==0?Ot&-Ot:Mf.transition!==null?(Qt===0&&(Qt=sh()),Qt):(l=ht)!==0?l:$e()}function Ir(l,u,p,v){if(50<Yn)throw Yn=0,Ft=null,Error(a(185));To(l,p,v),(2&nt)!=0&&l===tr||(l===tr&&((2&nt)==0&&(ys|=p),nr===4&&hi(l,Ot)),Zr(l,v),p===1&&nt===0&&(1&u.mode)==0&&(to(),rs&&nn()))}function Zr(l,u){var p=l.callbackNode;(function(x,T){for(var O=x.suspendedLanes,V=x.pingedLanes,te=x.expirationTimes,he=x.pendingLanes;0<he;){var me=31-yn(he),Ie=1<<me,de=te[me];de===-1?(Ie&O)!=0&&(Ie&V)==0||(te[me]=Rc(Ie,T)):de<=T&&(x.expiredLanes|=Ie),he&=~Ie}})(l,u);var v=Da(l,l===tr?Ot:0);if(v===0)p!==null&&Si(p),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(p!=null&&Si(p),u===1)l.tag===0?function(x){rs=!0,zs(x)}(qn.bind(null,l)):zs(qn.bind(null,l)),jt?ti(function(){(6&nt)==0&&nn()}):ii(oh,nn),p=null;else{switch(Ei(v)){case 1:p=oh;break;case 4:p=Ic;break;case 16:default:p=Ao;break;case 536870912:p=If}p=jh(p,Er.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function Er(l,u){if(Vt=-1,Qt=0,(6&nt)!=0)throw Error(a(327));var p=l.callbackNode;if(Qn()&&l.callbackNode!==p)return null;var v=Da(l,l===tr?Ot:0);if(v===0)return null;if((30&v)!=0||(v&l.expiredLanes)!=0||u)u=fl(l,v);else{u=v;var x=nt;nt|=2;var T=Bh();for(tr===l&&Ot===u||(un=null,to(),Fi(l,u));;)try{Wc();break}catch(V){bu(l,V)}uh(),ta.current=T,nt=x,qt!==null?u=0:(tr=null,Ot=0,u=nr)}if(u!==0){if(u===2&&(x=Na(l))!==0&&(v=x,u=cl(l,x)),u===1)throw p=ms,Fi(l,0),hi(l,v),Zr(l,kt()),p;if(u===6)hi(l,v);else{if(x=l.current.alternate,(30&v)==0&&!function(V){for(var te=V;;){if(16384&te.flags){var he=te.updateQueue;if(he!==null&&(he=he.stores)!==null)for(var me=0;me<he.length;me++){var Ie=he[me],de=Ie.getSnapshot;Ie=Ie.value;try{if(!vn(de(),Ie))return!1}catch{return!1}}}if(he=te.child,16384&te.subtreeFlags&&he!==null)he.return=te,te=he;else{if(te===V)break;for(;te.sibling===null;){if(te.return===null||te.return===V)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}(x)&&((u=fl(l,v))===2&&(T=Na(l))!==0&&(v=T,u=cl(l,T)),u===1))throw p=ms,Fi(l,0),hi(l,v),Zr(l,kt()),p;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(a(345));case 2:case 5:no(l,wr,un);break;case 3:if(hi(l,v),(130023424&v)===v&&10<(u=Oi+500-kt())){if(Da(l,0)!==0)break;if(((x=l.suspendedLanes)&v)!==v){lr(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=_e(no.bind(null,l,wr,un),u);break}no(l,wr,un);break;case 4:if(hi(l,v),(4194240&v)===v)break;for(u=l.eventTimes,x=-1;0<v;){var O=31-yn(v);T=1<<O,(O=u[O])>x&&(x=O),v&=~T}if(v=x,10<(v=(120>(v=kt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*eo(v/1960))-v)){l.timeoutHandle=_e(no.bind(null,l,wr,un),v);break}no(l,wr,un);break;default:throw Error(a(329))}}}return Zr(l,kt()),l.callbackNode===p?Er.bind(null,l):null}function cl(l,u){var p=Ni;return l.current.memoizedState.isDehydrated&&(Fi(l,u).flags|=256),(l=fl(l,u))!==2&&(u=wr,wr=p,u!==null&&dl(u)),l}function dl(l){wr===null?wr=l:wr.push.apply(wr,l)}function hi(l,u){for(u&=~kn,u&=~ys,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-yn(u),v=1<<p;l[p]=-1,u&=~v}}function qn(l){if((6&nt)!=0)throw Error(a(327));Qn();var u=Da(l,0);if((1&u)==0)return Zr(l,kt()),null;var p=fl(l,u);if(l.tag!==0&&p===2){var v=Na(l);v!==0&&(u=v,p=cl(l,v))}if(p===1)throw p=ms,Fi(l,0),hi(l,u),Zr(l,kt()),p;if(p===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,no(l,wr,un),Zr(l,kt()),null}function hn(l){Xn!==null&&Xn.tag===0&&(6&nt)==0&&Qn();var u=nt;nt|=1;var p=St.transition,v=ht;try{if(St.transition=null,ht=1,l)return l()}finally{ht=v,St.transition=p,(6&(nt=u))==0&&nn()}}function ro(){rr=Di.current,ft(Di)}function Fi(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==Re&&(l.timeoutHandle=Re,be(p)),qt!==null)for(p=qt.return;p!==null;){var v=p;switch(Ql(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&Ls();break;case 3:$s(),ft(Wr),ft(Ar),an();break;case 5:gh(v);break;case 4:$s();break;case 13:case 19:ft(Wt);break;case 10:Ha(v.type._context);break;case 22:case 23:ro()}p=p.return}if(tr=l,qt=l=Bi(l.current,null),Ot=rr=u,nr=0,ms=null,kn=ys=gs=0,wr=Ni=null,is!==null){for(u=0;u<is.length;u++)if((v=(p=is[u]).interleaved)!==null){p.interleaved=null;var x=v.next,T=p.pending;if(T!==null){var O=T.next;T.next=x,v.next=O}p.pending=v}is=null}return l}function bu(l,u){for(;;){var p=qt;try{if(uh(),ls.current=$o,ou){for(var v=Bt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}ou=!1}if(us=0,Zt=or=Bt=null,Ya=!1,ai=0,Eu.current=null,p===null||p.return===null){nr=1,ms=u,qt=null;break}e:{var T=l,O=p.return,V=p,te=u;if(u=Ot,V.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var he=te,me=V,Ie=me.tag;if((1&me.mode)==0&&(Ie===0||Ie===11||Ie===15)){var de=me.alternate;de?(me.updateQueue=de.updateQueue,me.memoizedState=de.memoizedState,me.lanes=de.lanes):(me.updateQueue=null,me.memoizedState=null)}var Se=Vs(O);if(Se!==null){Se.flags&=-257,Vn(Se,O,V,0,u),1&Se.mode&&Mh(T,he,u),te=he;var ze=(u=Se).updateQueue;if(ze===null){var st=new Set;st.add(te),u.updateQueue=st}else ze.add(te);break e}if((1&u)==0){Mh(T,he,u),Tu();break e}te=Error(a(426))}else if(Ct&&1&V.mode){var ge=Vs(O);if(ge!==null){(65536&ge.flags)==0&&(ge.flags|=256),Vn(ge,O,V,0,u),za(Vo(te,V));break e}}T=te=Vo(te,V),nr!==4&&(nr=2),Ni===null?Ni=[T]:Ni.push(T),T=O;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,Oc(T,yu(0,te,u));break e;case 1:V=te;var q=T.type,ae=T.stateNode;if((128&T.flags)==0&&(typeof q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ui===null||!ui.has(ae)))){T.flags|=65536,u&=-u,T.lanes|=u,Oc(T,Pi(T,V,u));break e}}T=T.return}while(T!==null)}Uh(p)}catch(we){u=we,qt===p&&p!==null&&(qt=p=p.return);continue}break}}function Bh(){var l=ta.current;return ta.current=$o,l===null?$o:l}function Tu(){nr!==0&&nr!==3&&nr!==2||(nr=4),tr===null||(268435455&gs)==0&&(268435455&ys)==0||hi(tr,Ot)}function fl(l,u){var p=nt;nt|=2;var v=Bh();for(tr===l&&Ot===u||(un=null,Fi(l,u));;)try{jc();break}catch(x){bu(l,x)}if(uh(),nt=p,ta.current=v,qt!==null)throw Error(a(261));return tr=null,Ot=0,nr}function jc(){for(;qt!==null;)Lh(qt)}function Wc(){for(;qt!==null&&!Fa();)Lh(qt)}function Lh(l){var u=Su(l.alternate,l,rr);l.memoizedProps=l.pendingProps,u===null?Uh(l):qt=u,Eu.current=null}function Uh(l){var u=l;do{var p=u.alternate;if(l=u.return,(32768&u.flags)==0){if((p=Ko(p,u,rr))!==null)return void(qt=p)}else{if((p=_u(p,u))!==null)return p.flags&=32767,void(qt=p);if(l===null)return nr=6,void(qt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(qt=u);qt=u=l}while(u!==null);nr===0&&(nr=5)}function no(l,u,p){var v=ht,x=St.transition;try{St.transition=null,ht=1,function(T,O,V,te){do Qn();while(Xn!==null);if((6&nt)!=0)throw Error(a(327));V=T.finishedWork;var he=T.finishedLanes;if(V===null)return null;if(T.finishedWork=null,T.finishedLanes=0,V===T.current)throw Error(a(177));T.callbackNode=null,T.callbackPriority=0;var me=V.lanes|V.childLanes;if(function(Se,ze){var st=Se.pendingLanes&~ze;Se.pendingLanes=ze,Se.suspendedLanes=0,Se.pingedLanes=0,Se.expiredLanes&=ze,Se.mutableReadLanes&=ze,Se.entangledLanes&=ze,ze=Se.entanglements;var ge=Se.eventTimes;for(Se=Se.expirationTimes;0<st;){var q=31-yn(st),ae=1<<q;ze[q]=0,ge[q]=-1,Se[q]=-1,st&=~ae}}(T,me),T===tr&&(qt=tr=null,Ot=0),(2064&V.subtreeFlags)==0&&(2064&V.flags)==0||na||(na=!0,jh(Ao,function(){return Qn(),null})),me=(15990&V.flags)!=0,(15990&V.subtreeFlags)!=0||me){me=St.transition,St.transition=null;var Ie=ht;ht=1;var de=nt;nt|=4,Eu.current=null,function(Se,ze){for(H(Se.containerInfo),Ne=ze;Ne!==null;)if(ze=(Se=Ne).child,(1028&Se.subtreeFlags)!=0&&ze!==null)ze.return=Se,Ne=ze;else for(;Ne!==null;){Se=Ne;try{var st=Se.alternate;if((1024&Se.flags)!=0)switch(Se.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(st!==null){var ge=st.memoizedProps,q=st.memoizedState,ae=Se.stateNode,we=ae.getSnapshotBeforeUpdate(Se.elementType===Se.type?ge:Wn(Se.type,ge),q);ae.__reactInternalSnapshotBeforeUpdate=we}break;case 3:Me&&Fr(Se.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(Qe){Tt(Se,Se.return,Qe)}if((ze=Se.sibling)!==null){ze.return=Se.return,Ne=ze;break}Ne=Se.return}st=ps,ps=!1}(T,V),qs(V,T),D(T.containerInfo),T.current=V,Ff(V),Ba(),nt=de,ht=Ie,St.transition=me}else T.current=V;if(na&&(na=!1,Xn=T,ia=he),me=T.pendingLanes,me===0&&(ui=null),function(Se){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(La,Se,void 0,(128&Se.current.flags)==128)}catch{}}(V.stateNode),Zr(T,kt()),O!==null)for(te=T.onRecoverableError,V=0;V<O.length;V++)he=O[V],te(he.value,{componentStack:he.stack,digest:he.digest});if(It)throw It=!1,T=ra,ra=null,T;(1&ia)!=0&&T.tag!==0&&Qn(),me=T.pendingLanes,(1&me)!=0?T===Ft?Yn++:(Yn=0,Ft=T):Yn=0,nn()}(l,u,p,v)}finally{St.transition=x,ht=v}return null}function Qn(){if(Xn!==null){var l=Ei(ia),u=St.transition,p=ht;try{if(St.transition=null,ht=16>l?16:l,Xn===null)var v=!1;else{if(l=Xn,Xn=null,ia=0,(6&nt)!=0)throw Error(a(331));var x=nt;for(nt|=4,Ne=l.current;Ne!==null;){var T=Ne,O=T.child;if((16&Ne.flags)!=0){var V=T.deletions;if(V!==null){for(var te=0;te<V.length;te++){var he=V[te];for(Ne=he;Ne!==null;){var me=Ne;switch(me.tag){case 0:case 11:case 15:Zo(8,me,T)}var Ie=me.child;if(Ie!==null)Ie.return=me,Ne=Ie;else for(;Ne!==null;){var de=(me=Ne).sibling,Se=me.return;if(qr(me),me===he){Ne=null;break}if(de!==null){de.return=Se,Ne=de;break}Ne=Se}}}var ze=T.alternate;if(ze!==null){var st=ze.child;if(st!==null){ze.child=null;do{var ge=st.sibling;st.sibling=null,st=ge}while(st!==null)}}Ne=T}}if((2064&T.subtreeFlags)!=0&&O!==null)O.return=T,Ne=O;else e:for(;Ne!==null;){if((2048&(T=Ne).flags)!=0)switch(T.tag){case 0:case 11:case 15:Zo(9,T,T.return)}var q=T.sibling;if(q!==null){q.return=T.return,Ne=q;break e}Ne=T.return}}var ae=l.current;for(Ne=ae;Ne!==null;){var we=(O=Ne).child;if((2064&O.subtreeFlags)!=0&&we!==null)we.return=O,Ne=we;else e:for(O=ae;Ne!==null;){if((2048&(V=Ne).flags)!=0)try{switch(V.tag){case 0:case 11:case 15:Jo(9,V)}}catch(gt){Tt(V,V.return,gt)}if(V===O){Ne=null;break e}var Qe=V.sibling;if(Qe!==null){Qe.return=V.return,Ne=Qe;break e}Ne=V.return}}if(nt=x,nn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(La,l)}catch{}v=!0}return v}finally{ht=p,St.transition=u}}return!1}function zh(l,u,p){l=oi(l,u=yu(0,u=Vo(p,u),1),1),u=lr(),l!==null&&(To(l,1,u),Zr(l,u))}function Tt(l,u,p){if(l.tag===3)zh(l,l,p);else for(;u!==null;){if(u.tag===3){zh(u,l,p);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))){u=oi(u,l=Pi(u,l=Vo(p,l),1),1),l=lr(),u!==null&&(To(u,1,l),Zr(u,l));break}}u=u.return}}function Au(l,u,p){var v=l.pingCache;v!==null&&v.delete(u),u=lr(),l.pingedLanes|=l.suspendedLanes&p,tr===l&&(Ot&p)===p&&(nr===4||nr===3&&(130023424&Ot)===Ot&&500>kt()-Oi?Fi(l,0):kn|=p),Zr(l,u)}function Gh(l,u){u===0&&((1&l.mode)==0?u=1:(u=ka,(130023424&(ka<<=1))==0&&(ka=4194304)));var p=lr();(l=si(l,u))!==null&&(To(l,u,p),Zr(l,p))}function Hh(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),Gh(l,p)}function $c(l,u){var p=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(p=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(u),Gh(l,p)}function jh(l,u){return ii(l,u)}function Vc(l,u,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(l,u,p,v){return new Vc(l,u,p,v)}function pl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Bi(l,u){var p=l.alternate;return p===null?((p=cn(l.tag,u,l.key,l.mode)).elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=14680064&l.flags,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function ml(l,u,p,v,x,T){var O=2;if(v=l,typeof l=="function")pl(l)&&(O=1);else if(typeof l=="string")O=5;else e:switch(l){case g:return vs(p.children,x,T,u);case _:O=8,x|=8;break;case w:return(l=cn(12,p,u,2|x)).elementType=w,l.lanes=T,l;case I:return(l=cn(13,p,u,x)).elementType=I,l.lanes=T,l;case P:return(l=cn(19,p,u,x)).elementType=P,l.lanes=T,l;case F:return Cu(p,x,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:O=10;break e;case b:O=9;break e;case A:O=11;break e;case k:O=14;break e;case z:O=16,v=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return(u=cn(O,p,u,x)).elementType=l,u.type=v,u.lanes=T,u}function vs(l,u,p,v){return(l=cn(7,l,v,u)).lanes=p,l}function Cu(l,u,p,v){return(l=cn(22,l,v,u)).elementType=F,l.lanes=p,l.stateNode={isHidden:!1},l}function Pu(l,u,p){return(l=cn(6,l,null,u)).lanes=p,l}function Wh(l,u,p){return(u=cn(4,l.children!==null?l.children:[],l.key,u)).lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Bf(l,u,p,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=v,this.onRecoverableError=x,We&&(this.mutableSourceEagerHydrationData=null)}function $h(l,u,p,v,x,T,O,V,te){return l=new Bf(l,u,p,V,te),u===1?(u=1,T===!0&&(u|=8)):u=0,T=cn(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(T),l}function Vh(l){if(!l)return mr;e:{if(J(l=l._reactInternals)!==l||l.tag!==1)throw Error(a(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Cr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(l.tag===1){var p=l.type;if(Cr(p))return Pc(l,p,u)}return u}function Xh(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return(l=Pe(u))===null?null:l.stateNode}function gl(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Ru(l,u){gl(l,u),(l=l.alternate)&&gl(l,u)}function Lf(l){return(l=Pe(l))===null?null:l.stateNode}function Uf(){return null}return Su=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Wr.current)$t=!0;else{if((l.lanes&p)==0&&(128&u.flags)==0)return $t=!1,function(Ie,de,Se){switch(de.tag){case 3:Ri(de),ko();break;case 5:Lc(de);break;case 1:Cr(de.type)&&Xl(de);break;case 4:nu(de,de.stateNode.containerInfo);break;case 10:kc(0,de.type._context,de.memoizedProps.value);break;case 13:var ze=de.memoizedState;if(ze!==null)return ze.dehydrated!==null?(At(Wt,1&Wt.current),de.flags|=128,null):(Se&de.child.childLanes)!=0?Lr(Ie,de,Se):(At(Wt,1&Wt.current),(Ie=bn(Ie,de,Se))!==null?Ie.sibling:null);At(Wt,1&Wt.current);break;case 19:if(ze=(Se&de.childLanes)!=0,(128&Ie.flags)!=0){if(ze)return Dh(Ie,de,Se);de.flags|=128}var st=de.memoizedState;if(st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),At(Wt,Wt.current),ze)break;return null;case 22:case 23:return de.lanes=0,Xo(Ie,de,Se)}return bn(Ie,de,Se)}(l,u,p);$t=(131072&l.flags)!=0}else $t=!1,Ct&&(1048576&u.flags)!=0&&Ua(u,Gs,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Sn(l,u),l=u.pendingProps;var x=wi(u,Ar.current);No(u,p),x=au(null,u,v,l,x,p);var T=Uo();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Cr(v)?(T=!0,Xl(u)):T=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,dh(u),x.updater=Wa,u.stateNode=x,x._reactInternals=u,mh(u,v,l,p),u=ds(null,u,v,!0,T,p)):(u.tag=0,Ct&&T&&Io(u),Pr(null,u,x,p),u=u.child),u;case 16:v=u.elementType;e:{switch(Sn(l,u),l=u.pendingProps,v=(x=v._init)(v._payload),u.type=v,x=u.tag=function(Ie){if(typeof Ie=="function")return pl(Ie)?1:0;if(Ie!=null){if((Ie=Ie.$$typeof)===A)return 11;if(Ie===k)return 14}return 2}(v),l=Wn(v,l),x){case 0:u=Yo(null,u,v,l,p);break e;case 1:u=vu(null,u,v,l,p);break e;case 11:u=zc(null,u,v,l,p);break e;case 14:u=Gc(null,u,v,Wn(v.type,l),p);break e}throw Error(a(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,Yo(l,u,v,x=u.elementType===v?x:Wn(v,x),p);case 1:return v=u.type,x=u.pendingProps,vu(l,u,v,x=u.elementType===v?x:Wn(v,x),p);case 3:e:{if(Ri(u),l===null)throw Error(a(387));v=u.pendingProps,x=(T=u.memoizedState).element,Nc(l,u),ja(u,v,null,p);var O=u.memoizedState;if(v=O.element,We&&T.isDehydrated){if(T={element:v,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=Rt(l,u,v,p,x=Vo(Error(a(423)),u));break e}if(v!==x){u=Rt(l,u,v,p,x=Vo(Error(a(424)),u));break e}for(We&&(_r=ba(u.stateNode.containerInfo),Dt=u,Ct=!0,jn=null,Ti=!1),p=Va(u,null,v,p),u.child=p;p;)p.flags=-3&p.flags|4096,p=p.sibling}else{if(ko(),v===x){u=bn(l,u,p);break e}Pr(l,u,v,p)}u=u.child}return u;case 5:return Lc(u),l===null&&Mo(u),v=u.type,x=u.pendingProps,T=l!==null?l.memoizedProps:null,O=x.children,ue(v,x)?O=null:T!==null&&ue(v,T)&&(u.flags|=32),Xs(l,u),Pr(l,u,O,p),u.child;case 6:return l===null&&Mo(u),null;case 13:return Lr(l,u,p);case 4:return nu(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Lo(u,null,v,p):Pr(l,u,v,p),u.child;case 11:return v=u.type,x=u.pendingProps,zc(l,u,v,x=u.elementType===v?x:Wn(v,x),p);case 7:return Pr(l,u,u.pendingProps,p),u.child;case 8:case 12:return Pr(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,T=u.memoizedProps,kc(0,v,O=x.value),T!==null)if(vn(T.value,O)){if(T.children===x.children&&!Wr.current){u=bn(l,u,p);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var V=T.dependencies;if(V!==null){O=T.child;for(var te=V.firstContext;te!==null;){if(te.context===v){if(T.tag===1){(te=Ai(-1,p&-p)).tag=2;var he=T.updateQueue;if(he!==null){var me=(he=he.shared).pending;me===null?te.next=te:(te.next=me.next,me.next=te),he.pending=te}}T.lanes|=p,(te=T.alternate)!==null&&(te.lanes|=p),hh(T.return,p,u),V.lanes|=p;break}te=te.next}}else if(T.tag===10)O=T.type===u.type?null:T.child;else if(T.tag===18){if((O=T.return)===null)throw Error(a(341));O.lanes|=p,(V=O.alternate)!==null&&(V.lanes|=p),hh(O,p,u),O=T.sibling}else O=T.child;if(O!==null)O.return=T;else for(O=T;O!==null;){if(O===u){O=null;break}if((T=O.sibling)!==null){T.return=O.return,O=T;break}O=O.return}T=O}Pr(l,u,x.children,p),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,No(u,p),v=v(x=wn(x)),u.flags|=1,Pr(l,u,v,p),u.child;case 14:return x=Wn(v=u.type,u.pendingProps),Gc(l,u,v,x=Wn(v.type,x),p);case 15:return cs(l,u,u.type,u.pendingProps,p);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:Wn(v,x),Sn(l,u),u.tag=1,Cr(v)?(l=!0,Xl(u)):l=!1,No(u,p),Fc(u,v,x),mh(u,v,x,p),ds(null,u,v,!0,l,p);case 19:return Dh(l,u,p);case 22:return Xo(l,u,p)}throw Error(a(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=si(l,134217728);u!==null&&Ir(u,l,134217728,lr()),Ru(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=si(l,1);u!==null&&Ir(u,l,1,lr()),Ru(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Dn(l),p=si(l,u);p!==null&&Ir(p,l,u,lr()),Ru(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=pt(u.pendingLanes);p!==0&&(Oa(u,1|p),Zr(u,kt()),(6&nt)==0&&(to(),nn()))}break;case 13:hn(function(){var v=si(l,1);if(v!==null){var x=lr();Ir(v,l,1,x)}}),Ru(l,1)}},e.batchedUpdates=function(l,u){var p=nt;nt|=1;try{return l(u)}finally{(nt=p)===0&&(to(),rs&&nn())}},e.createComponentSelector=function(l){return{$$typeof:Mi,value:l}},e.createContainer=function(l,u,p,v,x,T,O){return $h(l,u,!1,null,0,v,0,T,O)},e.createHasPseudoClassSelector=function(l){return{$$typeof:ol,value:l}},e.createHydrationContainer=function(l,u,p,v,x,T,O,V,te){return(l=$h(p,v,!0,l,0,T,0,V,te)).context=Vh(null),p=l.current,(T=Ai(v=lr(),x=Dn(p))).callback=u??null,oi(p,T,x),l.current.lanes=x,To(l,x,v),Zr(l,v),l},e.createPortal=function(l,u,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:v==null?null:""+v,children:l,containerInfo:u,implementation:p}},e.createRoleSelector=function(l){return{$$typeof:Qs,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Ks,value:l}},e.createTextSelector=function(l){return{$$typeof:ki,value:l}},e.deferredUpdates=function(l){var u=ht,p=St.transition;try{return St.transition=null,ht=16,l()}finally{ht=u,St.transition=p}},e.discreteUpdates=function(l,u,p,v,x){var T=ht,O=St.transition;try{return St.transition=null,ht=1,l(u,p,v,x)}finally{ht=T,St.transition=O,nt===0&&to()}},e.findAllNodes=Kr,e.findBoundingRects=function(l,u){if(!fr)throw Error(a(363));u=Kr(l,u),l=[];for(var p=0;p<u.length;p++)l.push(ri(u[p]));for(u=l.length-1;0<u;u--)for(var v=(p=l[u]).x,x=v+p.width,T=p.y,O=T+p.height,V=u-1;0<=V;V--)if(u!==V){var te=l[V],he=te.x,me=he+te.width,Ie=te.y,de=Ie+te.height;if(v>=he&&T>=Ie&&x<=me&&O<=de){l.splice(u,1);break}if(!(v!==he||p.width!==te.width||de<T||Ie>O)){Ie>T&&(te.height+=Ie-T,te.y=T),de<O&&(te.height=O-Ie),l.splice(u,1);break}if(!(T!==Ie||p.height!==te.height||me<v||he>x)){he>v&&(te.width+=he-v,te.x=v),me<x&&(te.width=x-he),l.splice(u,1);break}}return l},e.findHostInstance=Xh,e.findHostInstanceWithNoPortals=function(l){return(l=(l=fe(l))!==null?Z(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Xh(l)},e.flushControlled=function(l){var u=nt;nt|=1;var p=St.transition,v=ht;try{St.transition=null,ht=1,l()}finally{ht=v,St.transition=p,(nt=u)===0&&(to(),nn())}},e.flushPassiveEffects=Qn,e.flushSync=hn,e.focusWithin=function(l,u){if(!fr)throw Error(a(363));for(u=Js(l=al(l),u),u=Array.from(u),l=0;l<u.length;){var p=u[l++];if(!tn(p)){if(p.tag===5&&Ul(p.stateNode))return!0;for(p=p.child;p!==null;)u.push(p),p=p.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ht},e.getFindAllNodesFailureDescription=function(l,u){if(!fr)throw Error(a(363));var p=0,v=[];l=[al(l),0];for(var x=0;x<l.length;){var T=l[x++],O=l[x++],V=u[O];if((T.tag!==5||!tn(T))&&(ll(T,V)&&(v.push(ul(V)),++O>p&&(p=O)),O<u.length))for(T=T.child;T!==null;)l.push(T,O),T=T.sibling}if(p<u.length){for(l=[];p<u.length;p++)l.push(ul(u[p]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Lf,findFiberByHostInstance:l.findFiberByHostInstance||Uf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{La=u.inject(l),rn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,p,v){if(!fr)throw Error(a(363));l=Kr(l,u);var x=yo(l,p,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(l,u){var p=u._getVersion;p=p(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,p]:l.mutableSourceEagerHydrationData.push(u,p)},e.runWithPriority=function(l,u){var p=ht;try{return ht=l,u()}finally{ht=p}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,p,v){var x=u.current,T=lr(),O=Dn(x);return p=Vh(p),u.context===null?u.context=p:u.pendingContext=p,(u=Ai(T,O)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=oi(x,u,O))!==null&&(Ir(l,x,O,T),os(l,x,O)),O},e}),z0}({get exports(){return Sg},set exports(i){Sg=i}}).exports=lT();var uT=Ob(Sg),Mx={name:"root",dependencies:{"react-dom":"^18.0.0"}},Tg={},Md={get exports(){return Tg},set exports(i){Tg=i}};(function(){var i,e,t,r,s,a;typeof performance<"u"&&performance!==null&&performance.now?Md.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Md.exports=function(){return(i()-s)/1e6},e=process.hrtime,r=(i=function(){var c;return 1e9*(c=e())[0]+c[1]})(),a=1e9*process.uptime(),s=r-a):Date.now?(Md.exports=function(){return Date.now()-t},t=Date.now()):(Md.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Nb);var j0,$u={},Tl={};({get exports(){return $u},set exports(i){$u=i}}).exports=(j0||(j0=1,Tl.ConcurrentRoot=1,Tl.ContinuousEventPriority=4,Tl.DefaultEventPriority=16,Tl.DiscreteEventPriority=1,Tl.IdleEventPriority=536870912,Tl.LegacyRoot=0),Tl);var hT={};function zm(i,e){i.addChild&&(i.addChild(e),typeof e.didMount=="function"&&e.didMount(e,i))}function kx(i,e){var t,r,s;(t=i.willUnmount)===null||t===void 0||t.call(i,i,e),((r=i.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(s=i.children)!==null&&s!==void 0&&s.length&&go(i.children).forEach(function(a){kx(a,i)})}function W0(i,e){var t;kx(e,i),i.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},s=r.destroy,a=s===void 0||s,c=r.destroyChildren,d=c===void 0||c,m=r.destroyTexture,g=m!==void 0&&m,_=r.destroyBaseTexture,w=_!==void 0&&_;a&&e.destroy({children:d,texture:g,baseTexture:w})}function $0(i,e,t){var r,s;sr(e!==t,"Cannot insert node before itself"),i.children.indexOf(e)!==-1&&i.removeChild(e);var a=i.getChildIndex(t);i.addChildAt(e,a),(r=i.__reactpixi)===null||r===void 0||(s=r.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var V0=null,Xi=uT({getRootHostContext:function(){return hT},getChildHostContext:function(i){return i},getChildHostContextForEventComponent:function(i){return i},getPublicInstance:function(i){return i},getCurrentEventPriority:function(){return function(){var i,e;if(typeof window>"u")return $u.DefaultEventPriority;switch((i=window)===null||i===void 0||(e=i.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $u.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return $u.ContinuousEventPriority;default:return $u.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(i){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=iT[i];if(typeof a=="function"&&(e=a(s,r)),!e){var c=Ix[i];c&&((e=c.create(r,{root:s})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:ks)(e,{},r)),e},hideInstance:function(i){i.visible=!1},unhideInstance:function(i,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;i.visible=t},finalizeInitialChildren:function(i,e,t){return!1},prepareUpdate:function(i,e,t,r,s,a){return V0=function(c,d,m,g){var _=null;for(var w in m)!g.hasOwnProperty(w)&&m.hasOwnProperty(w)&&m[w]!==null&&(w===wg||(_||(_=[]),_.push(w,null)));for(var S in g){var b=g[S],A=m!==null?m[S]:void 0;!g.hasOwnProperty(S)||b===A||b===null&&A===null||S===wg||(_||(_=[]),_.push(S,b))}return _}(0,0,t,r)},shouldSetTextContent:function(i,e){return!1},shouldDeprioritizeSubtree:function(i,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&r&&s)},createTextInstance:function(i,e,t){sr(!1,'Error trying to add text node "'.concat(i,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(i,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Tg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=zm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=zm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=zm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=W0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=W0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:$0,insertInContainerBefore:function(){for(var i,e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=$0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(i,e,t,r,s){var a,c,d=i&&i.applyProps;typeof d!="function"&&(d=ks),(d(i,r,s)||V0)&&((a=i.__reactpixi)===null||a===void 0||(c=a.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(i,e,t,r,s){},commitTextUpdate:function(i,e,t){},resetTextContent:function(i){},clearContainer:function(i){},getFundamentalComponentInstance:function(i){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(i){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},getInstanceFromNode:function(i){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(i){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(i){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(i){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(i){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(i){}}),cT=Mx.dependencies["react-dom"].replace(/[^0-9.]/g,""),dT=Mx.name;Xi.injectIntoDevTools({bundleType:0,version:cT,rendererPackageName:dT,findHostInstanceByFiber:Xi.findHostInstance});var _a=new Map;function Dx(i){if(sr(pn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`."),_a.has(i)){var e=_a.get(i).pixiFiberContainer;Xi.updateContainer(null,e,void 0,function(){_a.delete(i)})}}function Nx(i){sr(pn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`.");var e=_a.get(i);if(sr(!e,"createRoot should only be called once"),!e){var t=Xi.createContainer(i);e={pixiFiberContainer:t,reactRoot:{render:function(r){return Xi.updateContainer(r,t,void 0),Xi.getPublicRootInstance(t)},unmount:function(){Dx(i),_a.delete(i)}}},_a.set(i,e)}return e.reactRoot}function fT(i,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),_a.has(e)?r=_a.get(e).reactRoot:r=Nx(e),r.render(i)}function pT(i){Dx(i)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Sc.apply(this,arguments)}function mT(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function gT(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Cx(r.key),r)}}function lo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function uf(i,e){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},uf(i,e)}function yT(i,e){if(e&&(ei(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lo(i)}function hf(i){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hf(i)}var Cf=Cs.createContext(null),Ox=Cf.Provider,Fx=Cf.Consumer,vT=function(i){var e=Cs.forwardRef(function(t,r){return Cs.createElement(Fx,null,function(s){return Cs.createElement(i,Sc({},t,{ref:r,app:s}))})});return e.displayName="withPIXIApp(".concat(i.displayName||i.name,")"),e};function _T(i){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=hf(i);if(e){var s=hf(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return yT(this,t)}}function X0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function kd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X0(Object(t),!0).forEach(function(r){cr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):X0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Y0=function(){},Bx={width:zt.number,height:zt.number,onMount:zt.func,onUnmount:zt.func,raf:zt.bool,renderOnComponentChange:zt.bool,children:zt.node,options:zt.shape({autoStart:zt.bool,width:zt.number,height:zt.number,useContextAlpha:zt.bool,backgroundAlpha:zt.number,autoDensity:zt.bool,antialias:zt.bool,preserveDrawingBuffer:zt.bool,resolution:zt.number,forceCanvas:zt.bool,backgroundColor:zt.number,clearBeforeRender:zt.bool,powerPreference:zt.string,sharedTicker:zt.bool,sharedLoader:zt.bool,resizeTo:function(i,e){var t=i[e];t&&sr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ei(t),", expect `window` or an `HTMLElement`."))},view:function(i,e,t){var r=i[e];r&&sr(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ei(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},xT={width:800,height:600,onMount:Y0,onUnmount:Y0,raf:!0,renderOnComponentChange:!0},Ag=function(i){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),c&&uf(a,c)})(s,Cs.Component);var e,t,r=_T(s);function s(){var a;mT(this,s);for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];return cr(lo(a=r.call.apply(r,[this].concat(d))),"_canvas",null),cr(lo(a),"_mediaQuery",null),cr(lo(a),"_ticker",null),cr(lo(a),"_needsUpdate",!0),cr(lo(a),"app",null),cr(lo(a),"updateSize",function(){var g=a.props,_=g.width,w=g.height,S=g.options;S!=null&&S.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(_,w)}),cr(lo(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),cr(lo(a),"renderStage",function(){var g=a.props,_=g.renderOnComponentChange;!g.raf&&_&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return e=s,(t=[{key:"componentDidMount",value:function(){var a=this.props,c=a.onMount,d=a.width,m=a.height,g=a.options,_=a.raf,w=a.renderOnComponentChange;this.app=new Af(kd(kd({width:d,height:m,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[_?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Xi.createContainer(this.app.stage),Xi.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),w&&!_&&(this._ticker=new Nr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,c,d){var m,g=this.props,_=g.width,w=g.height,S=g.raf,b=g.renderOnComponentChange,A=g.options;(A==null?void 0:A.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(A==null?void 0:A.resolution)&&(this.app.renderer.resolution=A.resolution,this.resetInteractionManager()),a.height===w&&a.width===_&&((m=a.options)===null||m===void 0?void 0:m.resolution)===(A==null?void 0:A.resolution)||this.updateSize(),a.raf!==S&&this.app.ticker[S?"start":"stop"](),Xi.updateContainer(this.getChildren(),this.mountNode,this),a.width===_&&a.height===w&&a.raf===S&&a.renderOnComponentChange===b&&a.options===A||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return Cs.createElement(Ox,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,c){console.error("Error occurred in `Stage`."),console.error(a),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Xi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,c,d=this,m=this.props.options;return m&&m.view?(sr(m.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Cs.createElement("canvas",Sc({},(a=this.props,c=[].concat(go(Object.keys(Bx)),go(Object.keys(Eg))),Object.keys(a).filter(function(g){return!c.includes(g)}).reduce(function(g,_){return kd(kd({},g),{},cr({},_,a[_]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&gT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();Ag.propTypes=Bx,Ag.defaultProps=xT;var wT=Ag;function Lx(){var i=Lt.useContext(Cf);return sr(i instanceof Af,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}function ET(i){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=Lx();sr(typeof i=="function","`useTick` needs a callback function."),sr(t instanceof Af,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=Lt.useRef(null);Lt.useEffect(function(){r.current=i},[i]),Lt.useEffect(function(){if(e){var s=function(a){return r.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function ST(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cg(i,e,t){return Cg=ST()?Reflect.construct.bind():function(r,s,a){var c=[null];c.push.apply(c,s);var d=new(Function.bind.apply(r,c));return a&&uf(d,a.prototype),d},Cg.apply(null,arguments)}var bT=["children","apply"];function q0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,r)}return t}function Dd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q0(Object(t),!0).forEach(function(r){cr(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):q0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var TT=function(i,e){sr(ei(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(s){var a=s.children,c=s.apply,d=Sa(s,bT),m=Lt.useRef(Lt.useMemo(function(){return t.map(function(w){var S,b=(d==null||(S=d[w])===null||S===void 0?void 0:S.construct)||[];return Cg(e[w],go(b))})},[t])),g=Lt.useMemo(function(){return t.reduce(function(w,S,b){return Dd(Dd({},w),{},cr({},S,m.current[b]))},{})},[t]),_=Lt.useMemo(function(){return Object.keys(d).filter(Rx(Px(t))).reduce(function(w,S){return Dd(Dd({},w),{},cr({},S,d[S]))},{})},[d,t]);return t.forEach(function(w,S){return Object.assign(m.current[S],d[w])}),c&&function(){for(var w=arguments.length,S=new Array(w),b=0;b<w;b++)S[b]=arguments[b];return S.every(function(A){return typeof A=="function"})}(c)&&c.call(i,g),Cs.createElement(i,Sc({},_,{filters:m.current}),a)};return r.displayName="FilterWrapper",r.propTypes={children:zt.node,apply:zt.func},r},AT=Ln.BitmapText,CT=Ln.Container,PT=Ln.Graphics,RT=Ln.NineSlicePlane,IT=Ln.ParticleContainer,MT=Ln.Sprite,kT=Ln.AnimatedSprite,DT=Ln.Text,NT=Ln.TilingSprite,OT=Ln.SimpleMesh,FT=Ln.SimpleRope;const BT=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:kT,AppConsumer:Fx,AppContext:Cf,AppProvider:Ox,BitmapText:AT,Container:CT,Graphics:PT,NineSlicePlane:RT,ParticleContainer:IT,PixiComponent:sT,PixiFiber:Xi,SimpleMesh:OT,SimpleRope:FT,Sprite:MT,Stage:wT,TYPES:Ln,Text:DT,TilingSprite:NT,applyDefaultProps:ks,createRoot:Nx,eventHandlers:lf,render:fT,unmountComponentAtNode:pT,useApp:Lx,useTick:ET,withFilters:TT,withPixiApp:vT},Symbol.toStringTag,{value:"Module"})),LT=l_(BT);var Q0;function UT(){return Q0||(Q0=1,gc.exports=LT),gc.exports}var Hr=UT();const Ux=new Ht;Xt.prototype._cacheAsBitmap=!1;Xt.prototype._cacheData=null;Xt.prototype._cacheAsBitmapResolution=null;Xt.prototype._cacheAsBitmapMultisample=null;class zT{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Xt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(i){i!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(i){if(this._cacheAsBitmap===i)return;this._cacheAsBitmap=i;let e;i?(this._cacheData||(this._cacheData=new zT),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Xt.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))};Xt.prototype._initCachedDisplayObject=function(i){var S,b;if((S=this._cacheData)!=null&&S.sprite)return;const e=this.alpha;this.alpha=1,i.batch.flush();const t=this.getLocalBounds(new ot,!0);if((b=this.filters)!=null&&b.length){const A=this.filters[0].padding;t.pad(A)}const r=this.cacheAsBitmapResolution||i.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const s=i.renderTexture.current,a=i.renderTexture.sourceFrame.clone(),c=i.renderTexture.destinationFrame.clone(),d=i.projection.transform,m=Bl.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??i.multisample}),g=`cacheAsBitmap_${Ol()}`;this._cacheData.textureCacheId=g,it.addToCache(m.baseTexture,g),ke.addToCache(m,g);const _=this.transform.localTransform.copyTo(Ux).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,i.render(this,{renderTexture:m,clear:!0,transform:_,skipUpdateTransform:!1}),i.framebuffer.blit(),i.projection.transform=d,i.renderTexture.bind(s,a,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const w=new Ns(m);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(t.x/t.width),w.anchor.y=-(t.y/t.height),w.alpha=e,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)};Xt.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))};Xt.prototype._initCachedDisplayObjectCanvas=function(i){var _;if((_=this._cacheData)!=null&&_.sprite)return;const e=this.getLocalBounds(new ot,!0),t=this.alpha;this.alpha=1;const r=i.canvasContext.activeContext,s=i._projTransform,a=this.cacheAsBitmapResolution||i.resolution;e.ceil(a),e.width=Math.max(e.width,1/a),e.height=Math.max(e.height,1/a);const c=Bl.create({width:e.width,height:e.height,resolution:a}),d=`cacheAsBitmap_${Ol()}`;this._cacheData.textureCacheId=d,it.addToCache(c.baseTexture,d),ke.addToCache(c,d);const m=Ux;this.transform.localTransform.copyTo(m),m.invert(),m.tx-=e.x,m.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,{renderTexture:c,clear:!0,transform:m,skipUpdateTransform:!1}),i.canvasContext.activeContext=r,i._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Ns(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};Xt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Xt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Xt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,it.removeFromCache(this._cacheData.textureCacheId),ke.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Xt.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)};Xt.prototype.name=null;pn.prototype.getChildByName=function(i,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===i)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const s=this.children[t];if(!s.getChildByName)continue;const a=s.getChildByName(i,!0);if(a)return a}return null};Xt.prototype.getGlobalPosition=function(i=new dt,e=!1){return this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var GT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class HT extends fn{constructor(e=1){super(JE,GT,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const jT={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},WT=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function $T(i){const e=jT[i],t=e.length;let r=WT,s="";const a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<i;d++){let m=a.replace("%index%",d.toString());c=d,d>=t&&(c=i-d-1),m=m.replace("%value%",e[c].toString()),s+=m,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",i.toString()),r}const VT=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function XT(i,e){const t=Math.ceil(i/2);let r=VT,s="",a;e?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<i;c++){let d=a.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),s+=d,s+=`
`}return r=r.replace("%blur%",s),r=r.replace("%size%",i.toString()),r}class Pg extends fn{constructor(e,t=8,r=4,s=fn.defaultResolution,a=5){const c=XT(a,e),d=$T(a);super(c,d),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,s);else{const a=e.getFilterTexture(),c=e.renderer;let d=t,m=a;this.state.blend=!1,e.applyFilter(this,d,m,Ts.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,Ts.BLIT),this.uniforms.uSampler=m;const _=m;m=d,d=_,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,m,r,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class YT extends fn{constructor(e=8,t=4,r=fn.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Pg(!0,e,t,r,s),this.blurYFilter=new Pg(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){const a=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(a&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,Ts.CLEAR),this.blurYFilter.apply(e,d,r,s),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var qT=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class cf extends fn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(rx,qT,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,s,a]=Ut.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),s=Math.sin(e),a=Math.sqrt,c=1/3,d=a(c),m=r+(1-r)*c,g=c*(1-r)-d*s,_=c*(1-r)+d*s,w=c*(1-r)+d*s,S=r+c*(1-r),b=c*(1-r)-d*s,A=c*(1-r)-d*s,I=c*(1-r)+d*s,P=r+c*(1-r),k=[m,g,_,0,0,w,S,b,0,0,A,I,P,0,0,0,0,0,1,0];this._loadMatrix(k,t)}contrast(e,t){const r=(e||0)+1,s=-.5*(r-1),a=[r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0];this._loadMatrix(a,t)}saturate(e=0,t){const r=e*2/3+1,s=(r-1)*-.5,a=[r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0];this._loadMatrix(a,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,s,a){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;const c=Ut.shared,[d,m,g]=c.setValue(r).toArray(),[_,w,S]=c.setValue(s).toArray(),b=[.3,.59,.11,0,0,d,m,g,e,0,_,w,S,t,0,d-_,m-w,g-S,0,0];this._loadMatrix(b,a)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}cf.prototype.grayscale=cf.prototype.greyscale;var QT=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,KT=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class ZT extends fn{constructor(e,t){const r=new Ht;e.renderable=!1,super(KT,QT,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new dt(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const a=this.maskSprite.worldTransform,c=Math.sqrt(a.a*a.a+a.b*a.b),d=Math.sqrt(a.c*a.c+a.d*a.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=a.a/c,this.uniforms.rotation[1]=a.b/c,this.uniforms.rotation[2]=a.c/d,this.uniforms.rotation[3]=a.d/d),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var JT=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,eA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class tA extends fn{constructor(){super(eA,JT)}}var rA=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class nA extends fn{constructor(e=.5,t=Math.random()){super(rx,rA,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const K0={AlphaFilter:HT,BlurFilter:YT,BlurFilterPass:Pg,ColorMatrixFilter:cf,DisplacementFilter:ZT,FXAAFilter:tA,NoiseFilter:nA};Object.entries(K0).forEach(([i,e])=>{Object.defineProperty(K0,i,{get(){return ct("7.1.0",`filters.${i} has moved to ${i}`),e}})});class iA{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Nr.system.add(this.tickerUpdate,this,wa.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Nr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ga=new iA;class Cc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Cc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new dt,this.page=new dt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class df extends Cc{constructor(){super(...arguments),this.client=new dt,this.movement=new dt,this.offset=new dt,this.global=new dt,this.screen=new dt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,a,c,d,m,g,_,w,S,b,A,I){throw new Error("Method not implemented.")}}class Wi extends df{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ku extends df{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ku.DOM_DELTA_PIXEL=0,Ku.DOM_DELTA_LINE=1,Ku.DOM_DELTA_PAGE=2;const sA=2048,oA=new dt,Gm=new dt;class aA{constructor(e){this.dispatch=new Tc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,s)=>r.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){ga.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[r](this.rootTarget,this.rootTarget.eventMode,oA.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=r.length-1;s<a;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let a=r.length-1;a>=0;a--)s.forEach(c=>{e.currentTarget=r[a],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<sA&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,a,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(ga.pauseUpdate=!1),e.interactiveChildren&&e.children){const _=e.children;for(let w=_.length-1;w>=0;w--){const S=_[w],b=this.hitTestMoveRecursive(S,this._isInteractive(t)?t:S.eventMode,r,s,a,c||a(e,r));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const A=e.isInteractive();(b.length>0||A)&&(A&&this._allInteractiveElements.push(e),b.push(e)),this._hitElements.length===0&&(this._hitElements=b),d=!0}}}const m=this._isInteractive(t),g=e.isInteractive();return m&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:m&&!a(e,r)&&s(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,s,a){if(this._interactivePrune(e)||a(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(ga.pauseUpdate=!1),e.interactiveChildren&&e.children){const m=e.children;for(let g=m.length-1;g>=0;g--){const _=m[g],w=this.hitTestRecursive(_,this._isInteractive(t)?t:_.eventMode,r,s,a);if(w){if(w.length>0&&!w[w.length-1].parent)continue;const S=e.isInteractive();return(w.length>0||S)&&w.push(e),w}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&s(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,Gm),!e.hitArea.contains(Gm.x,Gm.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((r=s.containsPoint)!=null&&r.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var a,c;t=t??e.type;const r=`on${t}`;(c=(a=e.currentTarget)[r])==null||c.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var m,g;if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((m=s.overTargets)==null?void 0:m.length)>0&&a!==t.target){const _=e.type==="mousemove"?"mouseout":"pointerout",w=this.createPointerEvent(e,_,a);if(this.dispatchEvent(w,"pointerout"),r&&this.dispatchEvent(w,"mouseout"),!t.composedPath().includes(a)){const S=this.createPointerEvent(e,"pointerleave",a);for(S.eventPhase=S.AT_TARGET;S.target&&!t.composedPath().includes(S.target);)S.currentTarget=S.target,this.notifyTarget(S),r&&this.notifyTarget(S,"mouseleave"),S.target=S.target.parent;this.freeEvent(S)}this.freeEvent(w)}if(a!==t.target){const _=e.type==="mousemove"?"mouseover":"pointerover",w=this.clonePointerEvent(t,_);this.dispatchEvent(w,"pointerover"),r&&this.dispatchEvent(w,"mouseover");let S=a==null?void 0:a.parent;for(;S&&S!==this.rootTarget.parent&&S!==t.target;)S=S.parent;if(!S||S===this.rootTarget.parent){const b=this.clonePointerEvent(t,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==a&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),r&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(w)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),r&&this.dispatchEvent(a,"mouseout");const c=this.createPointerEvent(e,"pointerleave",s);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let c=a;if(a&&!r.composedPath().includes(a)){let d=a;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const m=r.button===2;this.notifyTarget(r,m?"rightupoutside":"mouseupoutside")}d=d.parent}delete s.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const m=s.clicksByButton[e.button];if(m.target===d.target&&t-m.timeStamp<200?++m.clickCount:m.clickCount=1,m.target=d.target,m.timeStamp=t,d.detail=m.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let a=r;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof Ku)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const s=this.allocateEvent(Wi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(Ku);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(Wi);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Wi&&t instanceof Wi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof df&&t instanceof df&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,a=r.length;s<a&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}const lA=1,uA={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Rg=class Ig{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new aA(null),ga.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Wi(null),this.rootWheelEvent=new Ku(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Ig.defaultEventFeatures},{set:(t,r,s)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[r]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,Ig._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,s=t.length;r<s;r++){const a=t[r],c=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ga.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,c=s.length;a<c;a++){const d=this.bootstrapEvent(this.rootPointerEvent,s[a]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,s=t.length;r<s;r++){const a=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,ga.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ga.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ga.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*a,e.y=(r-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){const a=e.changedTouches[r];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=lA),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=uA[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Rg.extension={name:"events",type:[De.RendererSystem,De.CanvasRendererSystem]},Rg.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Mg=Rg;Xe.add(Mg);function Z0(i){return i==="dynamic"||i==="static"}const hA={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Z0(Mg.defaultEventMode)},set interactive(i){ct("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=i,this.eventMode=i?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Mg.defaultEventMode},set eventMode(i){this._internalInteractive=Z0(i),this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;i=r?`${i}capture`:i;const d=typeof e=="function"?e:e.handleEvent,m=this;s&&s.addEventListener("abort",()=>{m.off(i,d,c)}),a?m.once(i,d,c):m.on(i,d,c)},removeEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;i=r?`${i}capture`:i,e=typeof e=="function"?e:e.handleEvent,this.off(i,e,s)},dispatchEvent(i){if(!(i instanceof Cc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};Xt.mixin(hA);const cA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Xt.mixin(cA);const dA=9,Nd=100,fA=0,pA=0,J0=2,e_=1,mA=-1e3,gA=-1e3,yA=2;class zx{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ho.tablet||ho.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${Nd}px`,t.style.height=`${Nd}px`,t.style.position="absolute",t.style.top=`${fA}px`,t.style.left=`${pA}px`,t.style.zIndex=J0.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${e_}px`,e.style.height=`${e_}px`,e.style.position="absolute",e.style.top=`${mA}px`,e.style.left=`${gA}px`,e.style.zIndex=yA.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(ho.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:m}=this.renderer,g=s/c*m,_=a/d*m;let w=this.div;w.style.left=`${t}px`,w.style.top=`${r}px`,w.style.width=`${c}px`,w.style.height=`${d}px`;for(let S=0;S<this.children.length;S++){const b=this.children[S];if(b.renderId!==this.renderId)b._accessibleActive=!1,Xu(this.children,S,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,S--;else{w=b._accessibleDiv;let A=b.hitArea;const I=b.worldTransform;b.hitArea?(w.style.left=`${(I.tx+A.x*I.a)*g}px`,w.style.top=`${(I.ty+A.y*I.d)*_}px`,w.style.width=`${A.width*I.a*g}px`,w.style.height=`${A.height*I.d*_}px`):(A=b.getBounds(),this.capHitArea(A),w.style.left=`${A.x*g}px`,w.style.top=`${A.y*_}px`,w.style.width=`${A.width*g}px`,w.style.height=`${A.height*_}px`,w.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(w.title=b.accessibleTitle),w.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&w.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==w.title||b.tabIndex!==w.tabIndex)&&(w.title=b.accessibleTitle,w.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${Nd}px`,t.style.height=`${Nd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=J0.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,a=Object.assign(new Cc(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>s.dispatchEvent(a,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===dA&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}zx.extension={name:"accessibility",type:[De.RendererPlugin,De.CanvasRendererPlugin]};Xe.add(zx);var Gr=(i=>(i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",i[i.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",i[i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",i[i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",i[i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",i))(Gr||{});const ff={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let bs,Gu;function t_(){Gu={bptc:bs.getExtension("EXT_texture_compression_bptc"),astc:bs.getExtension("WEBGL_compressed_texture_astc"),etc:bs.getExtension("WEBGL_compressed_texture_etc"),s3tc:bs.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:bs.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:bs.getExtension("WEBGL_compressed_texture_pvrtc")||bs.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:bs.getExtension("WEBGL_compressed_texture_etc1"),atc:bs.getExtension("WEBGL_compressed_texture_atc")}}const vA={extension:{type:De.DetectionParser,priority:2},test:async()=>{const i=Be.ADAPTER.createCanvas().getContext("webgl");return i?(bs=i,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async i=>{Gu||t_();const e=[];for(const t in Gu)Gu[t]&&e.push(t);return[...e,...i]},remove:async i=>(Gu||t_(),i.filter(e=>!(e in Gu)))};Xe.add(vA);class _A extends gf{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;typeof e=="string"?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new Km(s):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Km(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Nl extends _A{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=Nl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||Nl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let a=0,c=this.levels;a<c;a++){const{levelID:d,levelWidth:m,levelHeight:g,levelBuffer:_}=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,m,g,0,_)}return!0}onBlobLoaded(){this._levelBuffers=Nl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,a,c,d){const m=new Array(r);let g=e.byteOffset,_=c,w=d,S=_+s-1&~(s-1),b=w+a-1&~(a-1),A=S*b*ff[t];for(let I=0;I<r;I++)m[I]={levelID:I,levelWidth:r>1?_:S,levelHeight:r>1?w:b,levelBuffer:new Uint8Array(e.buffer,g,A)},g+=A,_=_>>1||1,w=w>>1||1,S=_+s-1&~(s-1),b=w+a-1&~(a-1),A=S*b*ff[t];return m}}const Hm=4,Od=124,xA=32,r_=20,wA=542327876,Fd={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},EA={FOURCC:2},Bd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},SA=1,bA=2,TA=4,AA=64,CA=512,PA=131072,RA=827611204,IA=861165636,MA=894720068,kA=808540228,DA=4,NA={[RA]:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[IA]:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[MA]:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT},OA={70:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Gr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Gr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Gr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Gr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Gr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Gr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Gr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Gr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function FA(i){const e=new Uint32Array(i);if(e[0]!==wA)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(i,0,Od/Uint32Array.BYTES_PER_ELEMENT),r=t[Fd.HEIGHT],s=t[Fd.WIDTH],a=t[Fd.MIPMAP_COUNT],c=new Uint32Array(i,Fd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,xA/Uint32Array.BYTES_PER_ELEMENT),d=c[SA];if(d&TA){const m=c[EA.FOURCC];if(m!==kA){const z=NA[m],F=Hm+Od,W=new Uint8Array(i,F);return[new Nl(W,{format:z,width:s,height:r,levels:a})]}const g=Hm+Od,_=new Uint32Array(e.buffer,g,r_/Uint32Array.BYTES_PER_ELEMENT),w=_[Bd.DXGI_FORMAT],S=_[Bd.RESOURCE_DIMENSION],b=_[Bd.MISC_FLAG],A=_[Bd.ARRAY_SIZE],I=OA[w];if(I===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${w}`);if(b===DA)throw new Error("DDSParser does not support cubemap textures");if(S===6)throw new Error("DDSParser does not supported 3D texture data");const P=new Array,k=Hm+Od+r_;if(A===1)P.push(new Uint8Array(i,k));else{const z=ff[I];let F=0,W=s,L=r;for(let N=0;N<a;N++){const J=Math.max(1,W+3&-4),ce=Math.max(1,L+3&-4),fe=J*ce*z;F+=fe,W=W>>>1,L=L>>>1}let K=k;for(let N=0;N<A;N++)P.push(new Uint8Array(i,K,F)),K+=F}return P.map(z=>new Nl(z,{format:I,width:s,height:r,levels:a}))}throw d&AA?new Error("DDSParser does not support uncompressed texture data."):d&CA?new Error("DDSParser does not supported YUV uncompressed texture data."):d&PA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&bA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const n_=[171,75,84,88,32,49,49,187,13,10,26,10],BA=67305985,Hi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},kg=64,i_={[Ke.UNSIGNED_BYTE]:1,[Ke.UNSIGNED_SHORT]:2,[Ke.INT]:4,[Ke.UNSIGNED_INT]:4,[Ke.FLOAT]:4,[Ke.HALF_FLOAT]:8},LA={[Ae.RGBA]:4,[Ae.RGB]:3,[Ae.RG]:2,[Ae.RED]:1,[Ae.LUMINANCE]:1,[Ae.LUMINANCE_ALPHA]:2,[Ae.ALPHA]:1},UA={[Ke.UNSIGNED_SHORT_4_4_4_4]:2,[Ke.UNSIGNED_SHORT_5_5_5_1]:2,[Ke.UNSIGNED_SHORT_5_6_5]:2};function zA(i,e,t=!1){const r=new DataView(e);if(!GA(i,r))return null;const s=r.getUint32(Hi.ENDIANNESS,!0)===BA,a=r.getUint32(Hi.GL_TYPE,s),c=r.getUint32(Hi.GL_FORMAT,s),d=r.getUint32(Hi.GL_INTERNAL_FORMAT,s),m=r.getUint32(Hi.PIXEL_WIDTH,s),g=r.getUint32(Hi.PIXEL_HEIGHT,s)||1,_=r.getUint32(Hi.PIXEL_DEPTH,s)||1,w=r.getUint32(Hi.NUMBER_OF_ARRAY_ELEMENTS,s)||1,S=r.getUint32(Hi.NUMBER_OF_FACES,s),b=r.getUint32(Hi.NUMBER_OF_MIPMAP_LEVELS,s),A=r.getUint32(Hi.BYTES_OF_KEY_VALUE_DATA,s);if(g===0||_!==1)throw new Error("Only 2D textures are supported");if(S!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(w!==1)throw new Error("WebGL does not support array textures");const I=4,P=4,k=m+3&-4,z=g+3&-4,F=new Array(w);let W=m*g;a===0&&(W=k*z);let L;if(a!==0?i_[a]?L=i_[a]*LA[c]:L=UA[a]:L=ff[d],L===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const K=t?jA(r,A,s):null;let N=W*L,J=m,ce=g,fe=k,Pe=z,Q=kg+A;for(let Z=0;Z<b;Z++){const le=r.getUint32(Q,s);let Te=Q+4;for(let B=0;B<w;B++){let G=F[B];G||(G=F[B]=new Array(b)),G[Z]={levelID:Z,levelWidth:b>1||a!==0?J:fe,levelHeight:b>1||a!==0?ce:Pe,levelBuffer:new Uint8Array(e,Te,N)},Te+=N}Q+=le+4,Q=Q%4!==0?Q+4-Q%4:Q,J=J>>1||1,ce=ce>>1||1,fe=J+I-1&-4,Pe=ce+P-1&-4,N=fe*Pe*L}return a!==0?{uncompressed:F.map(Z=>{let le=Z[0].levelBuffer,Te=!1;return a===Ke.FLOAT?le=new Float32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4):a===Ke.UNSIGNED_INT?(Te=!0,le=new Uint32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)):a===Ke.INT&&(Te=!0,le=new Int32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)),{resource:new gf(le,{width:Z[0].levelWidth,height:Z[0].levelHeight}),type:a,format:Te?HA(c):c}}),kvData:K}:{compressed:F.map(Z=>new Nl(null,{format:d,width:m,height:g,levels:b,levelBuffers:Z})),kvData:K}}function GA(i,e){for(let t=0;t<n_.length;t++)if(e.getUint8(t)!==n_[t])return console.error(`${i} is not a valid *.ktx file!`),!1;return!0}function HA(i){switch(i){case Ae.RGBA:return Ae.RGBA_INTEGER;case Ae.RGB:return Ae.RGB_INTEGER;case Ae.RG:return Ae.RG_INTEGER;case Ae.RED:return Ae.RED_INTEGER;default:return i}}function jA(i,e,t){const r=new Map;let s=0;for(;s<e;){const a=i.getUint32(kg+s,t),c=kg+s+4,d=3-(a+3)%4;if(a===0||a>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let m=0;for(;m<a&&i.getUint8(c+m)!==0;m++);if(m===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(i.buffer,c,m)),_=new DataView(i.buffer,c+m+1,a-m-1);r.set(g,_),s+=4+a+d}return r}const WA={extension:{type:De.LoadParser,priority:Qi.High},name:"loadDDS",test(i){return Ea(i,".dds")},async load(i,e,t){const r=await(await Be.ADAPTER.fetch(i)).arrayBuffer(),s=FA(r).map(a=>{const c=new it(a,{mipmap:Is.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:po(i),...e.data});return Ac(c,t,i)});return s.length===1?s[0]:s},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Xe.add(WA);const $A={extension:{type:De.LoadParser,priority:Qi.High},name:"loadKTX",test(i){return Ea(i,".ktx")},async load(i,e,t){const r=await(await Be.ADAPTER.fetch(i)).arrayBuffer(),{compressed:s,uncompressed:a,kvData:c}=zA(i,r),d=s??a,m={mipmap:Is.OFF,alphaMode:Bn.NO_PREMULTIPLIED_ALPHA,resolution:po(i),...e.data},g=d.map(_=>{d===a&&Object.assign(m,{type:_.type,format:_.format});const w=_.resource??_,S=new it(w,m);return S.ktxKeyValueData=c,Ac(S,t,i)});return g.length===1?g[0]:g},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Xe.add($A);const VA=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],XA={extension:De.ResolveParser,test:i=>{const e=Or.extname(i).slice(1);return["basis","ktx","dds"].includes(e)},parse:i=>{var r,s;const e=i.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const a=e.pop();if(VA.includes(a))return{resolution:parseFloat(((r=Be.RETINA_PREFIX.exec(i))==null?void 0:r[1])??"1"),format:a,src:i}}return{resolution:parseFloat(((s=Be.RETINA_PREFIX.exec(i))==null?void 0:s[1])??"1"),format:t,src:i}}};Xe.add(XA);const Ld=new ot,YA=4,Gx=class pc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){const a=new Image;return a.src=await this.base64(e,t,r,s),a}async base64(e,t,r,s){const a=this.canvas(e,s);if(a.toBlob!==void 0)return new Promise((c,d)=>{a.toBlob(m=>{if(!m){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(m)},t,r)});if(a.toDataURL!==void 0)return a.toDataURL(t,r);if(a.convertToBlob!==void 0){const c=await a.convertToBlob({type:t,quality:r});return new Promise((d,m)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=m,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&pc._flipY(r,s,a),d&&pc._unpremultiplyAlpha(r);const m=new Lw(s,a,1),g=new ImageData(new Uint8ClampedArray(r.buffer),s,a);return m.context.putImageData(g,0,0),m.canvas}pixels(e,t){const{pixels:r,width:s,height:a,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&pc._flipY(r,s,a),d&&pc._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let s,a=!1,c=!1,d,m=!1;e&&(e instanceof Bl?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),m=!0,t&&(Ld.width=t.width,Ld.height=t.height,t=Ld)));const g=r.gl;if(d){if(s=d.baseTexture.resolution,t=t??d.frame,a=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ae.RGBA,!m){r.renderTexture.bind(d);const b=d.framebuffer.glFramebuffers[r.CONTEXT_UID];b.blitFramebuffer&&r.framebuffer.bind(b.blitFramebuffer)}}else s=r.resolution,t||(t=Ld,t.width=r.width/s,t.height=r.height/s),a=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const _=Math.max(Math.round(t.width*s),1),w=Math.max(Math.round(t.height*s),1),S=new Uint8Array(YA*_*w);return g.readPixels(Math.round(t.x*s),Math.round(t.y*s),_,w,g.RGBA,g.UNSIGNED_BYTE,S),m&&(d==null||d.destroy(!0)),{pixels:S,width:_,height:w,flipY:a,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const s=t<<2,a=r>>1,c=new Uint8Array(s);for(let d=0;d<a;d++){const m=d*s,g=(r-d-1)*s;c.set(e.subarray(m,m+s)),e.copyWithin(m,g,g+s),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const s=e[r+3];if(s!==0){const a=255.001/s;e[r]=e[r]*a+.5,e[r+1]=e[r+1]*a+.5,e[r+2]=e[r+2]*a+.5}}}};Gx.extension={name:"extract",type:De.RendererSystem};let qA=Gx;Xe.add(qA);class QA{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function KA(i,e){var r;let t=!1;if((r=i==null?void 0:i._textures)!=null&&r.length){for(let s=0;s<i._textures.length;s++)if(i._textures[s]instanceof ke){const a=i._textures[s].baseTexture;e.includes(a)||(e.push(a),t=!0)}}return t}function ZA(i,e){if(i.baseTexture instanceof it){const t=i.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function JA(i,e){if(i._texture&&i._texture instanceof ke){const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function eC(i,e){return e instanceof jg?(e.updateText(!0),!0):!1}function tC(i,e){if(e instanceof Jn){const t=e.toFontString();return ma.measureFont(t),!0}return!1}function rC(i,e){if(i instanceof jg){e.includes(i.style)||e.push(i.style),e.includes(i)||e.push(i);const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function nC(i,e){return i instanceof Jn?(e.includes(i)||e.push(i),!0):!1}const Hx=class jx{constructor(e){this.limiter=new QA(jx.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(rC),this.registerFindHook(nC),this.registerFindHook(KA),this.registerFindHook(ZA),this.registerFindHook(JA),this.registerUploadHook(eC),this.registerUploadHook(tC)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,Nr.system.addOnce(this.tick,this,wa.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)Nr.system.addOnce(this.tick,this,wa.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof pn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&Nr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Hx.uploadsPerFrame=4;let Dg=Hx;Object.defineProperties(Be,{UPLOADS_PER_FRAME:{get(){return Dg.uploadsPerFrame},set(i){ct("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Dg.uploadsPerFrame=i}}});function Wx(i,e){return e instanceof it?(e._glTextures[i.CONTEXT_UID]||i.texture.bind(e),!0):!1}function iC(i,e){if(!(e instanceof vc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let s=0;s<r.length;s++){const{texture:a}=r[s].style;a&&Wx(i,a.baseTexture)}return t.batchable||i.geometry.bind(t,e._resolveDirectShader(i)),!0}function sC(i,e){return i instanceof vc?(e.push(i),!0):!1}class $x extends Dg{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(sC),this.registerUploadHook(Wx),this.registerUploadHook(iC)}}$x.extension={name:"prepare",type:De.RendererSystem};Xe.add($x);const Vx=class mc{constructor(e,t,r){this.linkedSheets=[],(e instanceof it||e instanceof ke)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:s,data:a,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=s instanceof ke?s:null,this.baseTexture=s instanceof it?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;const m=this.baseTexture.resource;this.resolution=this._updateResolution(c||(m?m.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=po(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=mc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=mc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const s=this._frameKeys[t],a=this._frames[s],c=a.frame;if(c){let d=null,m=null;const g=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,_=new ot(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);a.rotated?d=new ot(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new ot(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(m=new ot(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[s]=new ke(this.baseTexture,d,_,m,a.rotated?2:0,a.anchor,a.borders),ke.addToCache(this.textures[s],this.cachePrefix+s.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*mc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*mc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Vx.BATCH_SIZE=1e3;let s_=Vx;const oC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Xx(i,e,t){const r={};if(i.forEach(s=>{r[s]=e}),Object.keys(e.textures).forEach(s=>{r[`${e.cachePrefix}${s}`]=e.textures[s]}),!t){const s=Or.dirname(i[0]);e.linkedSheets.forEach((a,c)=>{Object.assign(r,Xx([`${s}/${e.data.meta.related_multi_packs[c]}`],a,!0))})}return r}const aC={extension:De.Asset,cache:{test:i=>i instanceof s_,getCacheableAssets:(i,e)=>Xx(i,e,!1)},resolver:{test:i=>{const e=i.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&oC.includes(r)},parse:i=>{var t;const e=i.split(".");return{resolution:parseFloat(((t=Be.RETINA_PREFIX.exec(i))==null?void 0:t[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:De.LoadParser,priority:Qi.Normal},async testParse(i,e){return Or.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,t){var _,w;const{texture:r,imageFilename:s,cachePrefix:a}=(e==null?void 0:e.data)??{};let c=Or.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const S=yg(c+(s??i.meta.image),e.src);d=(await t.load([S]))[S]}const m=new s_({texture:d.baseTexture,data:i,resolutionFilename:e.src,cachePrefix:a});await m.parse();const g=(_=i==null?void 0:i.meta)==null?void 0:_.related_multi_packs;if(Array.isArray(g)){const S=[];for(const A of g){if(typeof A!="string")continue;let I=c+A;(w=e.data)!=null&&w.ignoreMultiPack||(I=yg(I,e.src),S.push(t.load({src:I,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(S);m.linkedSheets=b,b.forEach(A=>{A.linkedSheets=[m].concat(m.linkedSheets.filter(I=>I!==A))})}return m},unload(i){i.destroy(!0)}}};Xe.add(aC);const Ng=class Hu extends Jn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Hu(Object.keys(Hu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Hu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=Hu;if(r[e]){const s=r[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Be.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((a,c)=>{const d=URL.createObjectURL(s),m=new FileReader;m.onload=()=>a([d,m.result]),m.onerror=c,m.readAsDataURL(s)})).then(async([s,a])=>{const c=Object.assign({family:Or.basename(e,Or.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:a,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Nw(e)),typeof e=="number"?Dw(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const a=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${a} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${a} ${e}`}reset(){Object.assign(this,Hu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Ng.availableFonts={},Ng.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let jm=Ng;const Ud=class ju extends Ns{constructor(e="",t={}){super(ke.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,s=ke.from(r,{scaleMode:Be.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new ot,s.trim=new ot,this.texture=s;const a="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(a,"svg"),m=document.createElementNS(a,"foreignObject"),g=document.createElementNS(c,"div"),_=document.createElementNS(c,"style");m.setAttribute("width","10000"),m.setAttribute("height","10000"),m.style.overflow="hidden",d.appendChild(m),this.maxWidth=ju.defaultMaxWidth,this.maxHeight=ju.defaultMaxHeight,this._domElement=g,this._styleElement=_,this._svgRoot=d,this._foreignObject=m,this._foreignObject.appendChild(_),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=ju.defaultAutoResolution,this._resolution=ju.defaultResolution??Be.RESOLUTION,this.text=e,this.style=t}measureText(e){var _,w;const{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const a=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=a;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const m=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",m.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(_=this._style)==null?void 0:_.toCSS(s)}),this._styleElement.textContent=(w=this._style)==null?void 0:w.toGlobalCSS()),{width:m+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:a,height:c}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,a)),r.height=s.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(m=>{s.onload=async()=>{if(d<this._updateID){m();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),m()};const g=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:s}=this,{padding:a}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,s,a,c,d;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},ju.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(s=this._svgRoot)==null||s.remove(),this._svgRoot=t,(a=this._domElement)==null||a.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(d=this._styleElement)==null||d.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=ya(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=ya(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof jm?(this.ownsStyle=!1,this._style=e):e instanceof Jn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=jm.from(e)):(this.ownsStyle=!0,this._style=new jm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ud.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ud.defaultMaxWidth=2024,Ud.defaultMaxHeight=2024,Ud.defaultAutoResolution=!0;const Wm=150,$m=150,lC=({key:i,x:e,y:t,onClick:r,isActive:s,label:a,isClicked:c})=>{const d=Lt.useRef(),[m,g]=Lt.useState(null),_=new cf;_.desaturate(),Lt.useLayoutEffect(()=>{d.current&&g(d.current)},[]);const S=c&&a?(b=>{switch(b){case"0$":return ke.from("chest_loss.jpg");default:return ke.from("chest_won.jpg")}})(a):ke.from("chest_closed.jpg");return Gt.jsxs(Hr.Container,{x:e,y:t,children:[Gt.jsx(Hr.Sprite,{texture:S,width:Wm,height:$m,mask:d.current,interactive:s,buttonMode:s,pointerdown:r,filters:s?[]:[_]},i),Gt.jsx(Hr.Graphics,{ref:d,draw:b=>{b.clear(),b.beginFill(16777215),b.drawRoundedRect(0,0,Wm,$m,10),b.endFill()}}),a&&Gt.jsx(Hr.Text,{text:a,x:Wm/2,y:$m/2,anchor:.5,style:new Jn({fill:a==="0$"?"#FF0000":"#008000",fontSize:50,fontWeight:"bold",dropShadow:!0,dropShadowColor:"#ffffff",dropShadowAngle:0,dropShadowBlur:3,dropShadowDistance:0})},i)]})},uC=Lt.forwardRef(({x:i,y:e,isActive:t,onChestClick:r},s)=>{const[g,_]=Lt.useState(Array(6).fill("")),[w,S]=Lt.useState(Array(2*3).fill(!0));return Lt.useImperativeHandle(s,()=>({resetTexts:()=>{_(Array(2*3).fill("")),S(Array(2*3).fill(!0))},revealChest:(b,A)=>{const I=[...g];I[b]=A,_(I);const P=[...w];P[b]=!1,S(P)}})),Gt.jsx(Hr.Container,{x:i,y:e,children:Array.from({length:2*3},(b,A)=>{const I=A%3,P=Math.floor(A/3);return Gt.jsx(lC,{x:I*275,y:P*200,label:g[A],isClicked:!w[A],isActive:t&&w[A],onClick:()=>{t&&w[A]&&r(A)}},A)})})}),o_=200,a_=50,hC=({onClick:i,isActive:e})=>{const t=Lt.useRef(),r=(s,a=e?3394611:8421504)=>{s.clear(),s.beginFill(a),s.drawRoundedRect(0,0,o_,a_,12),s.endFill()};return Gt.jsxs(Hr.Container,{children:[Gt.jsx(Hr.Graphics,{ref:t,interactive:e,buttonMode:e,pointerdown:i,pointerover:e?()=>r(t.current,5631573):null,pointerout:e?()=>r(t.current,3394611):null,draw:s=>r(s)}),Gt.jsx(Hr.Text,{text:"Play",x:o_/2,y:a_/2,anchor:.5,style:new Jn({fill:"#ffffff",fontSize:16,fontWeight:"bold"})})]})},cC=({x:i,y:e,onReset:t,isActive:r})=>Gt.jsx(Hr.Container,{x:i,y:e,children:Gt.jsx(hC,{onClick:t,isActive:r})}),dC=({x:i=100,y:e=100,onConfirm:t,countTo:r=1e3})=>{const[s,a]=Lt.useState(0);return Lt.useEffect(()=>{const d=performance.now(),m=g=>{const _=g-d,w=Math.min(_/3e3,1),S=Math.floor(w*r);a(S),w<1&&requestAnimationFrame(m)};requestAnimationFrame(m)},[r]),Gt.jsxs(Hr.Container,{x:i,y:e,children:[Gt.jsx(Hr.Graphics,{draw:c=>{c.clear(),c.beginFill(0,.8),c.drawRoundedRect(0,0,600,400,20),c.endFill()}}),Gt.jsx(Hr.Text,{text:" Bonus Win!",x:300,y:100,anchor:.5,style:new Jn({fill:"#ffffff",fontSize:50,fontWeight:"bold"})}),Gt.jsx(Hr.Text,{text:`$${s}`,x:300,y:200,anchor:.5,style:new Jn({fill:"#ffff66",fontSize:32,fontWeight:"bold"})}),Gt.jsx(Hr.Graphics,{visible:s===1e3,interactive:!0,buttonMode:!0,pointerdown:t,draw:c=>{c.clear(),c.beginFill(4474026),c.drawRoundedRect(200,300,200,50,10),c.endFill()}}),Gt.jsx(Hr.Text,{visible:s===1e3,text:"OK",x:300,y:325,anchor:.5,style:new Jn({fill:"#ffffff",fontSize:16,fontWeight:"bold"}),interactive:!0,buttonMode:!0,pointerdown:t})]})},fC={chestClosed:"chest_closed.jpg",chestWin:"chest_won.jpg",chestLoss:"chest_loss.jpg",background:"background.jpg"},pC=async()=>dc.load(Object.values(fC));function mC(){const i=Math.random();return i<.5?"0$":i<.7?"20$":i<.9?"50$":"BonusWin"}const gC=()=>{const i=Lt.useRef(),[e,t]=Lt.useState(!1),[r,s]=Lt.useState(!1),[a,c]=Lt.useState(!0),[d,m]=Lt.useState({visible:!1,chestIndex:null,message:""}),[g,_]=Lt.useState(0);Lt.useEffect(()=>{pC().then(()=>t(!0))},[]);const w=()=>{var b;(b=i.current)==null||b.resetTexts(),_(0),s(!0),c(!1)},S=b=>{var P;if(!r)return;const A=mC();(P=i.current)==null||P.revealChest(b,A);const I=g+1;_(I),I===6&&(c(!0),s(!1)),A==="BonusWin"&&m({visible:!0,chestIndex:null,message:"Bonus Win! Congratulations!",countTo:1e3})};return e?Gt.jsxs(Hr.Stage,{width:800,height:600,options:{backgroundAlpha:0},children:[Gt.jsx(Hr.Sprite,{image:"/background.jpg",x:0,y:0,width:800,height:600}),Gt.jsx(uC,{ref:i,x:50,y:50,isActive:r,onChestClick:S}),Gt.jsx(cC,{x:300,y:450,onReset:w,isActive:a}),d.visible&&Gt.jsx(dC,{message:d.message,onConfirm:()=>m({visible:!1}),countTo:d.countTo})]}):Gt.jsx("div",{children:"Loading..."})};P1.createRoot(document.getElementById("root")).render(Gt.jsx(Cs.StrictMode,{children:Gt.jsx(gC,{})}))});export default yC();
